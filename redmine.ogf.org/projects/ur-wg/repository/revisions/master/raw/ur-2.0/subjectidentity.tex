% !TeX root = draft-ur-v2.tex

\section{SubjectIdentityBlock}

This block contains the properties related to the identity of the subject accounted for. 

There are many ways to identify a subject or a group and it depends on the infrastructure used. Thus, all fields in this block are optional. 
A community that wants to exchange usage information has to decide 
on a particular identification.
This should be reflected in a community specific profile associated with this block that defines at least one field that must be present.

\begin{XMLexample}
<ur:SubjectIdentityBlock>
<!â€” Identity properties go in here -->
</ur:SubjectIdentityBlock> 
\end{XMLexample}



%%%%%%%%%%%%%%%



\subsection{LocalUserId}

The local identity of the user accountable for the resource consumption (e.g., the Unix user).
\begin{itemize}
\item \emph{LocalUserId} MUST be a string.
\end{itemize}

\begin{XMLexample}
<ur:LocalUserId>"johndoe"</ur:LocalUserId> 
\end{XMLexample}



%%%%%%%%%%%%%%%



\subsection{LocalGroupId}

The local group accountable for the resource consumption (e.g., Unix group).
\begin{itemize}
\item \emph{LocalGroupId} MUST be a string.
\end{itemize}

\begin{XMLexample}
<ur:LocalGroupId>"projectA"</ur:LocalGroupId> 
\end{XMLexample}



%%%%%%%%%%%%%%%



\subsection{GlobalUserId}

The global identity of the user accountable for the resource consumption. The property should identify the user globally, such that clashes do not happen accidentally, e.g. it could be an X500 identity.
\begin{itemize}
\item \emph{GlobalUserId} MUST be a string.
\end{itemize}

\begin{XMLexample}
<ur:GlobalUserId>"/O=Grid/OU=example.org/CN=John Doe"</ur:GlobalUserId>
\end{XMLexample}



%%%%%%%%%%%%%%%



\subsection{GlobalGroupId}

The global group accountable for the resource consumption. The property should identify the group globally, such that clashes do not happen accidentally, e.g. using a Fully Qualified Domain Name (FQDN) to construct it. In a Grid context, this would typically be the name of the Virtual Organization (VO).
\begin{itemize}
\item \emph{GlobalGroupId} MUST be a string.
\end{itemize}

\begin{XMLexample}
<ur:GlobalGroupId>"binarydataproject.example.org"</ur:GlobalGroupId>
\end{XMLexample}



%%%%%%%%%%%%%%%



\subsection{GlobalGroupAttribute}

Supplemental traits of the group property, e.g., a sub-group, role or authority. This makes it possible to account for segments of a group, while still being able to account for the group as a whole. 
The attribute \emph{type} denotes the type of the group property. 

\begin{itemize}
\item \emph{GlobalGroupAttribute} MAY be present multiple times.
\item \emph{GlobalGroupAttribute} MUST be a string.
\item If \emph{GlobalGroupAttribute} is specified, \emph{GlobalGroupId} MUST be present.
\item If \emph{GlobalGroupAttribute} is specified, the attribute \emph{type} MUST exist.
\item The attribute \emph{type} MUST be a string.
\end{itemize}

\begin{XMLexample}
<ur:GlobalGroupAttribute ur:type="subgroup">ukusers</ur:GlobalGroupAttribute>
\end{XMLexample}
