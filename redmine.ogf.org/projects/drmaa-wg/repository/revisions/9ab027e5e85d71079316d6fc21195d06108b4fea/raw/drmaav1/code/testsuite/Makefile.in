CC=@CC@
SO=@SO@
LIBS=@LIBS@
LDFLAGS=@LDFLAGS@
DEBUG=-g  
CFLAGS=@CFLAGS@ @CPPFLAGS@ @DEFS@ -I./ 

all : test_drmaa

test_drmaa: test_drmaa.c test_exit_helper test_kill_helper
	$(CC) $(DEBUG) $(CFLAGS) -o $@ test_drmaa.c $(LDFLAGS) $(LIBS)

test_exit_helper: test_exit_helper.c
	$(CC) $(DEBUG) $(CFLAGS) -o $@ test_exit_helper.c 

test_kill_helper: test_kill_helper.c
	$(CC) $(DEBUG) $(CFLAGS) -o $@ test_kill_helper.c 

clean:
	rm -f *.o test_drmaa test_exit_helper test_kill_helper *~ config.log 
	rm -rf autom4te.cache

srcdist:
	tar cvfz test_drmaa_src.tgz Makefile.in config.h.in configure configure.in *.c 

distclean: clean
	rm -f config.h config.status Makefile

alltestsrun: test_drmaa
	./test_drmaa ALL_AUTOMATED /bin/sleep ./test_exit_helper ./test_kill_helper $(USER) 
