<% content_for :header_tags do %>
    <%= stylesheet_link_tag 'openid' %>
    <%= javascript_include_tag 'openid' %>
    <%= javascript_include_tag 'openid-selector/js/openid-en' %>
    <script type="text/javascript">
            document.observe('dom:loaded', function() {
                openid.img_path = "javascripts/openid-selector/images/";
                openid.init('openid_url');
            });
    </script>
<% end %>

<%= call_hook :view_account_login_top %>
<div id="login-form">
<% form_tag({:action=> "login"}) do %>
<%= back_url_hidden_field_tag %>
<table>
<tr>
    <td align="right"><label for="username"><%=l(:field_login)%>:</label></td>
    <td align="left"><%= text_field_tag 'username', nil, :tabindex => '1' %></td>
</tr>
<tr>
    <td align="right"><label for="password"><%=l(:field_password)%>:</label></td>
    <td align="left"><%= password_field_tag 'password', nil, :tabindex => '2' %></td>
</tr>
<% if Setting.openid? %>
<tr>
  <!--
  <td align="right"><label for="openid_url"><%=l(:field_identity_url)%></label></td>
  <td align="left"><%= text_field_tag "openid_url", nil, :tabindex => '3' %></td>
  <br />
  -->
  <td colspan="2">
    <table>
      <tbody id="openid_choice">
        <tr><td id="openid_btns">      </td></tr>
        <tr><td id="openid_input_area"></td></tr>
      </tbody>
    </table>
  </td>
</tr>
<% end %>
<tr>
    <td></td>
    <td align="left">
        <% if Setting.autologin? %>
        <label for="autologin"><%= check_box_tag 'autologin', 1, false, :tabindex => 4 %> <%= l(:label_stay_logged_in) %></label>
        <% end %>
    </td>
</tr>
<tr>
    <td align="left">
        <% if Setting.lost_password? %>
            <%= link_to l(:label_password_lost), :controller => 'account', :action => 'lost_password' %>
        <% end %>
    </td>
    <td align="right">
        <input type="submit" name="login" value="<%=l(:button_login)%> &#187;" tabindex="5"/>
    </td>
</tr>
</table>
<%= javascript_tag "Form.Element.focus('username');" %>
<% end %>
</div>
<%= call_hook :view_account_login_bottom %>
