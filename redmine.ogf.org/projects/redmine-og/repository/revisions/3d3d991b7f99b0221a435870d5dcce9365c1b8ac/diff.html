<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from redmine.ogf.org/projects/redmine-og/repository/revisions/3d3d991b7f99b0221a435870d5dcce9365c1b8ac/diff by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Sep 2022 22:40:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>/ - Diff - Redmine - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="7RiXtn8JMoxXZTBSrtL64n0O2gGmxf69GTM4qjOvQSI="/>
<link rel='shortcut icon' href='https://redmine.ogf.org/favicon.ico?1425381960' />
<link href="https://redmine.ogf.org/themes/ogf_redmine/stylesheets/application.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="https://redmine.ogf.org/javascripts/prototype.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/effects.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/dragdrop.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/controls.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/application.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="https://redmine.ogf.org/plugin_assets/extended_fields/stylesheets/extended_fields.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="https://redmine.ogf.org/plugin_assets/wiking/stylesheets/wiking.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

<link href="https://redmine.ogf.org/stylesheets/scm.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Ogf redmine controller-repositories action-diff">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login" class="login">Login</a></li>
<li><a href="https://redmine.ogf.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="https://redmine.ogf.org/" class="home">Home</a></li>
<li><a href="https://redmine.ogf.org/projects" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/redmine-og" method="get">
        <input name="changesets" type="hidden" value="1" />
        <label for='q'>
          <a href="https://redmine.ogf.org/search/index/redmine-og" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="https://redmine.ogf.org/projects/operations?jump=repository" class="root">Operations</a> » <a href="https://redmine.ogf.org/projects/it-og?jump=repository" class="ancestor">IT</a> » Redmine</h1>

    
    <div id="main-menu">
        <ul><li><a href="https://redmine.ogf.org/projects/redmine-og" class="overview">Overview</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/issues" class="issues">Issues</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/issues/calendar" class="calendar">Calendar</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/news" class="news">News</a></li>
<li><a href="https://redmine.ogf.org/dmsf/redmine-og" class="dmsf">Documents</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/wiki" class="wiki">Wiki</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/files" class="files">Files</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/repository" class="repository selected">Repository</a></li></ul>
    </div>
    
</div>

<div class="nosidebar" id="main">
    <div id="sidebar">
        
        
  
  


    </div>

    <div id="content">
        
        <h2>Revision 3d3d991b </h2>

<!-- Choose view type -->
<form action="https://redmine.ogf.org/projects/redmine-og/repository/diff" method="get">
  <input id="rev" name="rev" type="hidden" value="3d3d991b7f99b0221a435870d5dcce9365c1b8ac" />
  
  <p>
    <label>View differences</label>
    <select id="type" name="type" onchange="if (this.value != '') {this.form.submit()}"><option value="inline" selected="selected">inline</option>
<option value="sbs">side by side</option></select>
  </p>
</form>


<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/Rakefile
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre># Add your own tasks in files placed in lib/tasks ending in .rake,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre># for example lib/tasks/switchtower.rake, and they will automatically be available to Rake.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>require 'rubygems'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>require 'inifile'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>require(File.join(File.dirname(__FILE__), 'config', 'boot'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>require 'rake'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/controllers/admin_controller.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">73</th>
  <th class="line-num">73</th>
  <td class="line-code ">
    <pre>  def info
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">74</th>
  <th class="line-num">74</th>
  <td class="line-code ">
    <pre>    @db_adapter_name = ActiveRecord::Base.connection.adapter_name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">75</th>
  <th class="line-num">75</th>
  <td class="line-code ">
    <pre>    @checklist = [
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">76</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      [:text_default_administrator_account_changed, User.default_admin_account_changed?],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>      [:text_default_administrator_account_changed,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>          User.find(:first,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>                    :conditions =&gt; [&quot;login=? and hashed_password=?&quot;, 'admin', User.hash_password('admin')]).nil?],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">77</th>
  <th class="line-num">79</th>
  <td class="line-code ">
    <pre>      [:text_file_repository_writable, File.writable?(Attachment.storage_path)],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">78</th>
  <th class="line-num">80</th>
  <td class="line-code ">
    <pre>      [:text_plugin_assets_writable,   File.writable?(Engines.public_directory)],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">79</th>
  <th class="line-num">81</th>
  <td class="line-code ">
    <pre>      [:text_rmagick_available,        Object.const_defined?(:Magick)]
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/models/mailer.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">354</th>
  <th class="line-num">354</th>
  <td class="line-code ">
    <pre>                                          :conditions =&gt; s.conditions
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">355</th>
  <th class="line-num">355</th>
  <td class="line-code ">
    <pre>                                    ).group_by(&amp;:assigned_to)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">356</th>
  <th class="line-num">356</th>
  <td class="line-code ">
    <pre>    issues_by_assignee.each do |assignee, issues|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">357</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      deliver_reminder(assignee, issues, days) if assignee<span>.is_a?(User)</span> &amp;&amp; assignee.active?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">357</th>
  <td class="line-code diff_in">
    <pre>      deliver_reminder(assignee, issues, days) if assignee<span></span> &amp;&amp; assignee.active?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">358</th>
  <th class="line-num">358</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">359</th>
  <th class="line-num">359</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">360</th>
  <th class="line-num">360</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/models/message.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">37</th>
  <th class="line-num">37</th>
  <td class="line-code ">
    <pre>                            :author_key =&gt; :author_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">38</th>
  <th class="line-num">38</th>
  <td class="line-code ">
    <pre>  acts_as_watchable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">39</th>
  <th class="line-num">39</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>  attr_protected :locked, :sticky
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">40</th>
  <th class="line-num">41</th>
  <td class="line-code ">
    <pre>  validates_presence_of :board, :subject, :content
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">41</th>
  <th class="line-num">42</th>
  <td class="line-code ">
    <pre>  validates_length_of :subject, :maximum =&gt; 255
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">42</th>
  <th class="line-num">43</th>
  <td class="line-code ">
    <pre>  validate :cannot_reply_to_locked_topic, :on =&gt; :create
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">49</th>
  <th class="line-num">50</th>
  <td class="line-code ">
    <pre>                                          :conditions =&gt; Project.allowed_to_condition(args.shift || User.current, :view_messages, *args) } }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">50</th>
  <th class="line-num">51</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">51</th>
  <th class="line-num">52</th>
  <td class="line-code ">
    <pre>  safe_attributes 'subject', 'content'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">52</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  safe_attributes 'locked', 'sticky',<span> 'board_id',</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>  safe_attributes 'locked', 'sticky',<span></span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">53</th>
  <th class="line-num">54</th>
  <td class="line-code ">
    <pre>    :if =&gt; lambda {|message, user|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">54</th>
  <th class="line-num">55</th>
  <td class="line-code ">
    <pre>      user.allowed_to?(:edit_messages, message.project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">55</th>
  <th class="line-num">56</th>
  <td class="line-code ">
    <pre>    }
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/models/user.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">343</th>
  <th class="line-num">343</th>
  <td class="line-code ">
    <pre>    find(:first, :conditions =&gt; [&quot;LOWER(mail) = ?&quot;, mail.to_s.downcase])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">344</th>
  <th class="line-num">344</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">345</th>
  <th class="line-num">345</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">346</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  # Returns true if the default admin account can no longer be used
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">347</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def self.default_admin_account_changed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">348</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    !User.active.find_by_login(&quot;admin&quot;).try(:check_password?, &quot;admin&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">349</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">350</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">351</th>
  <th class="line-num">346</th>
  <td class="line-code ">
    <pre>  def to_s
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">352</th>
  <th class="line-num">347</th>
  <td class="line-code ">
    <pre>    name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">353</th>
  <th class="line-num">348</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/account/register.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">6</th>
  <td class="line-code ">
    <pre>&lt;div class=&quot;box&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>&lt;!--[form:user]--&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>&lt;B&gt;To register for an OGF redmine account, please use '[FirstName].[LastName]' as login ID.  &lt;/B&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>&lt;B&gt;Note that the OGF stuff will have to confirm the registration - so please allow for one business day.  &lt;/B&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>&lt;B&gt;By registering an account to OGFs Redmine installation you accept the OGF IPR policy.  &lt;/B&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">19</th>
  <td class="line-code ">
    <pre>&lt;% if @user.auth_source_id.nil? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">20</th>
  <td class="line-code ">
    <pre>&lt;p&gt;&lt;label for=&quot;user_login&quot;&gt;&lt;%=l(:field_login)%&gt; &lt;span class=&quot;required&quot;&gt;*&lt;/span&gt;&lt;/label&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">21</th>
  <td class="line-code ">
    <pre>&lt;%= text_field 'user', 'login', :size =&gt; 25 %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/bin/redmine_install_plugin.sh
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>#!/bin/sh
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>sudo -u www-data X_DEBIAN_SITEID=default RAILS_ENV=production rake db:migrate:plugins
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>sudo /etc/init.d/apache2 restart
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/bin/redmine_uninstall_plugin.sh
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>#!/bin/bash -x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>PLUGIN=$*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>REDMINE_ROOT=/var/www/redmine
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>if test &quot;$PLUGIN&quot; == &quot;&quot;; then
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  echo &quot;usage: $0 &lt;plugin_name&gt;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  exit 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>fi
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>echo &quot;removing plugin '$PLUGIN'&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>if ! test -d $REDMINE_ROOT/vendor/plugins/&quot;$PLUGIN&quot;; then
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  echo &quot;no such plugin: $PLUGIN&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  exit 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>fi
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>sudo -u www-data rake db:migrate_plugins PLUGIN=&quot;$PLUGIN&quot; VERSION=0 RAILS_ENV=production
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>sudo -u www-data mkdir -p $REDMINE_ROOT/vendor/plugins.inactive
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>sudo -u www-data mv $REDMINE_ROOT/vendor/plugins/&quot;$PLUGIN&quot; $REDMINE_ROOT/vendor/plugins.inactive/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>sudo /etc/init.d/apache2 restart
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/config/locales/nl.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">399</th>
  <th class="line-num">399</th>
  <td class="line-code ">
    <pre>  label_f_hour_plural: &quot;%{value} uren&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">400</th>
  <th class="line-num">400</th>
  <td class="line-code ">
    <pre>  label_feed_plural: Feeds
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">401</th>
  <th class="line-num">401</th>
  <td class="line-code ">
    <pre>  label_feeds_access_key_created_on: &quot;RSS toegangssleutel %{value} geleden gemaakt.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">402</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  label_file_added: Be<span>stand</span> toegevoegd
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">402</th>
  <td class="line-code diff_in">
    <pre>  label_file_added: Be<span>richt</span> toegevoegd
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">403</th>
  <th class="line-num">403</th>
  <td class="line-code ">
    <pre>  label_file_plural: Bestanden
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">404</th>
  <th class="line-num">404</th>
  <td class="line-code ">
    <pre>  label_filter_add: Voeg filter toe
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">405</th>
  <th class="line-num">405</th>
  <td class="line-code ">
    <pre>  label_filter_plural: Filters
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/config/locales/zh.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1002</th>
  <th class="line-num">1002</th>
  <td class="line-code ">
    <pre>  label_child_revision: 子修订
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1003</th>
  <th class="line-num">1003</th>
  <td class="line-code ">
    <pre>  error_scm_annotate_big_text_file: 输入文本内容超长，无法输入。
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1004</th>
  <th class="line-num">1004</th>
  <td class="line-code ">
    <pre>  setting_default_issue_start_date_to_creation_date: 使用当前日期作为新问题的开始日期
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1005</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  button_edit_section: 编辑此区域
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1006</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  setting_repositories_encodings: 附件和版本库编码
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1007</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  description_all_columns: 所有列
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1008</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  button_export: 导出
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1009</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  label_export_options: &quot;%{export_format} 导出选项&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1010</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  error_attachment_too_big: 该文件无法上传。超过文件大小限制 (%{max_size})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1005</th>
  <td class="line-code diff_in">
    <pre>  button_edit_section: Edit this section
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1006</th>
  <td class="line-code diff_in">
    <pre>  setting_repositories_encodings: Attachments and repositories encodings
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1007</th>
  <td class="line-code diff_in">
    <pre>  description_all_columns: All Columns
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1008</th>
  <td class="line-code diff_in">
    <pre>  button_export: Export
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1009</th>
  <td class="line-code diff_in">
    <pre>  label_export_options: &quot;%{export_format} export options&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1010</th>
  <td class="line-code diff_in">
    <pre>  error_attachment_too_big: This file cannot be uploaded because it exceeds the maximum allowed file size (%{max_size})
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/doc/CHANGELOG
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>Copyright (C) 2006-2012  Jean-Philippe Lang
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>http://www.redmine.org/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">6</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>== 2012-04-14 v1.3.3
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>* Defect #10505: Error when exporting to PDF with NoMethodError (undefined method `downcase' for nil:NilClass)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>* Defect #10554: Defect symbols when exporting tasks in pdf
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>* Defect #10564: Unable to change locked, sticky flags and board when editing a message
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>* Defect #10591: Dutch &quot;label_file_added&quot; translation is wrong
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>* Defect #10622: &quot;Default administrator account changed&quot; is always true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">14</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>* Patch #10555: rake redmine:send_reminders aborted if issue assigned to group
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">15</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>* Patch #10611: Simplified Chinese translations for 1.3-stable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">16</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">17</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>== 2012-03-11 v1.3.2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">18</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">19</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>* Defect #8194: {{toc}} uses identical anchors for subsections with the same name
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/lib/redmine/version.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>  module VERSION #:nodoc:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>    MAJOR = 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">6</th>
  <td class="line-code ">
    <pre>    MINOR = 3
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    TINY  = <span>3</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    TINY  = <span>2</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>    # Branch values:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">10</th>
  <td class="line-code ">
    <pre>    # * official release: nil
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/themes/ogf_redmine/stylesheets/application.css
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>@import url(../../../stylesheets/application.css);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>body{ color:#303030; background:#e8eaec; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>#top-menu { font-size: 80%; height: 2em; padding-top: 0.5em; background-color: #578bb8; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>#top-menu a { font-weight: bold; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>#header { background: #467aa7 url(../images/OGF_Logo_small.png) no-repeat 0px; height:5.8em; padding: 9px 0 0 175px; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>#header h1 { margin-left: 6px; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>#quick-search { margin-right: 6px; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>#main-menu { background-color: #578bb8; left: 0; border-top: 1px solid #fff; width: 100%; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>#main-menu li { margin: 0; padding: 0; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>#main-menu li a { background-color: #578bb8; border-right: 1px solid #fff; font-size: 90%; padding: 4px 8px 4px 8px; font-weight: bold; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>#main-menu li a:hover { background-color: #80b0da; color: #ffffff; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>#main-menu li a.selected, #main-menu li a.selected:hover { background-color: #80b0da; color: #ffffff; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>#footer { background-color: #578bb8; border: 0; color: #fff;}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>#footer a { color: #fff; font-weight: bold; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>#main { font:90% Verdana,Tahoma,Arial,sans-serif; background: #e8eaec; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>#main a { font-weight: bold; color: #467aa7;}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>#main a:hover { color: #2a5a8a; text-decoration: underline; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>#content { background: #fff; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>#content .tabs ul { bottom:-1px; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>h2, h3, h4, .wiki h1, .wiki h2, .wiki h3 { border-bottom: 0px; color:#606060; font-family: Trebuchet MS,Georgia,&quot;Times New Roman&quot;,serif; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>h2, .wiki h1 { letter-spacing:-1px; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>h4 { border-bottom: dotted 1px #c0c0c0; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>#top-menu a.home, #top-menu a.my-page, #top-menu a.projects, #top-menu a.administration, #top-menu a.help { 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>    background-position: 0% 40%;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>    background-repeat: no-repeat;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>    padding-left: 20px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>    padding-top: 2px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    padding-bottom: 3px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>#top-menu a.home { background-image: url(../images/home.png); }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>#top-menu a.my-page { background-image: url(../../../images/user.png); }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>#top-menu a.projects { background-image: url(../../../images/projects.png); }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>#top-menu a.administration { background-image: url(../images/wrench.png); }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>#top-menu a.help { background-image: url(../../../images/help.png); }
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/functional/messages_controller_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">131</th>
  <th class="line-num">131</th>
  <td class="line-code ">
    <pre>    assert_equal 'New body', message.content
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">132</th>
  <th class="line-num">132</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">133</th>
  <th class="line-num">133</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">134</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def test_post_edit_sticky_and_locked
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">135</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    @request.session[:user_id] = 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">136</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    post :edit, :board_id =&gt; 1, :id =&gt; 1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">137</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                :message =&gt; { :subject =&gt; 'New subject',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">138</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                              :content =&gt; 'New body',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">139</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                              :locked =&gt; '1',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">140</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                              :sticky =&gt; '1'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">141</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_redirected_to '/boards/1/topics/1'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">142</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    message = Message.find(1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">143</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_equal true, message.sticky?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">144</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_equal true, message.locked?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">145</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">146</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">147</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def test_post_edit_should_allow_to_change_board
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">148</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    @request.session[:user_id] = 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">149</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    post :edit, :board_id =&gt; 1, :id =&gt; 1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">150</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                :message =&gt; { :subject =&gt; 'New subject',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">151</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                              :content =&gt; 'New body',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">152</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                              :board_id =&gt; 2}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">153</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_redirected_to '/boards/2/topics/1'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">154</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    message = Message.find(1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">155</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_equal Board.find(2), message.board
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">156</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">157</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">158</th>
  <th class="line-num">134</th>
  <td class="line-code ">
    <pre>  def test_reply
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">159</th>
  <th class="line-num">135</th>
  <td class="line-code ">
    <pre>    @request.session[:user_id] = 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">160</th>
  <th class="line-num">136</th>
  <td class="line-code ">
    <pre>    post :reply, :board_id =&gt; 1, :id =&gt; 1, :reply =&gt; { :content =&gt; 'This is a test reply', :subject =&gt; 'Test reply' }
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/unit/user_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">574</th>
  <th class="line-num">574</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">575</th>
  <th class="line-num">575</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">576</th>
  <th class="line-num">576</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">577</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def test_default_admin_account_changed_should_return_false_if_account_was_not_changed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">578</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user = User.find_by_login(&quot;admin&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">579</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.password = &quot;admin&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">580</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.save!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">581</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">582</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_equal false, User.default_admin_account_changed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">583</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">584</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">585</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def test_default_admin_account_changed_should_return_true_if_password_was_changed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">586</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user = User.find_by_login(&quot;admin&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">587</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.password = &quot;newpassword&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">588</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.save!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">589</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">590</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_equal true, User.default_admin_account_changed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">591</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">592</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">593</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def test_default_admin_account_changed_should_return_true_if_account_is_disabled
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">594</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user = User.find_by_login(&quot;admin&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">595</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.password = &quot;admin&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">596</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.status = User::STATUS_LOCKED
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">597</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.save!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">598</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">599</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_equal true, User.default_admin_account_changed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">600</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">601</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">602</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def test_default_admin_account_changed_should_return_true_if_account_does_not_exist
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">603</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user = User.find_by_login(&quot;admin&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">604</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    user.destroy
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">605</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">606</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_equal true, User.default_admin_account_changed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">607</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">608</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">609</th>
  <th class="line-num">577</th>
  <td class="line-code ">
    <pre>  def test_roles_for_project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">610</th>
  <th class="line-num">578</th>
  <td class="line-code ">
    <pre>    # user with a role
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">611</th>
  <th class="line-num">579</th>
  <td class="line-code ">
    <pre>    roles = @jsmith.roles_for_project(Project.find(1))
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins.inactive/wiki-to-overview
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>Subproject commit 4473ba24307f4804e668ff1abfe8f81e826e838a
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/.loadpath
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;loadpath&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	&lt;pathentry path=&quot;&quot; type=&quot;src&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	&lt;pathentry path=&quot;org.rubypeople.rdt.launching.RUBY_CONTAINER&quot; type=&quot;con&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;/loadpath&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/.project
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;projectDescription&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	&lt;name&gt;redmine-gitosis&lt;/name&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	&lt;comment&gt;&lt;/comment&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;projects&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;/projects&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;buildSpec&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>		&lt;buildCommand&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>			&lt;name&gt;org.rubypeople.rdt.core.rubybuilder&lt;/name&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>			&lt;arguments&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>			&lt;/arguments&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>		&lt;/buildCommand&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	&lt;/buildSpec&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>	&lt;natures&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		&lt;nature&gt;org.rubypeople.rdt.core.rubynature&lt;/nature&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	&lt;/natures&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>&lt;/projectDescription&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/README.rdoc
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>= Redmine Gitosis
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>Note: This plugin has been tested to be compatible with Chiliproject 1.x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>A Redmine plugin which manages your gitosis configuration based on your projects and memberships in Redmine. Includes Public Key management views (extracted from http://plan.io).
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>This plugin was originally developed by Jan Schulz-Hofen for http://plan.io.  Several updates/fixes were provided by github users untoldwind, tingar and ericpaulbishop. These updates were merged together and expanded upon by Eric Bishop.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>In order to use this plugin you must have the following gems installed:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>lockfile
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>inifile
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>== Copyright &amp; License
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>Copyright (c) 2009-2010 Jan Schulz-Hofen, ROCKET RENTALS GmbH (http://www.rocket-rentals.de). MIT License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>Copyright (c) 2010 Eric Bishop (ericpaulbishop@gmail.com) MIT License.
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/controllers/gitosis_public_keys_controller.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class GitosisPublicKeysController &lt; ApplicationController
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  before_filter :require_login
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  before_filter :set_user_variable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  before_filter :find_gitosis_public_key, :except =&gt; [:index, :new, :create]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  def index
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    @status = if (session[:gitosis_public_key_filter_status]=params[:status]).nil?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>      GitosisPublicKey::STATUS_ACTIVE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    elsif params[:status].blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>        nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    else 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>      params[:status].to_i != 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    c = ARCondition.new(@status ? [&quot;active=?&quot;, @status] : nil)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    @gitosis_public_keys = @user.gitosis_public_keys.all(:order =&gt; 'active DESC, created_at DESC', :conditions =&gt; c.conditions)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    respond_to do |format|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>      format.html # index.html.erb
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      format.json  { render :json =&gt; @gitosis_public_keys }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  def edit
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>  def update
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    if @gitosis_public_key.update_attributes(params[:public_key])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>      flash[:notice] = l(:notice_public_key_updated)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>      redirect_to url_for(:action =&gt; 'index', :status =&gt; session[:gitosis_public_key_filter_status])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>      render :action =&gt; 'edit'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>  def new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>    @gitosis_public_key = GitosisPublicKey.new(:user =&gt; @user)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  def create
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    @gitosis_public_key = GitosisPublicKey.new(params[:public_key].merge(:user =&gt; @user))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>    if @gitosis_public_key.save
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>      flash[:notice] = l(:notice_public_key_added)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>      redirect_to url_for(:action =&gt; 'index', :status =&gt; session[:gitosis_public_key_filter_status])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>      render :action =&gt; 'new'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>  def show
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>    respond_to do |format|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>      format.html # show.html.erb
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>      format.json { render :json =&gt; @gitosis_public_key }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>  protected
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>  def set_user_variable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>    @user = User.current
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>  def find_gitosis_public_key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>    key = GitosisPublicKey.find_by_id(params[:id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>    if key and key.user == @user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>      @gitosis_public_key = key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>    elsif key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>      render_403
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>      render_404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/helpers/gitosis_public_keys_helper.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>module GitosisPublicKeysHelper
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  def gitosis_public_keys_status_options_for_select(user, selected)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    key_count_by_active = user.gitosis_public_keys.count(:group =&gt; 'active').to_hash
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    options_for_select([[l(:label_all), nil], 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>                        [&quot;#{l(:status_active)} (#{key_count_by_active[true].to_i})&quot;, GitosisPublicKey::STATUS_ACTIVE],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>                        [&quot;#{l(:status_locked)} (#{key_count_by_active[false].to_i})&quot;, GitosisPublicKey::STATUS_LOCKED]], selected)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/models/gitosis_observer.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class GitosisObserver &lt; ActiveRecord::Observer
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  observe :project, :user, :gitosis_public_key, :member, :role, :repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>#  def before_create(object)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>#    if object.is_a?(Project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>#      repo = Repository::Git.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>#      repo.url = repo.root_url = File.join(Gitosis::GITOSIS_BASE_PATH,&quot;#{object.identifier}.git&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>#      object.repository = repo
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>#    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>#  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  def after_save(object) ; update_repositories(object) ; end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  def after_destroy(object) ; update_repositories(object) ; end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  protected
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>  def update_repositories(object)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    case object
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>      when Project then projects_need_update(object) if Setting.autofetch_changesets?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      when Repository then projects_need_update(object.project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>      when User then projects_need_update(object.projects) unless is_login_save?(object)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>      when GitosisPublicKey then projects_need_update(object.user.projects)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>      when Member then projects_need_update(object.project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>      when Role then projects_need_update(object.members.map(&amp;:project).uniq.compact)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  private
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>  # Mark project(s) as requiring a gitosis-admin update.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>  def projects_need_update(projects)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>    return if projects.nil? || Thread.current[:gitosis_project_updates].nil?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    Thread.current[:gitosis_project_updates] &lt;&lt; projects
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>    Thread.current[:gitosis_project_updates].flatten!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    Thread.current[:gitosis_project_updates].uniq!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>    Thread.current[:gitosis_project_updates].compact!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>  # Test for the fingerprint of changes to the user model when the User actually logs in.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  def is_login_save?(user)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    user.changed? &amp;&amp; user.changed.length == 2 &amp;&amp; user.changed.include?(&quot;updated_on&quot;) &amp;&amp; user.changed.include?(&quot;last_login_on&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/models/gitosis_public_key.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class GitosisPublicKey &lt; ActiveRecord::Base
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  STATUS_ACTIVE = true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  STATUS_LOCKED = false
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  belongs_to :user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  validates_uniqueness_of :title, :scope =&gt; :user_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  validates_uniqueness_of :identifier, :score =&gt; :user_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  validates_presence_of :title, :key, :identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  named_scope :active, {:conditions =&gt; {:active =&gt; GitosisPublicKey::STATUS_ACTIVE}}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  named_scope :inactive, {:conditions =&gt; {:active =&gt; GitosisPublicKey::STATUS_LOCKED}}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  validate :has_not_been_changed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  before_validation :set_identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  def has_not_been_changed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    unless new_record?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>      %w(identifier key user_id).each do |attribute|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>        errors.add(attribute, 'may not be changed') unless changes[attribute].blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  def set_identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    self.identifier ||= &quot;#{self.user.login.underscore}-#{self.title.underscore}-#{self.id}&quot;.gsub(/[^0-9a-zA-Z-_]/,'_')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  def to_s ; title ; end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/views/gitosis_public_keys/_form.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;div class=&quot;box tabular&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;&lt;%= f.text_field :title, :required =&gt; true %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;&lt;%= f.text_area :key, :required =&gt; true, :disabled =&gt; !@gitosis_public_key.new_record?, :style =&gt; 'width:99%;height:140px;', :label =&gt; :field_public_key %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>		&lt;% if !@gitosis_public_key.new_record?%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>		&lt;br/&gt;&lt;em&gt;&lt;%= l(:label_key_cannot_be_changed_please_create_new_key) %&gt;&lt;/em&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>		&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;&lt;%= f.check_box :active %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>&lt;/div&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/views/gitosis_public_keys/edit.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;h2&gt;&lt;%= link_to l(:label_public_keys), public_keys_path %&gt; &amp;#187; &lt;%= h @gitosis_public_key %&gt;&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;%= error_messages_for :gitosis_public_key %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;% form_for :public_key, @gitosis_public_key, :url =&gt; { :action =&gt; &quot;update&quot; }, :html =&gt; { :method =&gt; :put},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>                          :builder =&gt; TabularFormBuilder, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>                          :lang =&gt; current_language do |f| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	&lt;%= render :partial =&gt; 'form', :locals =&gt; { :f =&gt; f } %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;%= submit_tag l(:button_save) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>&lt;% content_for :sidebar do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>	&lt;%= render :partial =&gt; 'my/sidebar' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>&lt;% html_title(l(:label_public_keys)) -%&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/views/gitosis_public_keys/index.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;h2&gt;&lt;%= link_to l(:label_my_account), :controller =&gt; 'my', :action =&gt; 'account' %&gt; &amp;#187; &lt;%=l(:label_public_keys)%&gt;&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;% form_tag({}, :method =&gt; :get) do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;fieldset&gt;&lt;legend&gt;&lt;%= l(:label_filter_plural) %&gt;&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;label&gt;&lt;%= l(:field_status) %&gt;:&lt;/label&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>&lt;%= select_tag 'status', gitosis_public_keys_status_options_for_select(@user, @status), :class =&gt; &quot;small&quot;, :onchange =&gt; &quot;this.form.submit(); return false;&quot;  %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>&lt;%= submit_tag l(:button_apply), :class =&gt; &quot;small&quot;, :name =&gt; nil %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>&amp;nbsp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>&lt;% if @gitosis_public_keys.any? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>	&lt;table class=&quot;list&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>		&lt;tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>		    &lt;th&gt;&lt;%= l(:field_name) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		    &lt;th&gt;&lt;%= l(:field_created_on) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		    &lt;th style=&quot;width:15%;&quot;&gt;&lt;%= l(:field_active) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		    &lt;th align=&quot;center&quot; style=&quot;width:10%;&quot;&gt; &lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>		&lt;/tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>		&lt;% @gitosis_public_keys.each do |key| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		&lt;tr class=&quot;&lt;%= cycle('odd', 'even') %&gt;&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		    &lt;td&gt;&lt;%= link_to h(key), :action =&gt; 'edit', :id =&gt; key %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>			&lt;td&gt;&lt;%= format_time(key.created_at) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>		    &lt;td class=&quot;center&quot; style=&quot;width:15%;&quot;&gt;&lt;%= image_tag('true.png') if key.active? %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>		    &lt;td class=&quot;buttons&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>				      &lt;%= link_to l(key.active? ? :button_lock : :button_unlock), public_key_path(key, :public_key =&gt; {:active =&gt; key.active? ? GitosisPublicKey::STATUS_LOCKED : GitosisPublicKey::STATUS_ACTIVE}), :method =&gt; :put, :class =&gt; &quot;icon #{key.active? ? 'icon-lock' : 'icon-unlock'}&quot; %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>		    &lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>		&lt;/tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>		&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	&lt;/table&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;&lt;%= link_to l(:label_enumeration_new), { :action =&gt; 'new'} %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>&lt;% html_title(l(:label_public_keys)) -%&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/views/gitosis_public_keys/new.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;h2&gt;&lt;%= link_to l(:label_public_keys), public_keys_path %&gt; &amp;#187; &lt;%=l(:label_public_key_new)%&gt;&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;%= error_messages_for :gitosis_public_key %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;% form_for :public_key, @gitosis_public_key, :url =&gt; { :action =&gt; &quot;create&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>                          :builder =&gt; TabularFormBuilder, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>                          :lang =&gt; current_language do |f| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	&lt;%= render :partial =&gt; 'form', :locals =&gt; { :f =&gt; f } %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;%= submit_tag l(:button_create) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>&lt;% content_for :sidebar do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>	&lt;%= render :partial =&gt; 'my/sidebar' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>&lt;% html_title(l(:label_public_keys)) -%&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/views/projects/_redmine_gitosis.rhtml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;% if @project.repository &amp;&amp; @project.repository.is_a?(Repository::Git) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;% repo_urls = Gitosis::get_urls(@project) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;div class=&quot;box&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    &lt;h3&gt;Git Repository&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    &lt;h4&gt;Developer URL&lt;/h4&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    &lt;ul&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>        &lt;% repo_urls[:developer].each do |url| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>        &lt;li&gt;&lt;%= url %&gt;&lt;/li&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>        &lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    &lt;/ul&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    &lt;h4&gt;Read-Only URL&lt;/h4&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    &lt;ul&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>        &lt;% repo_urls[:read_only].each do |url| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>        &lt;li&gt;&lt;%= url %&gt;&lt;/li&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>        &lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    &lt;/ul&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/views/repositories/git_instructions.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;% repo_urls = Gitosis::get_urls(@project) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;h2&gt;&lt;%= l(:label_repository)%&gt;&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;% html_title(l(:label_repository)) -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;%# This can be used to display basic git setup instructions, like on github... %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>&lt;% flash.now[:error] = &quot;Repository does not exist. Create one using the instructions below.&quot; %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>&lt;div class=&quot;box&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    &lt;h3&gt;Git setup:&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    &lt;p&gt;Download and install &lt;a href=&quot;http://git-scm.com/download&quot; target=&quot;_blank&quot;&gt;Git&lt;/a&gt;&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    &lt;div class=&quot;pygments&quot;&gt;&lt;pre&gt;git config --global user.name &quot;&lt;%= User.current %&gt;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>git config --global user.email &lt;%= User.current.mail %&gt;&lt;/pre&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    &lt;h3&gt;Permission Setup:&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    &lt;p&gt;&lt;%= link_to &quot;Upload SSH public key&quot;, {:controller =&gt; &quot;my&quot;, :action =&gt; &quot;public_keys&quot;} %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    &lt;p&gt;Add yourself as a project developer: &lt;%= link_to &quot;#{@project.name} Settings&quot;, {:controller =&gt; &quot;projects&quot;, :actions =&gt; &quot;settings&quot;} %&gt; -&amp;gt; Members Tab -&amp;gt; New Member&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    &lt;h3&gt;Repository Setup:&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    &lt;div class=&quot;pygments&quot;&gt;&lt;pre&gt;mkdir &lt;%= @project.identifier %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>cd &lt;%= @project.identifier %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>git init
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>touch README
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>git add README
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>git commit -m &quot;Initial commit&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>&lt;% repo_urls[:developer].each_with_index do |url, i| -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>git remote add origin &lt;%= Setting.plugin_redmine_gitosis['developerBaseUrls'] + Gitosis.repository_name(@project) + '.git' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>&lt;% if i != repo_urls[:developer].length - 1 -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    or&lt;% end -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>&lt;% end -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>git push origin master&lt;/pre&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>    &lt;h3&gt;Existing Git Repo?&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    &lt;div class=&quot;pygments&quot;&gt;&lt;pre&gt;cd existing_git_repo
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>&lt;% repo_urls[:developer].each_with_index do |url, i| -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>git remote add origin &lt;%= Setting.plugin_redmine_gitosis['developerBaseUrls'] + Gitosis.repository_name(@project) + '.git' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>&lt;% if i != repo_urls[:developer].length - 1 -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>    or&lt;% end -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>&lt;% end -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>git push origin master&lt;/pre&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>&lt;/div&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/app/views/settings/_redmine_gitosis.rhtml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;div class=&quot;tabular settings&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>		&lt;label&gt;&lt;%= l(:label_gitosis_url)%&gt;&lt;/label&gt; 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>		&lt;%= text_field_tag(&quot;settings[gitosisUrl]&quot;, @settings['gitosisUrl'], :size =&gt; 60) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>		&lt;br /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>		&lt;label&gt;&lt;%= l(:label_gitosis_identity_file)%&gt;&lt;/label&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>		&lt;%= text_field_tag(&quot;settings[gitosisIdentityFile]&quot;, @settings['gitosisIdentityFile'], :size =&gt; 60) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>		&lt;br /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>		&lt;label&gt;&lt;%= l(:label_base_path)%&gt;&lt;/label&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		&lt;%= text_field_tag(&quot;settings[basePath]&quot;, @settings['basePath'], :size =&gt; 60) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		&lt;br /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		&lt;label&gt;&lt;%= l(:label_developer_base_urls)%&gt;&lt;/label&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		&lt;%= text_area_tag(&quot;settings[developerBaseUrls]&quot;, @settings['developerBaseUrls'].split(/[\r\n\t ,;]+/).join(&quot;\n&quot;), :size =&gt; 60) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		&lt;br /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		&lt;label&gt;&lt;%= l(:label_read_only_base_urls)%&gt;&lt;/label&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		&lt;%= text_area_tag(&quot;settings[readOnlyBaseUrls]&quot;, @settings['readOnlyBaseUrls'].split(/[\r\n\t ,;]+/).join(&quot;\n&quot;), :size =&gt; 60) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>		&lt;br /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>		&lt;label&gt;&lt;%= l(:label_repo_name_custom_field)%&gt;&lt;/label&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>		&lt;%= select_tag(&quot;settings[repoNameCustomField]&quot;, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>		      '&lt;option value=&quot;&quot;&gt;(Select field)&lt;/option&gt;' + 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>		      options_from_collection_for_select(ProjectCustomField.find_all_by_field_format('string'), :id, :name, @settings['repoNameCustomField'].to_i)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>		&lt;br /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>		&lt;strong&gt;Warning!&lt;/strong&gt; Altering this field after repositories have already been created may result in undefined behaviour.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>	&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>&lt;/div&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/bg.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'bg':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/bs.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'bs':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/ca.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'ca':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/cs.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'cs':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/da.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'da':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/de.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'de':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Öffentliche Schlüssel 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: Neuer öffentlicher Schlüssel
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Schlüssel
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Öffentlicher Schlüssel wurde erfolgreich aktualisiert.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Öffentlicher Schlüssel wurde erfolgreich hinzugefügt.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre> 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre> 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'Der Schlüssel kann nicht mehr verändert werden. Sie können jedoch diesen Schlüssel deaktivieren und einen neuen anlegen.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': &quot;darf nicht verändert werden&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/el.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'el':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/en.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'en':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  label_repo_name_custom_field: Repository custom name field
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/es.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'es':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/fi.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'fi':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/fr.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'fr':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/gl.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'gl':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/he.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'he':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/hu.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'hu':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/id.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'id':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/it.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'it':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/ja.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'ja':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/ko.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'ko':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/lt.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'lt':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/nl.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'nl':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/no.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'no':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/pl.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'pl':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/pt-BR.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'pt-BR':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/pt.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'pt':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/ro.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'ro':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/ru.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'ru':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/sk.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'sk':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/sl.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'sl':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/sr.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'sr':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/sv.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'sv':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/th.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'th':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/tr.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'tr':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/uk.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'uk':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/vi.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'vi':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/zh-TW.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'zh-TW':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/locales/zh.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>'zh':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  label_public_keys: Public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  label_public_key_new: New public key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_url: Gitosis URL
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  label_gitosis_identity_file: Gitosis identity file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  label_base_path: Base path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  label_developer_base_urls: Developer base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  label_read_only_base_urls: Read-only base URL(s)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  field_public_key: Key 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_updated: Public key was successfully updated.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  notice_public_key_added: Public key was successfully added.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  label_key_cannot_be_changed_please_create_new_key: 'The key cannot be altered anymore. However, you can deactivate it and create a new one.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  activerecord:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    errors:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      messages:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        'may not be changed': 'may not be changed'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/config/routes.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>if defined? map
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  map.resources :public_keys, :controller =&gt; 'gitosis_public_keys', :path_prefix =&gt; 'my'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  ActionController::Routing::Routes.draw do |map|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    map.resources :public_keys, :controller =&gt; 'gitosis_public_keys', :path_prefix =&gt; 'my'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/db/migrate/20091119162427_create_gitosis_public_keys.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class CreateGitosisPublicKeys &lt; ActiveRecord::Migration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  def self.up
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    create_table :gitosis_public_keys do |t|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>      t.column :title, :string
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      t.column :identifier, :string
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      t.column :key, :text
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>      t.column :active, :boolean, :default =&gt; true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>      t.references :user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>      t.timestamps
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  def self.down
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    drop_table :gitosis_public_keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/init.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'redmine'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'principal'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'user'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'gitosis'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'gitosis/patches/application_controller_patch'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'gitosis/patches/repositories_controller_patch'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'gitosis/patches/repositories_helper_patch'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'gitosis/patches/git_adapter_patch'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>Redmine::Plugin.register :redmine_gitosis do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  name 'Redmine Gitosis plugin'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  author 'Jan Schulz-Hofen'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  description 'Enables Redmine to update a gitosis server.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  version '0.0.5alpha'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  settings :default =&gt; {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    'gitosisUrl' =&gt; 'gitosis@localhost:gitosis-admin.git',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    'gitosisIdentityFile' =&gt; '/srv/gitosis/.ssh/id_dsa',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    'developerBaseUrls' =&gt; 'gitosis@localhost:',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    'readOnlyBaseUrls' =&gt; 'http://xdissent.com/git/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    'basePath' =&gt; '/srv/gitosis/repositories/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    'repoNameCustomField' =&gt; 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    }, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    :partial =&gt; 'redmine_gitosis'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre># initialize hook
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>class GitosisPublicKeyHook &lt; Redmine::Hook::ViewListener
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  render_on :view_my_account_contextual, :inline =&gt; &quot;| &lt;%= link_to(l(:label_public_keys), public_keys_path) %&gt;&quot; 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>class GitosisProjectShowHook &lt; Redmine::Hook::ViewListener
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  render_on :view_projects_show_left, :partial =&gt; 'redmine_gitosis'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre># initialize association from user -&gt; public keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>User.send(:has_many, :gitosis_public_keys, :dependent =&gt; :destroy)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre># initialize observer
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>ActiveRecord::Base.observers = ActiveRecord::Base.observers &lt;&lt; GitosisObserver
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/lib/gitosis.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'lockfile'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>require 'inifile'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>module Gitosis
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  def self.repository_name(project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    parent_name = project.parent ? repository_name(project.parent) + &quot;/&quot; : &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    name = project.identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    custom_field = Setting.plugin_redmine_gitosis['repoNameCustomField']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    if custom_field
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>      custom_name = project.custom_values.detect {|c| c.custom_field_id == custom_field.to_i}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      name = custom_name.value unless custom_name.nil? || custom_name.value.empty?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    &quot;#{parent_name}#{name}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>  def self.get_urls(project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    urls = {:read_only =&gt; [], :developer =&gt; []}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    read_only_baseurls = Setting.plugin_redmine_gitosis['readOnlyBaseUrls'].split(/[\r\n\t ,;]+/)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    developer_baseurls = Setting.plugin_redmine_gitosis['developerBaseUrls'].split(/[\r\n\t ,;]+/)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    project_path = repository_name(project) + &quot;.git&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    read_only_baseurls.each {|baseurl| urls[:read_only] &lt;&lt; baseurl + project_path}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    developer_baseurls.each {|baseurl| urls[:developer] &lt;&lt; baseurl + project_path}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>    urls
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>  def self.update_repositories(projects)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    projects = (projects.is_a?(Array) ? projects : [projects])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>    if(defined?(@recursionCheck))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>      if(@recursionCheck)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>        return
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    @recursionCheck = true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>    # Don't bother doing anything if none of the projects we've been handed have a Git repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>    unless projects.detect{|p|  p.repository.is_a?(Repository::Git) }.nil?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>      lockfile=File.new(File.join(&quot;/tmp&quot;,'redmine_gitosis_lock'),File::CREAT|File::RDONLY)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>      retries=5
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>      loop do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>        break if lockfile.flock(File::LOCK_EX|File::LOCK_NB)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>        retries-=1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>        sleep 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>        raise Lockfile::MaxTriesLockError if retries&lt;=0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>      # HANDLE GIT
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>      # create tmp dir
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>      local_dir = File.join(&quot;/tmp&quot;,&quot;redmine_gitosis_#{Time.now.to_i}&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>      Dir.mkdir local_dir
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>      # Create GIT_SSH script
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>      ssh_with_identity_file = File.join(local_dir, 'ssh_with_identity_file.sh')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>      File.open(ssh_with_identity_file, &quot;w&quot;) do |f|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;#!/bin/sh&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;exec ssh -o stricthostkeychecking=no -i #{Setting.plugin_redmine_gitosis['gitosisIdentityFile']} \&quot;$@\&quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>      File.chmod(0755, ssh_with_identity_file)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>      # clone repo
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>      `env GIT_SSH=#{ssh_with_identity_file} git clone #{Setting.plugin_redmine_gitosis['gitosisUrl']} #{local_dir}/gitosis`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>      changed = false
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>      projects.select{|p| p.repository.is_a?(Repository::Git)}.each do |project|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>        # fetch users
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>        users = project.member_principals.map(&amp;:user).compact.uniq
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>        write_users = users.select{ |user| user.allowed_to?(:commit_access, project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>        read_users = users.select{ |user| user.allowed_to?(:view_changesets, project) &amp;&amp; !user.allowed_to?(:commit_access, project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>        # write key files
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>        users.map{|u| u.gitosis_public_keys.active}.flatten.compact.uniq.each do |key|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>          File.open(File.join(local_dir, 'gitosis/keydir',&quot;#{key.identifier}.pub&quot;), 'w') {|f| f.write(key.key.gsub(/\n/,'')) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>        # delete inactives
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>        users.map{|u| u.gitosis_public_keys.inactive}.flatten.compact.uniq.each do |key|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>          File.unlink(File.join(local_dir, 'gitosis/keydir',&quot;#{key.identifier}.pub&quot;)) rescue nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>        # write config file
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>        conf = IniFile.new(File.join(local_dir,'gitosis','gitosis.conf'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>        original = conf.clone
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>        name = repository_name(project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>        conf[&quot;group #{name}_readonly&quot;]['readonly'] = name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>        conf[&quot;group #{name}_readonly&quot;]['members'] = read_users.map{|u| u.gitosis_public_keys.active}.flatten.map{ |key| &quot;#{key.identifier}&quot; }.join(' ')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>        conf[&quot;group #{name}&quot;]['writable'] = name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>        conf[&quot;group #{name}&quot;]['members'] = write_users.map{|u| u.gitosis_public_keys.active}.flatten.map{ |key| &quot;#{key.identifier}&quot; }.join(' ')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>        # git-daemon support for read-only anonymous access
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>        if User.anonymous.allowed_to?( :view_changesets, project )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>          conf[&quot;repo #{name}&quot;]['daemon'] = 'yes'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>        else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>          conf[&quot;repo #{name}&quot;]['daemon'] = 'no'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>        unless conf.eql?(original)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>          conf.write 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>          changed = true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>      if changed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>        git_push_file = File.join(local_dir, 'git_push.sh')  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>        new_dir= File.join(local_dir,'gitosis')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>        File.open(git_push_file, &quot;w&quot;) do |f|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;#!/bin/sh&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;cd #{new_dir}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;git add keydir/* gitosis.conf&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;git config user.email '#{Setting.mail_from}'&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;git config user.name 'Redmine'&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;git commit -a -m 'updated by Redmine Gitosis'&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>          f.puts &quot;GIT_SSH=#{ssh_with_identity_file} git push&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>        File.chmod(0755, git_push_file)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>        # add, commit, push, and remove local tmp dir
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>        `#{git_push_file}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>      # remove local copy
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>      `rm -Rf #{local_dir}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>      lockfile.flock(File::LOCK_UN)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>    @recursionCheck = false
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/lib/gitosis/patches/application_controller_patch.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'application_controller'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>module Gitosis
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  module Patches
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    module ApplicationControllerPatch
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      def self.included(base)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>        base.class_eval do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>          unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>        base.send(:prepend_around_filter, :handle_gitosis_project_updates)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>      private
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      def handle_gitosis_project_updates
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>        Thread.current[:gitosis_project_updates]= []
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>        yield # Continue the filter chain.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>        if Thread.current[:gitosis_project_updates].length &gt; 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>          logger.info(&quot;Action needs to update Gitosis repositories&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>          Gitosis::update_repositories(Thread.current[:gitosis_project_updates])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>ApplicationController.send(:include, Gitosis::Patches::ApplicationControllerPatch) unless ApplicationController.include?(Gitosis::Patches::ApplicationControllerPatch)
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/lib/gitosis/patches/git_adapter_patch.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'redmine/scm/adapters/git_adapter'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>module Gitosis
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  module Patches
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    module GitAdapterPatch
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      def self.included(base)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        base.class_eval do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>          unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>        base.send(:alias_method_chain, :lastrev,   :time_fixed)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>        base.send(:alias_method_chain, :revisions, :time_fixed)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>        GIT_BIN = &quot;git&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>        def lastrev_with_time_fixed(path,rev)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>          return nil if path.nil?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>          cmd = &quot;#{GIT_BIN} --git-dir #{target('')} log --pretty=fuller --date=rfc --no-merges -n 1 &quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; #{shell_quote rev} &quot; if rev 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt;  &quot;-- #{path} &quot; unless path.empty?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>          shellout(cmd) do |io|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>            begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>              id = io.gets.split[1]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>              author = io.gets.match('Author:\s+(.*)$')[1]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>              2.times { io.gets }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>              time = io.gets.match('CommitDate:\s+(.*)$')[1]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>              Redmine::Scm::Adapters::Revision.new({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>                :identifier =&gt; id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>                :scmid =&gt; id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>                :author =&gt; author, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>                :time =&gt; Time.rfc2822(time),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>                :message =&gt; nil, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>                :paths =&gt; nil 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>              })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>            rescue NoMethodError =&gt; e
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>              logger.error(&quot;The revision '#{path}' has a wrong format&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>              return nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>            end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>        def revisions_with_time_fixed(path, identifier_from, identifier_to, options={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>          revisions = Redmine::Scm::Adapters::Revisions.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>          cmd = &quot;#{GIT_BIN} --git-dir #{target('')} log --raw --date=rfc --pretty=fuller&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; --reverse&quot; if options[:reverse]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; --all&quot; if options[:all]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; -n #{options[:limit]} &quot; if options[:limit]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; #{shell_quote(identifier_from + '..')} &quot; if identifier_from
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; #{shell_quote identifier_to} &quot; if identifier_to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; --since=#{shell_quote(options[:since].strftime(&quot;%Y-%m-%d %H:%M:%S&quot;))}&quot; if options[:since]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>          cmd &lt;&lt; &quot; -- #{path}&quot; if path &amp;&amp; !path.empty?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>          shellout(cmd) do |io|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>            files=[]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>            changeset = {}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>            parsing_descr = 0  #0: not parsing desc or files, 1: parsing desc, 2: parsing files
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>            revno = 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>            io.each_line do |line|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>              if line =~ /^commit ([0-9a-f]{40})$/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>                key = &quot;commit&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>                value = $1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>                if (parsing_descr == 1 || parsing_descr == 2)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>                  parsing_descr = 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>                  revision = Redmine::Scm::Adapters::Revision.new({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>                    :identifier =&gt; changeset[:commit],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>                    :scmid =&gt; changeset[:commit],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>                    :author =&gt; changeset[:author],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>                    #:time =&gt; Time.parse(changeset[:date]),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>                    :time =&gt; Time.rfc2822(changeset[:date]),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>                    :message =&gt; changeset[:description],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>                    :paths =&gt; files
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>                  })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>                  if block_given?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>                    yield revision
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>                  else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>                    revisions &lt;&lt; revision
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>                  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>                  changeset = {}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>                  files = []
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>                  revno = revno + 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>                end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>                changeset[:commit] = $1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>              elsif (parsing_descr == 0) &amp;&amp; line =~ /^(\w+):\s*(.*)$/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>                key = $1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>                value = $2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>                if key == &quot;Author&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>                  changeset[:author] = value
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>                elsif key == &quot;CommitDate&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>                  changeset[:date] = value
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>                end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>              elsif (parsing_descr == 0) &amp;&amp; line.chomp.to_s == &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>                parsing_descr = 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>                changeset[:description] = &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>              elsif (parsing_descr == 1 || parsing_descr == 2) \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>              &amp;&amp; line =~ /^:\d+\s+\d+\s+[0-9a-f.]+\s+[0-9a-f.]+\s+(\w)\s+(.+)$/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>                parsing_descr = 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>                fileaction = $1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>                filepath = $2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>                files &lt;&lt; {:action =&gt; fileaction, :path =&gt; filepath}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>              elsif (parsing_descr == 1 || parsing_descr == 2) \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>              &amp;&amp; line =~ /^:\d+\s+\d+\s+[0-9a-f.]+\s+[0-9a-f.]+\s+(\w)\d+\s+(\S+)\s+(.+)$/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>                parsing_descr = 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>                fileaction = $1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>                filepath = $3
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>                files &lt;&lt; {:action =&gt; fileaction, :path =&gt; filepath}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>              elsif (parsing_descr == 1) &amp;&amp; line.chomp.to_s == &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>                parsing_descr = 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>              elsif (parsing_descr == 1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>                changeset[:description] &lt;&lt; line[4..-1]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>              end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>            end 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>            if changeset[:commit]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>              revision = Redmine::Scm::Adapters::Revision.new({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>                :identifier =&gt; changeset[:commit],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>                :scmid =&gt; changeset[:commit],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>                :author =&gt; changeset[:author],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>                :time =&gt; Time.rfc2822(changeset[:date]),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>                :message =&gt; changeset[:description],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>                :paths =&gt; files
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>              })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>              if block_given?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>                yield revision
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>              else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>                revisions &lt;&lt; revision
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>              end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>            end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>          return nil if $? &amp;&amp; $?.exitstatus != 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>          revisions
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>Redmine::Scm::Adapters::GitAdapter.send(:include, Gitosis::Patches::GitAdapterPatch) unless Redmine::Scm::Adapters::GitAdapter.include?(Gitosis::Patches::GitAdapterPatch)
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/lib/gitosis/patches/repositories_controller_patch.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'repositories_controller'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>module Gitosis
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  module Patches
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    module RepositoriesControllerPatch
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      def show_with_git_instructions
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        if @repository.is_a?(Repository::Git) and @repository.entries(@path, @rev).blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>          render :action =&gt; 'git_instructions' 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>        else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>          show_without_git_instructions
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>      def edit_with_scm_settings
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>        params[:repository] ||= {}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>        params[:repository][:url] = File.join(Setting.plugin_redmine_gitosis['basePath'], Gitosis.repository_name(@project) + &quot;.git&quot;) if params[:repository_scm] == 'Git'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>        edit_without_scm_settings
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>      def self.included(base)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>        base.class_eval do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>          unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>        base.send(:alias_method_chain, :show, :git_instructions)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>        base.send(:alias_method_chain, :edit, :scm_settings)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>RepositoriesController.send(:include, Gitosis::Patches::RepositoriesControllerPatch) unless RepositoriesController.include?(Gitosis::Patches::RepositoriesControllerPatch)
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/lib/gitosis/patches/repositories_helper_patch.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require_dependency 'repositories_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>module Gitosis
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  module Patches
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    module RepositoriesHelperPatch
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      def git_field_tags_with_disabled_configuration(form, repository) ; '' ; end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>      def self.included(base)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>        base.class_eval do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>          unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>        base.send(:alias_method_chain, :git_field_tags, :disabled_configuration)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>RepositoriesHelper.send(:include, Gitosis::Patches::RepositoriesHelperPatch) unless RepositoriesHelper.include?(Gitosis::Patches::RepositoriesHelperPatch)
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/tasks/gitosis.rake
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>namespace :gitosis do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  desc &quot;update gitosis repositories&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  task :update_repositories =&gt; [:environment] do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    projects = Project.active
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    puts &quot;Updating repositories for projects #{projects.join(' ')}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    Gitosis.update_repositories(projects)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  desc &quot;fetch commits from gitosis repositories&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  task :fetch_changes =&gt; [:environment] do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    Repository.fetch_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/test/fixtures/gitosis_public_keys.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre># Read about fixtures at http://ar.rubyonrails.org/classes/Fixtures.html
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>one:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  id: 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  title: MyString
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  key: MyText
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>two:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  id: 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  title: MyString
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  key: MyText
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/test/test_helper.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre># Load the normal Rails helper
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>require File.expand_path(File.dirname(__FILE__) + '/../../../../test/test_helper')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre># Ensure that we are using the temporary fixture path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>Engines::Testing.set_fixture_path
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_gitosis/test/unit/gitosis_public_key_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require File.dirname(__FILE__) + '/../test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class GitosisPublicKeyTest &lt; ActiveSupport::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  fixtures :gitosis_public_keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  # Replace this with your real tests.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  def test_truth
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    assert true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/COPYRIGHT.txt
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>Join Project is a Redmine plugin to allow non-members to join a project in Redmine
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>Copyright (C) 2010 Eric Davis, Little Stream Software
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>This program is free software; you can redistribute it and/or
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>modify it under the terms of the GNU General Public License
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>as published by the Free Software Foundation; either version 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>of the License, or (at your option) any later version.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>This program is distributed in the hope that it will be useful,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>but WITHOUT ANY WARRANTY; without even the implied warranty of
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>GNU General Public License for more details.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>You should have received a copy of the GNU General Public License
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>along with this program; if not, write to the Free Software
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/CREDITS.txt
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>Thanks go to the following people for patches and contributions:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>* Eric Davis of Little Stream Software - Project Maintainer
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>* Joseph Potvin of Treasury Board Secretariat, Government of Canada - Project requirements &amp; initial funding
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>* Paul Jackson of Treasury Board Secretariat, Government of Canada - Project requirements &amp; initial funding
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/GPL.txt
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>		    GNU GENERAL PUBLIC LICENSE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>		       Version 2, June 1991
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre> Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre> 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre> Everyone is permitted to copy and distribute verbatim copies
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre> of this license document, but changing it is not allowed.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>			    Preamble
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  The licenses for most software are designed to take away your
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>freedom to share and change it.  By contrast, the GNU General Public
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>License is intended to guarantee your freedom to share and change free
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>software--to make sure the software is free for all its users.  This
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>General Public License applies to most of the Free Software
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>Foundation's software and to any other program whose authors commit to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>using it.  (Some other Free Software Foundation software is covered by
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>the GNU Lesser General Public License instead.)  You can apply it to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>your programs, too.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  When we speak of free software, we are referring to freedom, not
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>price.  Our General Public Licenses are designed to make sure that you
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>have the freedom to distribute copies of free software (and charge for
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>this service if you wish), that you receive source code or can get it
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>if you want it, that you can change the software or use pieces of it
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>in new free programs; and that you know you can do these things.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>  To protect your rights, we need to make restrictions that forbid
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>anyone to deny you these rights or to ask you to surrender the rights.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>These restrictions translate to certain responsibilities for you if you
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>distribute copies of the software, or if you modify it.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  For example, if you distribute copies of such a program, whether
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>gratis or for a fee, you must give the recipients all the rights that
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>you have.  You must make sure that they, too, receive or can get the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>source code.  And you must show them these terms so they know their
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>rights.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>  We protect your rights with two steps: (1) copyright the software, and
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>(2) offer you this license which gives you legal permission to copy,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>distribute and/or modify the software.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>  Also, for each author's protection and ours, we want to make certain
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>that everyone understands that there is no warranty for this free
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>software.  If the software is modified by someone else and passed on, we
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>want its recipients to know that what they have is not the original, so
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>that any problems introduced by others will not reflect on the original
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>authors' reputations.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>  Finally, any free program is threatened constantly by software
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>patents.  We wish to avoid the danger that redistributors of a free
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>program will individually obtain patent licenses, in effect making the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>program proprietary.  To prevent this, we have made it clear that any
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>patent must be licensed for everyone's free use or not licensed at all.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>  The precise terms and conditions for copying, distribution and
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>modification follow.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>		    GNU GENERAL PUBLIC LICENSE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>  0. This License applies to any program or other work which contains
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>a notice placed by the copyright holder saying it may be distributed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>under the terms of this General Public License.  The &quot;Program&quot;, below,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>refers to any such program or work, and a &quot;work based on the Program&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>means either the Program or any derivative work under copyright law:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>that is to say, a work containing the Program or a portion of it,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>either verbatim or with modifications and/or translated into another
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>language.  (Hereinafter, translation is included without limitation in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>the term &quot;modification&quot;.)  Each licensee is addressed as &quot;you&quot;.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>Activities other than copying, distribution and modification are not
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>covered by this License; they are outside its scope.  The act of
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>running the Program is not restricted, and the output from the Program
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>is covered only if its contents constitute a work based on the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>Program (independent of having been made by running the Program).
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>Whether that is true depends on what the Program does.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>  1. You may copy and distribute verbatim copies of the Program's
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>source code as you receive it, in any medium, provided that you
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>conspicuously and appropriately publish on each copy an appropriate
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>copyright notice and disclaimer of warranty; keep intact all the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>notices that refer to this License and to the absence of any warranty;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>and give any other recipients of the Program a copy of this License
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>along with the Program.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>You may charge a fee for the physical act of transferring a copy, and
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>you may at your option offer warranty protection in exchange for a fee.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>  2. You may modify your copy or copies of the Program or any portion
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>of it, thus forming a work based on the Program, and copy and
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>distribute such modifications or work under the terms of Section 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>above, provided that you also meet all of these conditions:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>    a) You must cause the modified files to carry prominent notices
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>    stating that you changed the files and the date of any change.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>    b) You must cause any work that you distribute or publish, that in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>    whole or in part contains or is derived from the Program or any
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>    part thereof, to be licensed as a whole at no charge to all third
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>    parties under the terms of this License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>    c) If the modified program normally reads commands interactively
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>    when run, you must cause it, when started running for such
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>    interactive use in the most ordinary way, to print or display an
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>    announcement including an appropriate copyright notice and a
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>    notice that there is no warranty (or else, saying that you provide
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>    a warranty) and that users may redistribute the program under
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>    these conditions, and telling the user how to view a copy of this
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>    License.  (Exception: if the Program itself is interactive but
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>    does not normally print such an announcement, your work based on
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>    the Program is not required to print an announcement.)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>These requirements apply to the modified work as a whole.  If
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>identifiable sections of that work are not derived from the Program,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>and can be reasonably considered independent and separate works in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>themselves, then this License, and its terms, do not apply to those
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>sections when you distribute them as separate works.  But when you
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>distribute the same sections as part of a whole which is a work based
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>on the Program, the distribution of the whole must be on the terms of
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>this License, whose permissions for other licensees extend to the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>entire whole, and thus to each and every part regardless of who wrote it.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>Thus, it is not the intent of this section to claim rights or contest
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>your rights to work written entirely by you; rather, the intent is to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>exercise the right to control the distribution of derivative or
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>collective works based on the Program.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>In addition, mere aggregation of another work not based on the Program
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>with the Program (or with a work based on the Program) on a volume of
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>a storage or distribution medium does not bring the other work under
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>the scope of this License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>  3. You may copy and distribute the Program (or a work based on it,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>under Section 2) in object code or executable form under the terms of
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>Sections 1 and 2 above provided that you also do one of the following:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>    a) Accompany it with the complete corresponding machine-readable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>    source code, which must be distributed under the terms of Sections
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>    1 and 2 above on a medium customarily used for software interchange; or,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>    b) Accompany it with a written offer, valid for at least three
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>    years, to give any third party, for a charge no more than your
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>    cost of physically performing source distribution, a complete
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>    machine-readable copy of the corresponding source code, to be
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>    distributed under the terms of Sections 1 and 2 above on a medium
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>    customarily used for software interchange; or,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>    c) Accompany it with the information you received as to the offer
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>    to distribute corresponding source code.  (This alternative is
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>    allowed only for noncommercial distribution and only if you
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>    received the program in object code or executable form with such
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>    an offer, in accord with Subsection b above.)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>The source code for a work means the preferred form of the work for
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>making modifications to it.  For an executable work, complete source
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>code means all the source code for all modules it contains, plus any
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>associated interface definition files, plus the scripts used to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>control compilation and installation of the executable.  However, as a
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>special exception, the source code distributed need not include
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>anything that is normally distributed (in either source or binary
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>form) with the major components (compiler, kernel, and so on) of the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>operating system on which the executable runs, unless that component
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>itself accompanies the executable.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>If distribution of executable or object code is made by offering
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>access to copy from a designated place, then offering equivalent
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>access to copy the source code from the same place counts as
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>distribution of the source code, even though third parties are not
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>compelled to copy the source along with the object code.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>  4. You may not copy, modify, sublicense, or distribute the Program
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>except as expressly provided under this License.  Any attempt
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>otherwise to copy, modify, sublicense or distribute the Program is
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>void, and will automatically terminate your rights under this License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>However, parties who have received copies, or rights, from you under
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>this License will not have their licenses terminated so long as such
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>parties remain in full compliance.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>  5. You are not required to accept this License, since you have not
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>signed it.  However, nothing else grants you permission to modify or
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>distribute the Program or its derivative works.  These actions are
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>prohibited by law if you do not accept this License.  Therefore, by
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>modifying or distributing the Program (or any work based on the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>Program), you indicate your acceptance of this License to do so, and
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>all its terms and conditions for copying, distributing or modifying
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>the Program or works based on it.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>  6. Each time you redistribute the Program (or any work based on the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>Program), the recipient automatically receives a license from the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>original licensor to copy, distribute or modify the Program subject to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>these terms and conditions.  You may not impose any further
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>restrictions on the recipients' exercise of the rights granted herein.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>You are not responsible for enforcing compliance by third parties to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>this License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>  7. If, as a consequence of a court judgment or allegation of patent
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>infringement or for any other reason (not limited to patent issues),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>conditions are imposed on you (whether by court order, agreement or
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>otherwise) that contradict the conditions of this License, they do not
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>excuse you from the conditions of this License.  If you cannot
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>distribute so as to satisfy simultaneously your obligations under this
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>License and any other pertinent obligations, then as a consequence you
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>may not distribute the Program at all.  For example, if a patent
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>license would not permit royalty-free redistribution of the Program by
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>all those who receive copies directly or indirectly through you, then
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>the only way you could satisfy both it and this License would be to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>refrain entirely from distribution of the Program.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>If any portion of this section is held invalid or unenforceable under
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>any particular circumstance, the balance of the section is intended to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>apply and the section as a whole is intended to apply in other
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>circumstances.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>It is not the purpose of this section to induce you to infringe any
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>patents or other property right claims or to contest validity of any
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>such claims; this section has the sole purpose of protecting the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>integrity of the free software distribution system, which is
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>implemented by public license practices.  Many people have made
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>generous contributions to the wide range of software distributed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>through that system in reliance on consistent application of that
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>system; it is up to the author/donor to decide if he or she is willing
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>to distribute software through any other system and a licensee cannot
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>impose that choice.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>This section is intended to make thoroughly clear what is believed to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>be a consequence of the rest of this License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>  8. If the distribution and/or use of the Program is restricted in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>certain countries either by patents or by copyrighted interfaces, the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>original copyright holder who places the Program under this License
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>may add an explicit geographical distribution limitation excluding
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>those countries, so that distribution is permitted only in or among
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>countries not thus excluded.  In such case, this License incorporates
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>the limitation as if written in the body of this License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>  9. The Free Software Foundation may publish revised and/or new versions
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>of the General Public License from time to time.  Such new versions will
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>be similar in spirit to the present version, but may differ in detail to
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>address new problems or concerns.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>Each version is given a distinguishing version number.  If the Program
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>specifies a version number of this License which applies to it and &quot;any
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>later version&quot;, you have the option of following the terms and conditions
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>either of that version or of any later version published by the Free
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>Software Foundation.  If the Program does not specify a version number of
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>this License, you may choose any version ever published by the Free Software
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>Foundation.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>  10. If you wish to incorporate parts of the Program into other free
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>programs whose distribution conditions are different, write to the author
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>to ask for permission.  For software which is copyrighted by the Free
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>Software Foundation, write to the Free Software Foundation; we sometimes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>make exceptions for this.  Our decision will be guided by the two goals
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>of preserving the free status of all derivatives of our free software and
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>of promoting the sharing and reuse of software generally.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>			    NO WARRANTY
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">261</th>
  <td class="line-code diff_in">
    <pre>FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">262</th>
  <td class="line-code diff_in">
    <pre>OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>PROVIDE THE PROGRAM &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">268</th>
  <td class="line-code diff_in">
    <pre>REPAIR OR CORRECTION.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">269</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">270</th>
  <td class="line-code diff_in">
    <pre>  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">271</th>
  <td class="line-code diff_in">
    <pre>WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">272</th>
  <td class="line-code diff_in">
    <pre>REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">273</th>
  <td class="line-code diff_in">
    <pre>INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">274</th>
  <td class="line-code diff_in">
    <pre>OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">275</th>
  <td class="line-code diff_in">
    <pre>TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">276</th>
  <td class="line-code diff_in">
    <pre>YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">277</th>
  <td class="line-code diff_in">
    <pre>PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">278</th>
  <td class="line-code diff_in">
    <pre>POSSIBILITY OF SUCH DAMAGES.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">279</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">280</th>
  <td class="line-code diff_in">
    <pre>		     END OF TERMS AND CONDITIONS
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">281</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">282</th>
  <td class="line-code diff_in">
    <pre>	    How to Apply These Terms to Your New Programs
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">283</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">284</th>
  <td class="line-code diff_in">
    <pre>  If you develop a new program, and you want it to be of the greatest
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">285</th>
  <td class="line-code diff_in">
    <pre>possible use to the public, the best way to achieve this is to make it
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">286</th>
  <td class="line-code diff_in">
    <pre>free software which everyone can redistribute and change under these terms.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">287</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">288</th>
  <td class="line-code diff_in">
    <pre>  To do so, attach the following notices to the program.  It is safest
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">289</th>
  <td class="line-code diff_in">
    <pre>to attach them to the start of each source file to most effectively
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">290</th>
  <td class="line-code diff_in">
    <pre>convey the exclusion of warranty; and each file should have at least
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">291</th>
  <td class="line-code diff_in">
    <pre>the &quot;copyright&quot; line and a pointer to where the full notice is found.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">292</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">293</th>
  <td class="line-code diff_in">
    <pre>    &lt;one line to give the program's name and a brief idea of what it does.&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">294</th>
  <td class="line-code diff_in">
    <pre>    Copyright (C) &lt;year&gt;  &lt;name of author&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">295</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">296</th>
  <td class="line-code diff_in">
    <pre>    This program is free software; you can redistribute it and/or modify
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">297</th>
  <td class="line-code diff_in">
    <pre>    it under the terms of the GNU General Public License as published by
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">298</th>
  <td class="line-code diff_in">
    <pre>    the Free Software Foundation; either version 2 of the License, or
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">299</th>
  <td class="line-code diff_in">
    <pre>    (at your option) any later version.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">300</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">301</th>
  <td class="line-code diff_in">
    <pre>    This program is distributed in the hope that it will be useful,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">302</th>
  <td class="line-code diff_in">
    <pre>    but WITHOUT ANY WARRANTY; without even the implied warranty of
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">303</th>
  <td class="line-code diff_in">
    <pre>    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">304</th>
  <td class="line-code diff_in">
    <pre>    GNU General Public License for more details.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">305</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">306</th>
  <td class="line-code diff_in">
    <pre>    You should have received a copy of the GNU General Public License along
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">307</th>
  <td class="line-code diff_in">
    <pre>    with this program; if not, write to the Free Software Foundation, Inc.,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">308</th>
  <td class="line-code diff_in">
    <pre>    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">309</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">310</th>
  <td class="line-code diff_in">
    <pre>Also add information on how to contact you by electronic and paper mail.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">311</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">312</th>
  <td class="line-code diff_in">
    <pre>If the program is interactive, make it output a short notice like this
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">313</th>
  <td class="line-code diff_in">
    <pre>when it starts in an interactive mode:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">314</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">315</th>
  <td class="line-code diff_in">
    <pre>    Gnomovision version 69, Copyright (C) year name of author
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">316</th>
  <td class="line-code diff_in">
    <pre>    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">317</th>
  <td class="line-code diff_in">
    <pre>    This is free software, and you are welcome to redistribute it
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">318</th>
  <td class="line-code diff_in">
    <pre>    under certain conditions; type `show c' for details.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">319</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>The hypothetical commands `show w' and `show c' should show the appropriate
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>parts of the General Public License.  Of course, the commands you use may
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">322</th>
  <td class="line-code diff_in">
    <pre>be called something other than `show w' and `show c'; they could even be
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">323</th>
  <td class="line-code diff_in">
    <pre>mouse-clicks or menu items--whatever suits your program.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">324</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">325</th>
  <td class="line-code diff_in">
    <pre>You should also get your employer (if you work as a programmer) or your
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">326</th>
  <td class="line-code diff_in">
    <pre>school, if any, to sign a &quot;copyright disclaimer&quot; for the program, if
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">327</th>
  <td class="line-code diff_in">
    <pre>necessary.  Here is a sample; alter the names:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">328</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">329</th>
  <td class="line-code diff_in">
    <pre>  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">330</th>
  <td class="line-code diff_in">
    <pre>  `Gnomovision' (which makes passes at compilers) written by James Hacker.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">331</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">332</th>
  <td class="line-code diff_in">
    <pre>  &lt;signature of Ty Coon&gt;, 1 April 1989
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">333</th>
  <td class="line-code diff_in">
    <pre>  Ty Coon, President of Vice
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">334</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">335</th>
  <td class="line-code diff_in">
    <pre>This General Public License does not permit incorporating your program into
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">336</th>
  <td class="line-code diff_in">
    <pre>proprietary programs.  If your program is a subroutine library, you may
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">337</th>
  <td class="line-code diff_in">
    <pre>consider it more useful to permit linking proprietary applications with the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">338</th>
  <td class="line-code diff_in">
    <pre>library.  If this is what you want to do, use the GNU Lesser General
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">339</th>
  <td class="line-code diff_in">
    <pre>Public License instead of this License.
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/README.rdoc
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>= Redmine Join Project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>A Redmine plugin to allow non-members to join a project in Redmine
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>== Features
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>* Allow non-members to join a project themselves:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  * Can add themselves directly to a self-subscribe project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  * Can send a Request to Join to other projects
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>* Email notifications of requests to join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>* A simple Approval workflow to allow manager to approve or deny requests
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>== Getting the plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>A copy of the plugin can be downloaded from {Little Stream Software}[https://projects.littlestreamsoftware.com/projects/redmine-join/files] or from {GitHub}[http://github.com/edavis10/redmine_join_project]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>== Installation and Setup
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>1. Follow the Redmine plugin installation steps at: http://www.redmine.org/wiki/redmine/Plugins 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>2. Run the plugin migrations +rake db:migrate_plugins+
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>3. Restart your Redmine web servers (e.g. mongrel, thin, mod_rails)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>4. Login to Redmine as an Administrator
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>5. Configure the permissions for the plugin: 'Approve Project Join Requests'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>5. Configure the plugin (below)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>6. Setup any projects that allow non-members to join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>== Plugin configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>There are two things that need to be configured on the plugin before it can be used.  The configuration panel is located at Administration &gt; Plugins &gt; Configure.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>* Roles: When a new member is added to a project, they will receive these Roles.  At least one Role needs to be picked.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>* Email body text: When a Request To Join email is sent to the Project Members who have permission to Approve Project Join Requests. The email's body includes details about the request as well as the body text entered here.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>== Usage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>=== Joining a project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>If the project allows joining, Non-members will see a link on the sidebar to Join.  This will either add them to the project (self-subscribe) or send a Request to Join (request).
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>=== Approving / Denying a Request To Join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>A My Page item is added which will list all of the pending Requests to Join.  From the My Page, a user can see which requests they are allowed to Approve or Deny along with links to both actions.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>== License
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>This plugin is licensed under the GNU GPL v2.  See COPYRIGHT.txt and GPL.txt for details.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>== Project help
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>If you need help you can contact the maintainer at the Bug Tracker.  The bug tracker is located at  https://projects.littlestreamsoftware.com
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/Rakefile
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>#!/usr/bin/env ruby
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>require 'redmine_plugin_support'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>Dir[File.expand_path(File.dirname(__FILE__)) + &quot;/lib/tasks/**/*.rake&quot;].sort.each { |ext| load ext }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>RedminePluginSupport::Base.setup do |plugin|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  plugin.project_name = 'redmine_join_project'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  plugin.default_task = [:test]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  plugin.tasks = [:doc, :release, :clean, :test]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  # TODO: gem not getting this automaticly
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  plugin.redmine_root = File.expand_path(File.dirname(__FILE__) + '/../../../')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  require 'jeweler'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  Jeweler::Tasks.new do |s|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    s.name = &quot;redmine_event_notification_override&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    s.summary = &quot;A Redmine plugin to allow non-members to join a project in Redmine&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    s.email = &quot;edavis@littlestreamsoftware.com&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    s.homepage = &quot;https://projects.littlestreamsoftware.com/projects/redmine-join&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    s.description = &quot;A Redmine plugin to allow non-members to join a project in Redmine&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    s.authors = [&quot;Eric Davis&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    s.rubyforge_project = &quot;littlestream&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    s.files =  FileList[
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>                        &quot;[A-Z]*&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>                        &quot;init.rb&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>                        &quot;rails/init.rb&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>                        &quot;{bin,generators,lib,test,app,assets,config,lang}/**/*&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>                        'lib/jeweler/templates/.gitignore'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>                       ]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>  Jeweler::GemcutterTasks.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  Jeweler::RubyforgeTasks.new do |rubyforge|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    rubyforge.doc_task = &quot;rdoc&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>rescue LoadError
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>  puts &quot;Jeweler, or one of its dependencies, is not available. Install it with: sudo gem install technicalpickles-jeweler -s http://gems.github.com&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre># Adding Rails's database rake tasks, we need the db:test:reset one in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre># order to clear the test database.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre># TODO: extract to the redmine_plugin_support gem
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>namespace :db do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>  task :load_config =&gt; :rails_env do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>    require 'active_record'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Base.configurations = Rails::Configuration.new.database_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>  namespace :create do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>    desc 'Create all the local databases defined in config/database.yml'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>    task :all =&gt; :load_config do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.configurations.each_value do |config|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>        # Skip entries that don't have a database key, such as the first entry here:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>        #
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>        #  defaults: &amp;defaults
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>        #    adapter: mysql
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>        #    username: root
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>        #    password:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>        #    host: localhost
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>        #
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>        #  development:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>        #    database: blog_development
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>        #    &lt;&lt;: *defaults
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>        next unless config['database']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>        # Only connect to local databases
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>        local_database?(config) { create_database(config) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>  desc 'Create the database defined in config/database.yml for the current RAILS_ENV'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>  task :create =&gt; :load_config do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>    create_database(ActiveRecord::Base.configurations[RAILS_ENV])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>  def create_database(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>    begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>      if config['adapter'] =~ /sqlite/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>        if File.exist?(config['database'])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>          $stderr.puts &quot;#{config['database']} already exists&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>        else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>          begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>            # Create the SQLite database
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>            ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>            ActiveRecord::Base.connection
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>          rescue
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>            $stderr.puts $!, *($!.backtrace)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>            $stderr.puts &quot;Couldn't create database for #{config.inspect}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>        return # Skip the else clause of begin/rescue    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.connection
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>    rescue
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>      case config['adapter']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>      when 'mysql'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>        @charset   = ENV['CHARSET']   || 'utf8'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>        @collation = ENV['COLLATION'] || 'utf8_unicode_ci'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>        begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.establish_connection(config.merge('database' =&gt; nil))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.connection.create_database(config['database'], :charset =&gt; (config['charset'] || @charset), :collation =&gt; (config['collation'] || @collation))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>        rescue
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>          $stderr.puts &quot;Couldn't create database for #{config.inspect}, charset: #{config['charset'] || @charset}, collation: #{config['collation'] || @collation} (if you set the charset manually, make sure you have a matching collation)&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>      when 'postgresql'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>        @encoding = config[:encoding] || ENV['CHARSET'] || 'utf8'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>        begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.establish_connection(config.merge('database' =&gt; 'postgres', 'schema_search_path' =&gt; 'public'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.connection.create_database(config['database'], config.merge('encoding' =&gt; @encoding))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>        rescue
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>          $stderr.puts $!, *($!.backtrace)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>          $stderr.puts &quot;Couldn't create database for #{config.inspect}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>      $stderr.puts &quot;#{config['database']} already exists&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>  namespace :drop do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>    desc 'Drops all the local databases defined in config/database.yml'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>    task :all =&gt; :load_config do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.configurations.each_value do |config|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>        # Skip entries that don't have a database key
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>        next unless config['database']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>        # Only connect to local databases
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>        local_database?(config) { drop_database(config) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>  desc 'Drops the database for the current RAILS_ENV'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>  task :drop =&gt; :load_config do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>    config = ActiveRecord::Base.configurations[RAILS_ENV || 'development']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>    begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>      drop_database(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>    rescue Exception =&gt; e
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>      puts &quot;Couldn't drop #{config['database']} : #{e.inspect}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>  def local_database?(config, &amp;block)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>    if %w( 127.0.0.1 localhost ).include?(config['host']) || config['host'].blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>      yield
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>      puts &quot;This task only modifies local databases. #{config['database']} is on a remote host.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>  desc &quot;Migrate the database through scripts in db/migrate and update db/schema.rb by invoking db:schema:dump. Target specific version with VERSION=x. Turn off output with VERBOSE=false.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>  task :migrate =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Migration.verbose = ENV[&quot;VERBOSE&quot;] ? ENV[&quot;VERBOSE&quot;] == &quot;true&quot; : true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Migrator.migrate(&quot;db/migrate/&quot;, ENV[&quot;VERSION&quot;] ? ENV[&quot;VERSION&quot;].to_i : nil)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>    Rake::Task[&quot;db:schema:dump&quot;].invoke if ActiveRecord::Base.schema_format == :ruby
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>  namespace :migrate do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>    desc  'Rollbacks the database one migration and re migrate up. If you want to rollback more than one step, define STEP=x. Target specific version with VERSION=x.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>    task :redo =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>      if ENV[&quot;VERSION&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>        Rake::Task[&quot;db:migrate:down&quot;].invoke
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>        Rake::Task[&quot;db:migrate:up&quot;].invoke
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>        Rake::Task[&quot;db:rollback&quot;].invoke
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>        Rake::Task[&quot;db:migrate&quot;].invoke
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>    desc 'Resets your database using your migrations for the current environment'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>    task :reset =&gt; [&quot;db:drop&quot;, &quot;db:create&quot;, &quot;db:migrate&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>    desc 'Runs the &quot;up&quot; for a given migration VERSION.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>    task :up =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>      version = ENV[&quot;VERSION&quot;] ? ENV[&quot;VERSION&quot;].to_i : nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>      raise &quot;VERSION is required&quot; unless version
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Migrator.run(:up, &quot;db/migrate/&quot;, version)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>      Rake::Task[&quot;db:schema:dump&quot;].invoke if ActiveRecord::Base.schema_format == :ruby
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>    desc 'Runs the &quot;down&quot; for a given migration VERSION.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>    task :down =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>      version = ENV[&quot;VERSION&quot;] ? ENV[&quot;VERSION&quot;].to_i : nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>      raise &quot;VERSION is required&quot; unless version
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Migrator.run(:down, &quot;db/migrate/&quot;, version)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>      Rake::Task[&quot;db:schema:dump&quot;].invoke if ActiveRecord::Base.schema_format == :ruby
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>  desc 'Rolls the schema back to the previous version. Specify the number of steps with STEP=n'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>  task :rollback =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>    step = ENV['STEP'] ? ENV['STEP'].to_i : 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Migrator.rollback('db/migrate/', step)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>    Rake::Task[&quot;db:schema:dump&quot;].invoke if ActiveRecord::Base.schema_format == :ruby
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>  desc 'Drops and recreates the database from db/schema.rb for the current environment and loads the seeds.'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>  task :reset =&gt; [ 'db:drop', 'db:setup' ]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>  desc &quot;Retrieves the charset for the current environment's database&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>  task :charset =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>    config = ActiveRecord::Base.configurations[RAILS_ENV || 'development']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>    case config['adapter']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>    when 'mysql'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>      puts ActiveRecord::Base.connection.charset
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>    when 'postgresql'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>      puts ActiveRecord::Base.connection.encoding
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>      puts 'sorry, your database adapter is not supported yet, feel free to submit a patch'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>  desc &quot;Retrieves the collation for the current environment's database&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>  task :collation =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>    config = ActiveRecord::Base.configurations[RAILS_ENV || 'development']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>    case config['adapter']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>    when 'mysql'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>      puts ActiveRecord::Base.connection.collation
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>      puts 'sorry, your database adapter is not supported yet, feel free to submit a patch'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>  desc &quot;Retrieves the current schema version number&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>  task :version =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>    puts &quot;Current version: #{ActiveRecord::Migrator.current_version}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>  desc &quot;Raises an error if there are pending migrations&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>  task :abort_if_pending_migrations =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>    if defined? ActiveRecord
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>      pending_migrations = ActiveRecord::Migrator.new(:up, 'db/migrate').pending_migrations
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>      if pending_migrations.any?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>        puts &quot;You have #{pending_migrations.size} pending migrations:&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>        pending_migrations.each do |pending_migration|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>          puts '  %4d %s' % [pending_migration.version, pending_migration.name]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>        abort %{Run &quot;rake db:migrate&quot; to update your database then try again.}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>  desc 'Create the database, load the schema, and initialize with the seed data'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>  task :setup =&gt; [ 'db:create', 'db:schema:load', 'db:seed' ]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>  desc 'Load the seed data from db/seeds.rb'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>  task :seed =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>    seed_file = File.join(Rails.root, 'db', 'seeds.rb')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>    load(seed_file) if File.exist?(seed_file)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">261</th>
  <td class="line-code diff_in">
    <pre>  namespace :fixtures do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">262</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Load fixtures into the current environment's database.  Load specific fixtures using FIXTURES=x,y. Load from subdirectory in test/fixtures using FIXTURES_DIR=z. Specify an alternative path (eg. spec/fixtures) using FIXTURES_PATH=spec/fixtures.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>    task :load =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>      require 'active_record/fixtures'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.establish_connection(Rails.env)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>      base_dir = ENV['FIXTURES_PATH'] ? File.join(Rails.root, ENV['FIXTURES_PATH']) : File.join(Rails.root, 'test', 'fixtures')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>      fixtures_dir = ENV['FIXTURES_DIR'] ? File.join(base_dir, ENV['FIXTURES_DIR']) : base_dir
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">268</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">269</th>
  <td class="line-code diff_in">
    <pre>      (ENV['FIXTURES'] ? ENV['FIXTURES'].split(/,/).map {|f| File.join(fixtures_dir, f) } : Dir.glob(File.join(fixtures_dir, '*.{yml,csv}'))).each do |fixture_file|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">270</th>
  <td class="line-code diff_in">
    <pre>        Fixtures.create_fixtures(File.dirname(fixture_file), File.basename(fixture_file, '.*'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">271</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">272</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">273</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">274</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Search for a fixture given a LABEL or ID. Specify an alternative path (eg. spec/fixtures) using FIXTURES_PATH=spec/fixtures.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">275</th>
  <td class="line-code diff_in">
    <pre>    task :identify =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">276</th>
  <td class="line-code diff_in">
    <pre>      require &quot;active_record/fixtures&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">277</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">278</th>
  <td class="line-code diff_in">
    <pre>      label, id = ENV[&quot;LABEL&quot;], ENV[&quot;ID&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">279</th>
  <td class="line-code diff_in">
    <pre>      raise &quot;LABEL or ID required&quot; if label.blank? &amp;&amp; id.blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">280</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">281</th>
  <td class="line-code diff_in">
    <pre>      puts %Q(The fixture ID for &quot;#{label}&quot; is #{Fixtures.identify(label)}.) if label
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">282</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">283</th>
  <td class="line-code diff_in">
    <pre>      base_dir = ENV['FIXTURES_PATH'] ? File.join(Rails.root, ENV['FIXTURES_PATH']) : File.join(Rails.root, 'test', 'fixtures')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">284</th>
  <td class="line-code diff_in">
    <pre>      Dir[&quot;#{base_dir}/**/*.yml&quot;].each do |file|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">285</th>
  <td class="line-code diff_in">
    <pre>        if data = YAML::load(ERB.new(IO.read(file)).result)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">286</th>
  <td class="line-code diff_in">
    <pre>          data.keys.each do |key|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">287</th>
  <td class="line-code diff_in">
    <pre>            key_id = Fixtures.identify(key)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">288</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">289</th>
  <td class="line-code diff_in">
    <pre>            if key == label || key_id == id.to_i
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">290</th>
  <td class="line-code diff_in">
    <pre>              puts &quot;#{file}: #{key} (#{key_id})&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">291</th>
  <td class="line-code diff_in">
    <pre>            end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">292</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">293</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">294</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">295</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">296</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">297</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">298</th>
  <td class="line-code diff_in">
    <pre>  namespace :schema do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">299</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Create a db/schema.rb file that can be portably used against any DB supported by AR&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">300</th>
  <td class="line-code diff_in">
    <pre>    task :dump =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">301</th>
  <td class="line-code diff_in">
    <pre>      require 'active_record/schema_dumper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">302</th>
  <td class="line-code diff_in">
    <pre>      File.open(ENV['SCHEMA'] || &quot;#{RAILS_ROOT}/db/schema.rb&quot;, &quot;w&quot;) do |file|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">303</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::SchemaDumper.dump(ActiveRecord::Base.connection, file)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">304</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">305</th>
  <td class="line-code diff_in">
    <pre>      Rake::Task[&quot;db:schema:dump&quot;].reenable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">306</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">307</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">308</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Load a schema.rb file into the database&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">309</th>
  <td class="line-code diff_in">
    <pre>    task :load =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">310</th>
  <td class="line-code diff_in">
    <pre>      file = ENV['SCHEMA'] || &quot;#{RAILS_ROOT}/db/schema.rb&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">311</th>
  <td class="line-code diff_in">
    <pre>      if File.exists?(file)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">312</th>
  <td class="line-code diff_in">
    <pre>        load(file)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">313</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">314</th>
  <td class="line-code diff_in">
    <pre>        abort %{#{file} doesn't exist yet. Run &quot;rake db:migrate&quot; to create it then try again. If you do not intend to use a database, you should instead alter #{RAILS_ROOT}/config/environment.rb to prevent active_record from loading: config.frameworks -= [ :active_record ]}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">315</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">316</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">317</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">318</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">319</th>
  <td class="line-code diff_in">
    <pre>  namespace :structure do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Dump the database structure to a SQL file&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>    task :dump =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">322</th>
  <td class="line-code diff_in">
    <pre>      abcs = ActiveRecord::Base.configurations
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">323</th>
  <td class="line-code diff_in">
    <pre>      case abcs[RAILS_ENV][&quot;adapter&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">324</th>
  <td class="line-code diff_in">
    <pre>      when &quot;mysql&quot;, &quot;oci&quot;, &quot;oracle&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">325</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.establish_connection(abcs[RAILS_ENV])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">326</th>
  <td class="line-code diff_in">
    <pre>        File.open(&quot;#{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql&quot;, &quot;w+&quot;) { |f| f &lt;&lt; ActiveRecord::Base.connection.structure_dump }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">327</th>
  <td class="line-code diff_in">
    <pre>      when &quot;postgresql&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">328</th>
  <td class="line-code diff_in">
    <pre>        ENV['PGHOST']     = abcs[RAILS_ENV][&quot;host&quot;] if abcs[RAILS_ENV][&quot;host&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">329</th>
  <td class="line-code diff_in">
    <pre>        ENV['PGPORT']     = abcs[RAILS_ENV][&quot;port&quot;].to_s if abcs[RAILS_ENV][&quot;port&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">330</th>
  <td class="line-code diff_in">
    <pre>        ENV['PGPASSWORD'] = abcs[RAILS_ENV][&quot;password&quot;].to_s if abcs[RAILS_ENV][&quot;password&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">331</th>
  <td class="line-code diff_in">
    <pre>        search_path = abcs[RAILS_ENV][&quot;schema_search_path&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">332</th>
  <td class="line-code diff_in">
    <pre>        search_path = &quot;--schema=#{search_path}&quot; if search_path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">333</th>
  <td class="line-code diff_in">
    <pre>        `pg_dump -i -U &quot;#{abcs[RAILS_ENV][&quot;username&quot;]}&quot; -s -x -O -f db/#{RAILS_ENV}_structure.sql #{search_path} #{abcs[RAILS_ENV][&quot;database&quot;]}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">334</th>
  <td class="line-code diff_in">
    <pre>        raise &quot;Error dumping database&quot; if $?.exitstatus == 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">335</th>
  <td class="line-code diff_in">
    <pre>      when &quot;sqlite&quot;, &quot;sqlite3&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">336</th>
  <td class="line-code diff_in">
    <pre>        dbfile = abcs[RAILS_ENV][&quot;database&quot;] || abcs[RAILS_ENV][&quot;dbfile&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">337</th>
  <td class="line-code diff_in">
    <pre>        `#{abcs[RAILS_ENV][&quot;adapter&quot;]} #{dbfile} .schema &gt; db/#{RAILS_ENV}_structure.sql`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">338</th>
  <td class="line-code diff_in">
    <pre>      when &quot;sqlserver&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">339</th>
  <td class="line-code diff_in">
    <pre>        `scptxfr /s #{abcs[RAILS_ENV][&quot;host&quot;]} /d #{abcs[RAILS_ENV][&quot;database&quot;]} /I /f db\\#{RAILS_ENV}_structure.sql /q /A /r`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">340</th>
  <td class="line-code diff_in">
    <pre>        `scptxfr /s #{abcs[RAILS_ENV][&quot;host&quot;]} /d #{abcs[RAILS_ENV][&quot;database&quot;]} /I /F db\ /q /A /r`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">341</th>
  <td class="line-code diff_in">
    <pre>      when &quot;firebird&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">342</th>
  <td class="line-code diff_in">
    <pre>        set_firebird_env(abcs[RAILS_ENV])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">343</th>
  <td class="line-code diff_in">
    <pre>        db_string = firebird_db_string(abcs[RAILS_ENV])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">344</th>
  <td class="line-code diff_in">
    <pre>        sh &quot;isql -a #{db_string} &gt; #{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">345</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">346</th>
  <td class="line-code diff_in">
    <pre>        raise &quot;Task not supported by '#{abcs[&quot;test&quot;][&quot;adapter&quot;]}'&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">347</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">348</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">349</th>
  <td class="line-code diff_in">
    <pre>      if ActiveRecord::Base.connection.supports_migrations?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">350</th>
  <td class="line-code diff_in">
    <pre>        File.open(&quot;#{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql&quot;, &quot;a&quot;) { |f| f &lt;&lt; ActiveRecord::Base.connection.dump_schema_information }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">351</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">352</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">353</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">354</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">355</th>
  <td class="line-code diff_in">
    <pre>  namespace :test do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">356</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Recreate the test database from the current schema.rb&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">357</th>
  <td class="line-code diff_in">
    <pre>    task :load =&gt; 'db:test:purge' do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">358</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.establish_connection(ActiveRecord::Base.configurations['test'])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">359</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Schema.verbose = false
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">360</th>
  <td class="line-code diff_in">
    <pre>      Rake::Task[&quot;db:schema:load&quot;].invoke
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">361</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">362</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">363</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Recreate the test database from the current environment's database schema&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">364</th>
  <td class="line-code diff_in">
    <pre>    task :clone =&gt; %w(db:schema:dump db:test:load)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">365</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">366</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Recreate the test databases from the development structure&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">367</th>
  <td class="line-code diff_in">
    <pre>    task :clone_structure =&gt; [ &quot;db:structure:dump&quot;, &quot;db:test:purge&quot; ] do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">368</th>
  <td class="line-code diff_in">
    <pre>      abcs = ActiveRecord::Base.configurations
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">369</th>
  <td class="line-code diff_in">
    <pre>      case abcs[&quot;test&quot;][&quot;adapter&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">370</th>
  <td class="line-code diff_in">
    <pre>      when &quot;mysql&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">371</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.establish_connection(:test)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">372</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.connection.execute('SET foreign_key_checks = 0')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">373</th>
  <td class="line-code diff_in">
    <pre>        IO.readlines(&quot;#{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql&quot;).join.split(&quot;\n\n&quot;).each do |table|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">374</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.connection.execute(table)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">375</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">376</th>
  <td class="line-code diff_in">
    <pre>      when &quot;postgresql&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">377</th>
  <td class="line-code diff_in">
    <pre>        ENV['PGHOST']     = abcs[&quot;test&quot;][&quot;host&quot;] if abcs[&quot;test&quot;][&quot;host&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">378</th>
  <td class="line-code diff_in">
    <pre>        ENV['PGPORT']     = abcs[&quot;test&quot;][&quot;port&quot;].to_s if abcs[&quot;test&quot;][&quot;port&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">379</th>
  <td class="line-code diff_in">
    <pre>        ENV['PGPASSWORD'] = abcs[&quot;test&quot;][&quot;password&quot;].to_s if abcs[&quot;test&quot;][&quot;password&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">380</th>
  <td class="line-code diff_in">
    <pre>        `psql -U &quot;#{abcs[&quot;test&quot;][&quot;username&quot;]}&quot; -f #{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql #{abcs[&quot;test&quot;][&quot;database&quot;]}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">381</th>
  <td class="line-code diff_in">
    <pre>      when &quot;sqlite&quot;, &quot;sqlite3&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">382</th>
  <td class="line-code diff_in">
    <pre>        dbfile = abcs[&quot;test&quot;][&quot;database&quot;] || abcs[&quot;test&quot;][&quot;dbfile&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">383</th>
  <td class="line-code diff_in">
    <pre>        `#{abcs[&quot;test&quot;][&quot;adapter&quot;]} #{dbfile} &lt; #{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">384</th>
  <td class="line-code diff_in">
    <pre>      when &quot;sqlserver&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">385</th>
  <td class="line-code diff_in">
    <pre>        `osql -E -S #{abcs[&quot;test&quot;][&quot;host&quot;]} -d #{abcs[&quot;test&quot;][&quot;database&quot;]} -i db\\#{RAILS_ENV}_structure.sql`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">386</th>
  <td class="line-code diff_in">
    <pre>      when &quot;oci&quot;, &quot;oracle&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">387</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.establish_connection(:test)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">388</th>
  <td class="line-code diff_in">
    <pre>        IO.readlines(&quot;#{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql&quot;).join.split(&quot;;\n\n&quot;).each do |ddl|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">389</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.connection.execute(ddl)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">390</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">391</th>
  <td class="line-code diff_in">
    <pre>      when &quot;firebird&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">392</th>
  <td class="line-code diff_in">
    <pre>        set_firebird_env(abcs[&quot;test&quot;])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">393</th>
  <td class="line-code diff_in">
    <pre>        db_string = firebird_db_string(abcs[&quot;test&quot;])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">394</th>
  <td class="line-code diff_in">
    <pre>        sh &quot;isql -i #{RAILS_ROOT}/db/#{RAILS_ENV}_structure.sql #{db_string}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">395</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">396</th>
  <td class="line-code diff_in">
    <pre>        raise &quot;Task not supported by '#{abcs[&quot;test&quot;][&quot;adapter&quot;]}'&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">397</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">398</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">399</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">400</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Empty the test database&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">401</th>
  <td class="line-code diff_in">
    <pre>    task :purge =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">402</th>
  <td class="line-code diff_in">
    <pre>      abcs = ActiveRecord::Base.configurations
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">403</th>
  <td class="line-code diff_in">
    <pre>      case abcs[&quot;test&quot;][&quot;adapter&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">404</th>
  <td class="line-code diff_in">
    <pre>      when &quot;mysql&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">405</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.establish_connection(:test)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">406</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.connection.recreate_database(abcs[&quot;test&quot;][&quot;database&quot;], abcs[&quot;test&quot;])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">407</th>
  <td class="line-code diff_in">
    <pre>      when &quot;postgresql&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">408</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.clear_active_connections!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">409</th>
  <td class="line-code diff_in">
    <pre>        drop_database(abcs['test'])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">410</th>
  <td class="line-code diff_in">
    <pre>        create_database(abcs['test'])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">411</th>
  <td class="line-code diff_in">
    <pre>      when &quot;sqlite&quot;,&quot;sqlite3&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">412</th>
  <td class="line-code diff_in">
    <pre>        dbfile = abcs[&quot;test&quot;][&quot;database&quot;] || abcs[&quot;test&quot;][&quot;dbfile&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">413</th>
  <td class="line-code diff_in">
    <pre>        File.delete(dbfile) if File.exist?(dbfile)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">414</th>
  <td class="line-code diff_in">
    <pre>      when &quot;sqlserver&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">415</th>
  <td class="line-code diff_in">
    <pre>        dropfkscript = &quot;#{abcs[&quot;test&quot;][&quot;host&quot;]}.#{abcs[&quot;test&quot;][&quot;database&quot;]}.DP1&quot;.gsub(/\\/,'-')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">416</th>
  <td class="line-code diff_in">
    <pre>        `osql -E -S #{abcs[&quot;test&quot;][&quot;host&quot;]} -d #{abcs[&quot;test&quot;][&quot;database&quot;]} -i db\\#{dropfkscript}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">417</th>
  <td class="line-code diff_in">
    <pre>        `osql -E -S #{abcs[&quot;test&quot;][&quot;host&quot;]} -d #{abcs[&quot;test&quot;][&quot;database&quot;]} -i db\\#{RAILS_ENV}_structure.sql`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">418</th>
  <td class="line-code diff_in">
    <pre>      when &quot;oci&quot;, &quot;oracle&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">419</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.establish_connection(:test)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">420</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.connection.structure_drop.split(&quot;;\n\n&quot;).each do |ddl|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">421</th>
  <td class="line-code diff_in">
    <pre>          ActiveRecord::Base.connection.execute(ddl)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">422</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">423</th>
  <td class="line-code diff_in">
    <pre>      when &quot;firebird&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">424</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.establish_connection(:test)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">425</th>
  <td class="line-code diff_in">
    <pre>        ActiveRecord::Base.connection.recreate_database!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">426</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">427</th>
  <td class="line-code diff_in">
    <pre>        raise &quot;Task not supported by '#{abcs[&quot;test&quot;][&quot;adapter&quot;]}'&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">428</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">429</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">430</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">431</th>
  <td class="line-code diff_in">
    <pre>    desc 'Check for pending migrations and load the test schema'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">432</th>
  <td class="line-code diff_in">
    <pre>    task :prepare =&gt; 'db:abort_if_pending_migrations' do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">433</th>
  <td class="line-code diff_in">
    <pre>      if defined?(ActiveRecord) &amp;&amp; !ActiveRecord::Base.configurations.blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">434</th>
  <td class="line-code diff_in">
    <pre>        Rake::Task[{ :sql  =&gt; &quot;db:test:clone_structure&quot;, :ruby =&gt; &quot;db:test:load&quot; }[ActiveRecord::Base.schema_format]].invoke
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">435</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">436</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">437</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">438</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">439</th>
  <td class="line-code diff_in">
    <pre>  namespace :sessions do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">440</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Creates a sessions migration for use with ActiveRecord::SessionStore&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">441</th>
  <td class="line-code diff_in">
    <pre>    task :create =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">442</th>
  <td class="line-code diff_in">
    <pre>      raise &quot;Task unavailable to this database (no migration support)&quot; unless ActiveRecord::Base.connection.supports_migrations?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">443</th>
  <td class="line-code diff_in">
    <pre>      require 'rails_generator'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">444</th>
  <td class="line-code diff_in">
    <pre>      require 'rails_generator/scripts/generate'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">445</th>
  <td class="line-code diff_in">
    <pre>      Rails::Generator::Scripts::Generate.new.run([&quot;session_migration&quot;, ENV[&quot;MIGRATION&quot;] || &quot;CreateSessions&quot;])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">446</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">447</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">448</th>
  <td class="line-code diff_in">
    <pre>    desc &quot;Clear the sessions table&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">449</th>
  <td class="line-code diff_in">
    <pre>    task :clear =&gt; :environment do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">450</th>
  <td class="line-code diff_in">
    <pre>      ActiveRecord::Base.connection.execute &quot;DELETE FROM #{session_table_name}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">451</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">452</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">453</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">454</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">455</th>
  <td class="line-code diff_in">
    <pre>def drop_database(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">456</th>
  <td class="line-code diff_in">
    <pre>  case config['adapter']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">457</th>
  <td class="line-code diff_in">
    <pre>  when 'mysql'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">458</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Base.establish_connection(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">459</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Base.connection.drop_database config['database']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">460</th>
  <td class="line-code diff_in">
    <pre>  when /^sqlite/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">461</th>
  <td class="line-code diff_in">
    <pre>    FileUtils.rm(File.join(RAILS_ROOT, config['database']))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">462</th>
  <td class="line-code diff_in">
    <pre>  when 'postgresql'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">463</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Base.establish_connection(config.merge('database' =&gt; 'postgres', 'schema_search_path' =&gt; 'public'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">464</th>
  <td class="line-code diff_in">
    <pre>    ActiveRecord::Base.connection.drop_database config['database']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">465</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">466</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">467</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">468</th>
  <td class="line-code diff_in">
    <pre>def session_table_name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">469</th>
  <td class="line-code diff_in">
    <pre>  ActiveRecord::Base.pluralize_table_names ? :sessions : :session
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">470</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">471</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">472</th>
  <td class="line-code diff_in">
    <pre>def set_firebird_env(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">473</th>
  <td class="line-code diff_in">
    <pre>  ENV[&quot;ISC_USER&quot;]     = config[&quot;username&quot;].to_s if config[&quot;username&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">474</th>
  <td class="line-code diff_in">
    <pre>  ENV[&quot;ISC_PASSWORD&quot;] = config[&quot;password&quot;].to_s if config[&quot;password&quot;]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">475</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">476</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">477</th>
  <td class="line-code diff_in">
    <pre>def firebird_db_string(config)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">478</th>
  <td class="line-code diff_in">
    <pre>  FireRuby::Database.db_string_for(config.symbolize_keys)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">479</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/VERSION
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>0.1.0
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/controllers/join_project_requests_controller.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class JoinProjectRequestsController &lt; ApplicationController
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  before_filter :require_login
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  before_filter :find_project, :except =&gt; [:index]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  before_filter :authorize, :except =&gt; [:index]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  before_filter :authorize_global, :only =&gt; [:index]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  def index
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    @join_requests = ProjectJoinRequest.pending_requests_to_manage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  def create
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    @join_request = ProjectJoinRequest.create_request(User.current, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    respond_to do |format|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>      unless @join_request.new_record?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>        flash[:notice] = l(:join_project_successful_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>        format.html { redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>        flash[:error] = l(:join_project_error_cant_join)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>        format.html { redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  def accept
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    @join_request = ProjectJoinRequest.find(params[:id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    respond_to do |format|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>      if @join_request.accept!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>        flash[:notice] = l(:notice_successful_create)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>        format.html {redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>        flash[:error] = l(:join_project_error_cant_join)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>        format.html {redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>  def decline
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>    @join_request = ProjectJoinRequest.find(params[:id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    respond_to do |format|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>      if @join_request.decline!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>        flash[:notice] = l(:join_project_successful_decline)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>        format.html {redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>        flash[:error] = l(:join_project_error_cant_join)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>        format.html {redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>  private
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>  def find_project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>    @project = Project.find(params[:project_id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>    unless @project.request_to_join?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>      render_404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>  rescue ActiveRecord::RecordNotFound
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>    render_404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/controllers/join_projects_controller.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class JoinProjectsController &lt; ApplicationController
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  before_filter :require_login
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  before_filter :find_project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  before_filter :authorize
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  def create
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    @member = @project.members.build
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    @member.user = User.current
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    @member.roles = Role.find(Setting.plugin_redmine_join_project['roles'])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    respond_to do |format|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      if @member.save
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>        flash[:notice] = l(:notice_successful_create)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>        format.html { redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>        flash[:error] = l(:join_project_error_cant_join)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>        format.html { redirect_back_or_default(:controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; @project) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>  private
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  def find_project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>    @project = Project.find(params[:project_id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    unless @project.self_subscribe_allowed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      render_404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  rescue ActiveRecord::RecordNotFound
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>    render_404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/models/project_join_request.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class ProjectJoinRequest &lt; ActiveRecord::Base
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  belongs_to :user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  belongs_to :project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  validates_inclusion_of :status, :in =&gt; ['new', 'accepted', 'declined'], :allow_blank =&gt; 'true'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  validates_uniqueness_of :user_id, :scope =&gt; :project_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  named_scope :status_of, lambda { |status|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>      :conditions =&gt; {:status =&gt; status}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  named_scope :visible_to, lambda {|user|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      :include =&gt; :project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      :conditions =&gt; Project.allowed_to_condition(user, :approve_project_join_requests)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>  def accept!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    membership = project.members.build
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    membership.user = user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>    membership.roles = Role.find(Setting.plugin_redmine_join_project['roles'])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    membership.save &amp;&amp; self.update_attribute(:status, 'accepted')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  def decline!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>    self.update_attribute(:status, 'declined')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>    ProjectJoinRequestMailer.deliver_declined_request(self)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>    self
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>  def self.pending_requests_to_manage(user=User.current)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    status_of('new').visible_to(user)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>  def self.create_request(user, project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>    ProjectJoinRequest.create(:user =&gt; user, :project =&gt; project, :status =&gt; 'new')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>  def self.pending_request_for?(user, project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>    ProjectJoinRequest.find_by_user_id_and_project_id(user.id, project.id)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/models/project_join_request_mailer.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class ProjectJoinRequestMailer &lt; Mailer
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  def join_request(project_join_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    users = project_join_request.project.notified_users.collect do |user|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      if user.allowed_to?(:approve_project_join_requests, project_join_request.project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        user.mail unless user.pref.block_join_project_requests?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    end.compact
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    recipients users
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    subject &quot;[#{project_join_request.project.name}] #{l(:join_project_text_request_to_join)}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    body({:project_join_request =&gt; project_join_request})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    render_multipart('join_request', body)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>  def declined_request(project_join_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    recipients project_join_request.user.mail
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    subject &quot;[#{project_join_request.project.name}] #{l(:join_project_text_declined_request_to_join_this_project)}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    body({:project_join_request =&gt; project_join_request})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    render_multipart('declined_request', body)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/models/project_join_request_observer.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class ProjectJoinRequestObserver &lt; ActiveRecord::Observer
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  unloadable
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  def after_create(join_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    ProjectJoinRequestMailer.deliver_join_request(join_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/join_project_requests/_join_requests.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;% if join_requests.count &gt; 0 %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;table class=&quot;list&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  &lt;thead&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    &lt;tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      &lt;th&gt;&lt;%= l(:field_user) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      &lt;th&gt;&lt;%= l(:field_project) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>      &lt;th&gt;&amp;nbsp;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>      &lt;th&gt;&amp;nbsp;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    &lt;/tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  &lt;/thead&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  &lt;tbody&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    &lt;% join_requests.each do |project_join_request| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    &lt;tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>      &lt;%= content_tag(:td, link_to_user(project_join_request.user)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>      &lt;%= content_tag(:td, link_to(h(project_join_request.project), :controller =&gt; 'projects', :action =&gt; 'show', :id =&gt; project_join_request.project)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      &lt;td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        &lt;%= link_to(l(:join_project_text_accept_request), accept_join_project_request_path(:id =&gt; project_join_request, :project_id =&gt; project_join_request.project, :back_url =&gt; url_for(params))) %&gt; 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>      &lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>      &lt;td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>        &lt;%= link_to(l(:join_project_text_decline_request), decline_join_project_request_path(:id =&gt; project_join_request, :project_id =&gt; project_join_request.project, :back_url =&gt; url_for(params))) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>      &lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    &lt;/tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  &lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  &lt;/tbody&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>&lt;/table&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>&lt;% else %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>&lt;%= content_tag(:p, l(:label_no_data)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/join_project_requests/index.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;%= content_tag(:h1, l(:join_project_text_project_join_requests)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;%= render :partial =&gt; 'join_project_requests/join_requests', :object =&gt; @join_requests %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/join_projects/_my_account_notifications.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;% fields_for :pref, user.pref, :builder =&gt; TabularFormBuilder, :lang =&gt; current_language do |pref_fields| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;&lt;%= pref_fields.check_box :block_join_project_requests -%&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/join_projects/_request_to_join_sidebar.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;h3&gt;&lt;%= l(:join_project_text_join_project) %&gt;&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  &lt;%= link_to(l(:join_project_text_request_to_join_this_project), join_project_requests_path(:project_id =&gt; project, :back_url =&gt; url_for(params)), :method =&gt; :post) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/join_projects/_self_subscribe_sidebar.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;h3&gt;&lt;%= l(:join_project_text_join_project) %&gt;&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  &lt;%= link_to(l(:join_project_text_join_this_project), join_projects_path(:project_id =&gt; project, :back_url =&gt; url_for(params)), :method =&gt; :post) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/my/blocks/_project_join_requests.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;% pending_requests = ProjectJoinRequest.pending_requests_to_manage %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;%= render :partial =&gt; 'join_project_requests/join_requests', :object =&gt; pending_requests %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/project_join_request_mailer/declined_request.text.html.rhtml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;%= l(:join_project_text_your_request_to_join_was_declined, :project =&gt; @project_join_request.project.name) %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/project_join_request_mailer/declined_request.text.plain.rhtml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;%= l(:join_project_text_your_request_to_join_was_declined, :project =&gt; @project_join_request.project.name) %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/project_join_request_mailer/join_request.text.html.rhtml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  &lt;%= h(Setting.plugin_redmine_join_project['email_content']) -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>&lt;ul&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  &lt;li&gt;&lt;%= l(:field_user) %&gt;: &lt;%= h(@project_join_request.user) %&gt; (&lt;%= h(@project_join_request.user.login) %&gt;)&lt;/li&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  &lt;li&gt;&lt;%= l(:field_project) %&gt;: &lt;%= h(@project_join_request.project) %&gt;&lt;/li&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  &lt;li&gt;&lt;%= link_to(l(:join_project_text_accept_request), accept_join_project_request_url(:id =&gt; @project_join_request, :project_id =&gt; @project_join_request.project)) %&gt;&lt;/li&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  &lt;li&gt;&lt;%= link_to(l(:join_project_text_decline_request), decline_join_project_request_url(:id =&gt; @project_join_request, :project_id =&gt; @project_join_request.project)) %&gt;&lt;/li&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>&lt;/ul&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/project_join_request_mailer/join_request.text.plain.rhtml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;%= h(Setting.plugin_redmine_join_project['email_content']) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>* &lt;%= l(:field_user) %&gt;: &lt;%= h(@project_join_request.user) %&gt; (&lt;%= h(@project_join_request.user.login) %&gt;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>* &lt;%= l(:field_project) %&gt;: &lt;%= h(@project_join_request.project) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>* &lt;%= l(:join_project_text_accept_request) %&gt;: &lt;%= accept_join_project_request_url(:id =&gt; @project_join_request, :project_id =&gt; @project_join_request.project) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>* &lt;%= l(:join_project_text_decline_request) %&gt;: &lt;%= decline_join_project_request_url(:id =&gt; @project_join_request, :project_id =&gt; @project_join_request.project) %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/app/views/settings/_redmine_join_project.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  &lt;%= content_tag(:legend, l(:join_project_text_settings_configuration)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  &lt;%= content_tag(:p, l(:join_project_settings_help)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  &lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    &lt;%= content_tag(:label, l(:label_role_plural)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    &lt;%-
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>      roles = Role.all(:order =&gt; &quot;position ASC&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>      selected = @settings['roles'].collect(&amp;:to_i) unless @settings['roles'].blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>      selected ||= []
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    &lt;% unless roles.empty? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    &lt;%=
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>      select_tag(&quot;settings[roles]&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>                 content_tag(:option, '') + options_from_collection_for_select(roles, :id, :name, selected ),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>                 :multiple =&gt; true,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>                 :size =&gt; 5)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    &lt;% else %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>      &lt;%= link_to(l(:join_project_missing_roles), :controller =&gt; 'roles', :action =&gt; 'index') %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>   &lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  &lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>  &lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>    &lt;%= content_tag(:label, l(:join_project_setting_email_content)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    &lt;%= text_area_tag(&quot;settings[email_content]&quot;, @settings['email_content'], :rows =&gt; 5, :cols =&gt; 50) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  &lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>&lt;/fieldset&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/autotest/discover.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>Autotest.add_discovery do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  &quot;rails&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/config/locales/en.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre># English strings go here for Rails i18n
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>en:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  field_project_subscription: Non-Members request to join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_self_subscribe: Self subscribe
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_request_to_join: Request to join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_join_project: Join Project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_join_this_project: Join this project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_request_to_join_this_project: Request to join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_declined_request_to_join_this_project: Declined request to join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_settings_configuration: &quot;Configuration&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  join_project_settings_help: &quot;Select which roles each new project member should receive by default&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  join_project_missing_roles: &quot;Missing Role.  Please create at least one first.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  join_project_error_cant_join: &quot;Unable to join the project.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  join_project_successful_request: &quot;Your request to join is added. The project managers have been notified.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  join_project_successful_decline: &quot;Declined join request&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  join_project_setting_email_content: &quot;Email body text&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_accept_request: &quot;Accept request&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_decline_request: &quot;Decline request&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_project_join_requests: &quot;Project Join Requests&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_your_request_to_join_was_declined: &quot;Your request to join {{project}} was declined.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  field_block_join_project_requests: &quot;Block join project email requests&quot;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/config/locales/fr.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre># French strings go here for Rails i18n
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>fr:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  field_project_subscription: &quot;Non-membres demandent adhésion&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_self_subscribe: &quot;S'inscrire eux-mêmes&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_request_to_join: &quot;Demandent adhésion&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_join_project: &quot;Joignez-vous au projet&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_join_this_project: &quot;Joignez-vous au projet&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_request_to_join_this_project: &quot;Demande d'adhésion&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_declined_request_to_join_this_project: &quot;Demande d'adhésion refusée&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_settings_configuration: &quot;Configuration&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  join_project_settings_help: &quot;Sélectionnez les rôle que chaque nouveau membre devrait recevoir par défaut.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  join_project_missing_roles: &quot;Manque de rôle. S'il vous plaît créer au moins un.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  join_project_error_cant_join: &quot;Impossible de rejoindre le projet.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  join_project_successful_request: &quot;Votre demande d'adhésion est ajoutée. Les responsables du projet ont été informés.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  join_project_successful_decline: &quot;Demande d'adhésion refusée&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  join_project_setting_email_content: &quot;Texte du courriel&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_accept_request: &quot;Accepter la demande&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_decline_request: &quot;Refuser la demande&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_project_join_requests: &quot;Les demandes d'adhésion aux projets&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  join_project_text_your_request_to_join_was_declined: &quot;Votre demande d'adhésion au projet {{project}} a été refusé.&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  field_block_join_project_requests: &quot;Arrêter les courriels de demandes d'adhésion&quot;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/config/routes.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>ActionController::Routing::Routes.draw do |map|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  map.resources :join_projects, :path_prefix =&gt; '/projects/:project_id', :only =&gt; [:create], :as =&gt; 'join'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>  map.resources :join_project_requests, :path_prefix =&gt; '/projects/:project_id', :only =&gt; [:create, :accept, :decline], :as =&gt; 'join_request', :member =&gt; {:accept =&gt; [:get, :put], :decline =&gt; [:get, :put]}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  map.resources :join_project_requests, :only =&gt; [:index]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/db/migrate/001_add_project_subscription_to_projects.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class AddProjectSubscriptionToProjects &lt; ActiveRecord::Migration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  def self.up
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    add_column :projects, :project_subscription, :string
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  def self.down
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    remove_column :projects, :project_subscription
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/db/migrate/002_create_project_join_requests.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class CreateProjectJoinRequests &lt; ActiveRecord::Migration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  def self.up
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    create_table :project_join_requests do |t|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>      t.integer :user_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      t.integer :project_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      t.string :status
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>      t.timestamps
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    add_index :project_join_requests, :user_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    add_index :project_join_requests, :project_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    add_index :project_join_requests, :status
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  def self.down
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    drop_table :project_join_requests
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/init.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'redmine'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>require 'join_project/hooks/layout_hooks'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>require 'join_project/hooks/project_hooks'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>require 'join_project/hooks/my_hooks'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>require 'dispatcher'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>Dispatcher.to_prepare :redmine_join_project do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  require_dependency 'project'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  require_dependency 'user_preference'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  Project.send(:include, JoinProject::Patches::ProjectPatch)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  UserPreference.send(:include, JoinProject::Patches::UserPreferencePatch)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  # Remove the load the observer so it's registered for each request.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  ActiveRecord::Base.observers.delete(:project_join_request_observer)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  ActiveRecord::Base.observers &lt;&lt; :project_join_request_observer
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>Redmine::Plugin.register :redmine_join_project do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  name 'Join Project'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>  author 'Eric Davis'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  url 'https://projects.littlestreamsoftware.com/projects/redmine-join'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  author_url 'http://www.littlestreamsoftware.com'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  description 'A Redmine plugin to allow non-members to join a project in Redmine'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>  version '0.1.0'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>  requires_redmine :version_or_higher =&gt; '0.8.0'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>  permission(:approve_project_join_requests, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>               :join_project_requests =&gt; [:index, :accept, :decline]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>             })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  permission(:join_projects, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>               :join_projects =&gt; :create,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>               :join_project_requests =&gt; :create
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>             }, :public =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>  settings({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>             :partial =&gt; 'settings/redmine_join_project',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>             :default =&gt; {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>               'roles' =&gt; [],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>               'email_content' =&gt; 'A user would like to join your project. To approve or deny the request, use the link below:'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>             }})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>  # TODO: Need the unless for the test env, it's reloading oddly
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>  menu(:top_menu,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>       :project_join_requests,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>       {:controller =&gt; 'join_project_requests', :action =&gt; 'index'},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>       :caption =&gt; :join_project_text_project_join_requests,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>       :if =&gt; Proc.new {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>         User.current.allowed_to?(:approve_project_join_requests, nil, :global =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>       }) unless Redmine::MenuManager.map(:top_menu).exists?(:project_join_requests)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/lang/en.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre># English strings go here
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>my_label: &quot;My label&quot;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/lib/join_project/hooks/layout_hooks.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>module JoinProject
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  module Hooks
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    class LayoutHooks &lt; Redmine::Hook::ViewListener
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>      def view_layouts_base_sidebar(context={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>        project = context[:project]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>        return '' if project.nil?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        return '' unless User.current.logged?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>        return '' if User.current.member_of?(project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>        return '' if ProjectJoinRequest.pending_request_for?(User.current, project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>        case project.project_subscription
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>        when 'self-subscribe'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>          return context[:controller].send(:render_to_string, :partial =&gt; 'join_projects/self_subscribe_sidebar', :locals =&gt; {:project =&gt; project})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>        when 'request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>          return context[:controller].send(:render_to_string, :partial =&gt; 'join_projects/request_to_join_sidebar', :locals =&gt; {:project =&gt; project})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>        else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>          return ''
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/lib/join_project/hooks/my_hooks.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>module JoinProject
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  module Hooks
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    class MyHooks &lt; Redmine::Hook::ViewListener
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>      # :user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      # :form
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      def view_my_account(context={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        return context[:controller].send(:render_to_string, :partial =&gt; 'join_projects/my_account_notifications', :locals =&gt; {:user =&gt; context[:user], :form =&gt; context[:form]})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/lib/join_project/hooks/project_hooks.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>module JoinProject
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  module Hooks
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    class ProjectHooks &lt; Redmine::Hook::ViewListener
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>      # :project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>      # :form
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      def view_projects_form(context={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        content = context[:form].select(:project_subscription, Project.join_options_for_select)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>        return content_tag(:p, content)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/lib/join_project/patches/project_patch.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>module JoinProject
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  module Patches
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    module ProjectPatch
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>      def self.included(base)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>        base.send(:include, InstanceMethods)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>        base.class_eval do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>          safe_attributes 'project_subscription'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>        base.extend(ClassMethods)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>        base.class_eval do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>          validates_inclusion_of :project_subscription, :in =&gt; join_options, :allow_nil =&gt; true, :allow_blank =&gt; 'true'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>          safe_attributes :project_subscription
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>      module ClassMethods
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>        def join_options
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>          ['none','self-subscribe','request']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>        def join_options_for_select
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>          [
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>           [l(:label_none),'none'],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>           [l(:join_project_text_self_subscribe), 'self-subscribe'],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>           [l(:join_project_text_request_to_join), 'request']
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>           ]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>      module InstanceMethods
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>        def self_subscribe_allowed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>          project_subscription == 'self-subscribe'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>        def request_to_join?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>          project_subscription == 'request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>        def joining_allowed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>          ['request', 'self-subscribe'].include?(project_subscription)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/lib/join_project/patches/user_preference_patch.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>module JoinProject
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  module Patches
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    module UserPreferencePatch
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>      def self.included(base)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>        base.send(:include, InstanceMethods)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>      module InstanceMethods
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>        def block_join_project_requests
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>          self[:block_join_project_requests]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>        def block_join_project_requests=(value)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>          self[:block_join_project_requests]=value
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>        def block_join_project_requests?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>          self[:block_join_project_requests].to_i &gt; 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/functional/join_project_requests_controller_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class JoinProjectRequestsControllerTest &lt; ActionController::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  context &quot;routing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    should_route :get, &quot;/join_project_requests&quot;, { :controller =&gt; 'join_project_requests', :action =&gt; :index}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    should_route :post, &quot;/projects/testingroutes/join_request&quot;, { :controller =&gt; 'join_project_requests', :action =&gt; :create, :project_id =&gt; 'testingroutes' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    should_route :get, &quot;/projects/testingroutes/join_request/100/accept&quot;, { :controller =&gt; 'join_project_requests', :action =&gt; :accept, :project_id =&gt; 'testingroutes', :id =&gt; '100'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    should_route :put, &quot;/projects/testingroutes/join_request/100/accept&quot;, { :controller =&gt; 'join_project_requests', :action =&gt; :accept, :project_id =&gt; 'testingroutes', :id =&gt; '100'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    should_route :get, &quot;/projects/testingroutes/join_request/100/decline&quot;, { :controller =&gt; 'join_project_requests', :action =&gt; :decline, :project_id =&gt; 'testingroutes', :id =&gt; '100'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    should_route :put, &quot;/projects/testingroutes/join_request/100/decline&quot;, { :controller =&gt; 'join_project_requests', :action =&gt; :decline, :project_id =&gt; 'testingroutes', :id =&gt; '100'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  should_have_before_filter :find_project, :except =&gt; [:index]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  should_have_before_filter :authorize, :except =&gt; [:index]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>  should_have_before_filter :authorize_global, :only =&gt; [:index]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on GET to :index for a user with visible Project Join Requests&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = setup_manager_for_project(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>      @user1 = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>      @user2 = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      @join_request1 = ProjectJoinRequest.create_request(@user1, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>      @join_request2 = ProjectJoinRequest.create_request(@user2, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>      @back_url = CGI.escape(&quot;/join_project_requests&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>      get :index
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    should_assign_to :join_requests
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>    should_respond_with :success
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    should_render_template :index
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>    should_not_set_the_flash
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>    should &quot;show links to accept the requests&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>      assert_select &quot;a[href=?]&quot;, &quot;/projects/#{@project.to_param}/join_request/#{@join_request1.id}/accept?back_url=#{@back_url}&quot;, :text =&gt; 'Accept request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>      assert_select &quot;a[href=?]&quot;, &quot;/projects/#{@project.to_param}/join_request/#{@join_request2.id}/accept?back_url=#{@back_url}&quot;, :text =&gt; 'Accept request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>    should &quot;show links to decline the requests&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>      assert_select &quot;a[href=?]&quot;, &quot;/projects/#{@project.to_param}/join_request/#{@join_request1.id}/decline?back_url=#{@back_url}&quot;, :text =&gt; 'Decline request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>      assert_select &quot;a[href=?]&quot;, &quot;/projects/#{@project.to_param}/join_request/#{@join_request2.id}/decline?back_url=#{@back_url}&quot;, :text =&gt; 'Decline request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on POST to :create on visible project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with request to join&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>        ActionMailer::Base.deliveries.clear
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>        setup_manager_for_project(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>        @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>        assert Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>      should_assign_to :join_request
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>      should_redirect_to(&quot;the project overview&quot;) { &quot;/projects/#{@project.to_param}&quot; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>      should_set_the_flash_to(/notified/i)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>      should &quot;send an email to the project members who can approve the request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>         assert_sent_email
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>      should &quot;create a new request in the Join Queue&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>        request = ProjectJoinRequest.find_by_user_id_and_project_id(@user.id, @project.id)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>        assert_kind_of ProjectJoinRequest, request
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>        assert_equal 'new', request.status
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with self-subscribe&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'self-subscribe')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>        @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>        assert Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>      should_respond_with 404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>      should_render_template 'common/404'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with no user joining allowed&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'none')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>        @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>        assert Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>      should_respond_with 404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>      should_render_template 'common/404'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with an invalid request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>        @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>        assert Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>        # Stub save to fail
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>        ProjectJoinRequest.stubs(:create).returns(ProjectJoinRequest.new)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>      should_assign_to :join_request
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>      should_redirect_to(&quot;the project overview&quot;) { &quot;/projects/#{@project.to_param}&quot; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>      should_set_the_flash_to(/Unable to join/i)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>      should &quot;not create a new request in the Join Queue&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>        assert_nil ProjectJoinRequest.find_by_user_id_and_project_id(@user.id, @project.id)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with no logged in user&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'none', :is_public =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>      should_respond_with :redirect
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>      should_redirect_to(&quot;login&quot;) { {:controller =&gt; 'account', :action =&gt; 'login'} }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on POST to :create on an unauthorized project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'request', :is_public =&gt; false)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>      assert !Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>      post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>    should_respond_with 403
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>    should_render_template 'common/403'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on GET to :accept on a visible project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = setup_manager_for_project(:project_subscription =&gt; 'request').id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>      @join_request = ProjectJoinRequest.create_request(@user, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>      get :accept, :project_id =&gt; @project.to_param, :id =&gt; @join_request.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>    should_assign_to :join_request
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>    should_redirect_to(&quot;the project overview&quot;) { &quot;/projects/#{@project.to_param}&quot; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>    should_set_the_flash_to(/Successful creation/i)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>    should &quot;create a new Member for the current user on the project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>      @user.reload
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>      assert @user.member_of?(@project), &quot;Membership not created&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>      @configured_roles.each do |role|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>        assert @user.roles_for_project(@project).include?(role), &quot;Missing the configured role of #{role}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>    should &quot;update the join request to be 'accepted'&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>      @join_request.reload
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>      assert_equal 'accepted', @join_request.status
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on GET to :accept on an unauthorized project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'request', :is_public =&gt; false)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>      assert !Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>      get :accept, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>    should_respond_with 403
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>    should_render_template 'common/403'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on GET to :accept on an authorized project to an unauthorized project request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = setup_manager_for_project(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>      @join_request = ProjectJoinRequest.create_request(@user, Project.generate!(:project_subscription =&gt; 'request')) # Different project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>      get :accept, :project_id =&gt; @project.to_param, :id =&gt; @join_request.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>    should_respond_with 403
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>    should_render_template 'common/403'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on GET to :decline on a visible project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = setup_manager_for_project(:project_subscription =&gt; 'request').id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>      @join_request = ProjectJoinRequest.create_request(@user, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>      get :decline, :project_id =&gt; @project.to_param, :id =&gt; @join_request.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>    should_assign_to :join_request
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>    should_redirect_to(&quot;the project overview&quot;) { &quot;/projects/#{@project.to_param}&quot; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>    should_set_the_flash_to(/declined/i)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>    should &quot;update the join request to be 'declined'&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>      @join_request.reload
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>      assert_equal 'declined', @join_request.status
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">261</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">262</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on GET to :decline on an unauthorized project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">268</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'request', :is_public =&gt; false)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">269</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">270</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">271</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">272</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">273</th>
  <td class="line-code diff_in">
    <pre>      assert !Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">274</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">275</th>
  <td class="line-code diff_in">
    <pre>      get :decline, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">276</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">277</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">278</th>
  <td class="line-code diff_in">
    <pre>    should_respond_with 403
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">279</th>
  <td class="line-code diff_in">
    <pre>    should_render_template 'common/403'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">280</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">281</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">282</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on GET to :decline on an authorized project to an unauthorized project request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">283</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">284</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">285</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = setup_manager_for_project(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">286</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">287</th>
  <td class="line-code diff_in">
    <pre>      @join_request = ProjectJoinRequest.create_request(@user, Project.generate!(:project_subscription =&gt; 'request')) # Different project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">288</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">289</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">290</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">291</th>
  <td class="line-code diff_in">
    <pre>      get :decline, :project_id =&gt; @project.to_param, :id =&gt; @join_request.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">292</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">293</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">294</th>
  <td class="line-code diff_in">
    <pre>    should_respond_with 403
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">295</th>
  <td class="line-code diff_in">
    <pre>    should_render_template 'common/403'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">296</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">297</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/functional/join_projects_controller_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class JoinProjectsControllerTest &lt; ActionController::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  context &quot;routing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    should_route :post, &quot;/projects/testingroutes/join&quot;, { :controller =&gt; 'join_projects', :action =&gt; :create, :project_id =&gt; 'testingroutes' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  should_have_before_filter :find_project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  should_have_before_filter :authorize
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on POST to :create on visible project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with self-subscribe&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'self-subscribe')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>        @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>        assert Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>      should_assign_to :member
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>      should_redirect_to(&quot;the project overview&quot;) { &quot;/projects/#{@project.to_param}&quot; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      should_set_the_flash_to(/Successful creation/i)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>      should &quot;create a new Member for the current user on the project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>        @user.reload
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>        assert @user.member_of?(@project), &quot;Membership not created&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>        @configured_roles.each do |role|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>          assert @user.roles_for_project(@project).include?(role), &quot;Missing the configured role of #{role}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with no user joining allowed&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'none')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>        @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>        assert Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>      should_respond_with 404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>      should_render_template 'common/404'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with an invalid member&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'self-subscribe')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>        @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>        @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>        assert Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>        # Stub save to fail
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>        Member.any_instance.stubs(:save).returns(false)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>      should_assign_to :member
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>      should_redirect_to(&quot;the project overview&quot;) { &quot;/projects/#{@project.to_param}&quot; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>      should_set_the_flash_to(/Unable to join/i)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>      should &quot;not create a new Member for the current user on the project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>        @user.reload
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>        assert !@user.member_of?(@project), &quot;Membership created&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with no logged in user&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>      setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>        setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>        @project = Project.generate!(:project_subscription =&gt; 'self-subscribe')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>        post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>      should_respond_with :redirect
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>      should_redirect_to(&quot;login&quot;) { {:controller =&gt; 'account', :action =&gt; 'login'} }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>  context &quot;on POST to :create on an unauthorized project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>      setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'self-subscribe', :is_public =&gt; false)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>      @request.session[:user_id] = @user.id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>      assert !@user.member_of?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>      assert !Project.all(:conditions =&gt; Project.visible_by(@user)).include?(@project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>      post :create, :project_id =&gt; @project.to_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>    should_respond_with 403
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>    should_render_template 'common/403'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/integration/request_to_join_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class RequestToJoinTest &lt; ActionController::IntegrationTest
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  def submit_request_to_join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    ActionMailer::Base.deliveries.clear
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    @password = 'request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    @project = Project.generate!(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    # Manager to get emails
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    @manager = User.generate_with_protected!(:login =&gt; 'manager', :mail =&gt; 'manager@example.com', :password =&gt; @password, :password_confirmation =&gt; @password)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    @manager.update_attributes(:mail_notification =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    @manager_role = Role.generate!(:permissions =&gt; [:approve_project_join_requests])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    Member.generate!(:principal =&gt; @manager, :project =&gt; @project, :roles =&gt; [@manager_role])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    # Login
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    @user = User.generate_with_protected!(:password =&gt; @password, :password_confirmation =&gt; @password)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    log_user(@user.login, @password)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>    # Go to project's issues
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    assert @project.request_to_join?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    get &quot;projects/#{@project.identifier}/activity&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    assert_response :success
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    # Click &quot;Join this project&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>    click_link &quot;Request to join&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    # Redirected back to previous page
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>    assert_equal current_url, url_for(:controller =&gt; 'projects', :action =&gt; 'activity', :id =&gt; @project.identifier)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>    assert_select 'div.flash.notice', /The project managers have been notified/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>    # Request added
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    assert_kind_of ProjectJoinRequest, ProjectJoinRequest.find_by_user_id_and_project_id(@user.id, @project.id)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    # Email sent
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>    assert_sent_email
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>    # Logout to clear session
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>    get 'logout'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>    assert_response :redirect
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    assert_equal User.anonymous, User.current
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>  test &quot;joining a project with request to join&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>    submit_request_to_join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>    ## Manager to approve
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>    log_user(@manager.login, @password)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>    assert_equal @manager, User.current
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>    # Setup the My Page Block
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>    xhr :post, &quot;my/add_block&quot;, :block =&gt; &quot;project-join-requests&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    # Go to My Page
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>    get 'my/page'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>    assert_response :success
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>    click_link &quot;Accept request&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>    # Redirected back to previous page
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>    assert_equal current_url, url_for(:controller =&gt; 'my', :action =&gt; 'page')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>    assert_select 'div.flash.notice', /success/i
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>    # Membership added
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>    membership = Member.find_by_user_id_and_project_id(@user.id, @project.id)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>    assert_kind_of Member, membership
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>    assert_equal 2, membership.roles.count
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>    @configured_roles.each do |role|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>      assert membership.roles.include?(role)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>  test &quot;declining a request to join a project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>    submit_request_to_join
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>    ## Manager to approve
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>    log_user(@manager.login, @password)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>    assert_equal @manager, User.current
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>    # Setup the My Page Block
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>    xhr :post, &quot;my/add_block&quot;, :block =&gt; &quot;project-join-requests&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>    # Go to My Page
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>    get 'my/page'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>    assert_response :success
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>    click_link &quot;Decline request&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>    # Redirected back to previous page
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>    assert_equal current_url, url_for(:controller =&gt; 'my', :action =&gt; 'page')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>    assert_select 'div.flash.notice', /Declined join request/i
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>    # No membership added
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>    assert_nil Member.find_by_user_id_and_project_id(@user.id, @project.id)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>    # Decline mail
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>    assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>      email.bcc.include?(@user.mail)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/integration/self_subscribe_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class SelfSubscribeTest &lt; ActionController::IntegrationTest
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  test &quot;joining a project with self subscribe&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    # Login
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    password = 'subscribe'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    @user = User.generate_with_protected!(:password =&gt; password, :password_confirmation =&gt; password)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    log_user(@user.login, password)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    # Go to project's issues
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    @project = Project.generate!(:project_subscription =&gt; 'self-subscribe')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    assert @project.self_subscribe_allowed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    get &quot;projects/#{@project.identifier}/activity&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    assert_response :success
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>    # Click &quot;Join this project&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    click_link &quot;Join this project&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    # Redirected back to previous page
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    assert_equal current_url, url_for(:controller =&gt; 'projects', :action =&gt; 'activity', :id =&gt; @project.identifier)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>    # Membership added
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    membership = Member.find_by_user_id_and_project_id(@user.id, @project.id)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>    assert_kind_of Member, membership
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    assert_equal 2, membership.roles.count
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    @configured_roles.each do |role|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>      assert membership.roles.include?(role)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/test_helper.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre># Load the normal Rails helper
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>require File.expand_path(File.dirname(__FILE__) + '/../../../../test/test_helper')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre># Ensure that we are using the temporary fixture path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>Engines::Testing.set_fixture_path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>Rails::Initializer.run do |config|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  config.gem &quot;webrat&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>Webrat.configure do |config|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>  config.mode = :rails
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>class ActiveSupport::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>  def setup
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    setup_anonymous_role
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    setup_non_member_role
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  def setup_anonymous_role
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    @anon_role = Role.generate!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>    @anon_role.update_attribute(:builtin, Role::BUILTIN_ANONYMOUS)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>  def setup_non_member_role
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>    @non_member_role = Role.generate!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    @non_member_role.update_attribute(:builtin, Role::BUILTIN_NON_MEMBER)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>  def configure_plugin(fields={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>    Setting.plugin_redmine_join_project = fields.stringify_keys
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>  def setup_plugin_configuration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    @configured_roles = [Role.generate!, Role.generate!]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>    configure_plugin({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>                       'roles' =&gt; @configured_roles.collect(&amp;:id).collect(&amp;:to_s),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>                       'email_content' =&gt; 'A user would like to join your project. To approve or deny the request, use the link below:'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>                     })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>  def setup_manager_for_project(project_attributes={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>    @project = Project.generate!(project_attributes)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>    @manager = User.generate_with_protected!(:mail =&gt; 'manager@example.com')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>    @manager.update_attributes(:mail_notification =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>    @manager_role = Role.generate!(:permissions =&gt; [:approve_project_join_requests])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>    Member.generate!(:principal =&gt; @manager, :project =&gt; @project, :roles =&gt; [@manager_role])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>    @manager
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/unit/lib/join_project/hooks/layout_hooks_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class JoinProject::Hooks::LayoutHooksTest &lt; ActionController::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  include Redmine::Hook::Helper
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  def controller
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    @controller ||= WelcomeController.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    @controller.response ||= ActionController::TestResponse.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    @controller
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  def request
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    @request ||= ActionController::TestRequest.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  def hook(args={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    call_hook :view_layouts_base_sidebar, args.merge(:controller =&gt; @controller)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#view_layouts_base_sidebar&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>      User.current = @user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    context &quot;with a project&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      context &quot;that doesn't allow joining&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>        should 'render nothing' do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>          assert hook(:project =&gt; @project).blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>      context &quot;that allows self subscribing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>        setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>          @project.project_subscription = 'self-subscribe'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>          @project.save!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>        context &quot;for a non-member&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>          should &quot;render the self subscribe partial&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>            @controller.expects(:render_to_string).with(:partial =&gt; 'join_projects/self_subscribe_sidebar',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>                                                        :locals =&gt; {:project =&gt; @project}).returns('')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>            @response.body = hook(:project =&gt; @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>        context &quot;for a member&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>          should &quot;render nothing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>            Member.generate!(:principal =&gt; @user, :project =&gt; @project, :roles =&gt; [Role.generate!])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>            assert hook(:project =&gt; @project).blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>        context &quot;for an anonymous user&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>          should &quot;render nothing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>            User.current = nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>            assert hook(:project =&gt; @project).blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>      context &quot;that allows request to join&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>        setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>          @project.project_subscription = 'request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>          @project.save!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>        context &quot;for a non-member&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>          should &quot;render the request to join partial&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>            @controller.expects(:render_to_string).with(:partial =&gt; 'join_projects/request_to_join_sidebar',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>                                                        :locals =&gt; {:project =&gt; @project}).returns('')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>            @response.body = hook(:project =&gt; @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>        context &quot;for a member&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>          should &quot;render nothing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>            Member.generate!(:principal =&gt; @user, :project =&gt; @project, :roles =&gt; [Role.generate!])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>            assert hook(:project =&gt; @project).blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>        context &quot;for a user who already has a request to join&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>          should &quot;render nothing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>            assert ProjectJoinRequest.create_request(@user, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>            assert hook(:project =&gt; @project).blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>        context &quot;for an anonymous user&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>          should &quot;render nothing&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>            User.current = nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>            assert hook(:project =&gt; @project).blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>          end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>        end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/unit/lib/join_project/hooks/project_hooks_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class JoinProject::Hooks::ProjectHooksTest &lt; ActionController::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  include Redmine::Hook::Helper
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  def controller
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    @controller ||= WelcomeController.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    @controller.response ||= ActionController::TestResponse.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    @controller
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  def request
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    @request ||= ActionController::TestRequest.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  def hook(args={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    call_hook :view_projects_form, args
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#view_projects_form&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      @form = mock
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>      @form.expects(:select)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    should 'render a select field for the project subscription options' do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      @response.body = hook(:project =&gt; @project, :form =&gt; @form)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/unit/lib/join_project/patches/project_patch_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class ProjectTest &lt; ActiveSupport::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  should_allow_values_for :project_subscription, '', 'none', 'self-subscribe', 'request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  should_not_allow_values_for :project_subscription, 'other', 'random text'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#self_subscribe_allowed?&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    should &quot;be true when project_subscription is 'self-subscribe'&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      @project.project_subscription = 'self-subscribe'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>      assert @project.self_subscribe_allowed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>    should &quot;be false with any other value&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>      @project.project_subscription = 'none'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      assert !@project.self_subscribe_allowed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#request_to_join?&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>    should &quot;be true when project_subscription is 'request'&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>      @project.project_subscription = 'request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>      assert @project.request_to_join?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    should &quot;be false with any other value&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>      @project.project_subscription = 'none'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>      assert !@project.request_to_join?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/unit/project_join_request_mailer_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class ProjectJoinRequestMailerTest &lt; ActiveSupport::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  include ActionController::Assertions::SelectorAssertions
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#join_request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>      Setting.bcc_recipients = '1'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>      @manager = User.generate_with_protected!(:mail =&gt; 'manager@example.com')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      @manager.update_attributes(:mail_notification =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      @blocking_manager = User.generate_with_protected!(:mail =&gt; 'manager2@example.com')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>      @blocking_manager.pref[:block_join_project_requests] = '1'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>      @blocking_manager.pref.save
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>      @blocking_manager.update_attributes(:mail_notification =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      @another_member = User.generate_with_protected!(:mail =&gt; 'member@example.com')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      @another_member.update_attributes(:mail_notification =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>      @manager_role = Role.generate!(:permissions =&gt; [:approve_project_join_requests])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>      Member.generate!(:principal =&gt; @manager, :project =&gt; @project, :roles =&gt; [@manager_role])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      Member.generate!(:principal =&gt; @blocking_manager, :project =&gt; @project, :roles =&gt; [@manager_role])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>      Member.generate!(:principal =&gt; @another_member, :project =&gt; @project, :roles =&gt; [Role.generate!])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>      @project_join_request = ProjectJoinRequest.create_request(@user, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>      ActionMailer::Base.deliveries.clear
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>      ProjectJoinRequestMailer.deliver_join_request(@project_join_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>    should &quot;be sent to the project members who can approve the request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>        assert email.bcc, &quot;No members included in the BCC&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>        email.bcc.include?(@manager.mail)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>    should &quot;not include managers who are blocking project join requests&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>        assert email.bcc, &quot;No members included in the BCC&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>        !email.bcc.include?(@blocking_manager.mail)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>    should &quot;have a subject&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>        email.subject =~ /#{@project.name}.*Request to join/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>    should &quot;include the template email from the project settings&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>        email.body =~ /#{Setting.plugin_redmine_join_project['email_content']}/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>    should &quot;include the requesting user name&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>        email.body =~ /User: #{@user.name}/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>    should &quot;include the requesting user login&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>        email.body =~ /#{@user.login}/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>    should &quot;include the project name&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>        email.body =~ /Project: #{@project.name}/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>    should &quot;link to the accept url&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>      assert_select_email do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>        assert_select &quot;a[href=?]&quot;, &quot;http://localhost:3000/projects/#{@project.to_param}/join_request/#{@project_join_request.id}/accept&quot;, :text =&gt; 'Accept request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>    should &quot;link to the deny url&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>      assert_select_email do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>        assert_select &quot;a[href=?]&quot;, &quot;http://localhost:3000/projects/#{@project.to_param}/join_request/#{@project_join_request.id}/decline&quot;, :text =&gt; 'Decline request'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#declined_request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>      Setting.bcc_recipients = '1'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>      @project_join_request = ProjectJoinRequest.create_request(@user, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>      @project_join_request.update_attribute(:status, 'declined')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>      ActionMailer::Base.deliveries.clear
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>      ProjectJoinRequestMailer.deliver_declined_request(@project_join_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>    should &quot;be sent the requesting user&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>        assert email.bcc
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>        email.bcc.include?(@user.mail)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>    should &quot;have a subject&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>        email.subject =~ /declined/i
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>    should &quot;include the project name&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>        email.body =~ /#{@project.name}/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>    should &quot;include a notice that the user's request was declined&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email do |email|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>        email.body =~ /your request to join #{@project.name} was declined/i
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/unit/project_join_request_observer_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class ProjectJoinRequestObserverTest &lt; ActiveSupport::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#after_save callback&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    should &quot;send an email&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>      @manager = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>      @manager_role = Role.generate!(:permissions =&gt; [:approve_project_join_requests])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>      Member.generate!(:user_id =&gt; @manager.id, :project =&gt; @project, :roles =&gt; [@manager_role])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>      @user = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      @project_join_request = ProjectJoinRequest.create_request(@user, @project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/redmine_join_project/test/unit/project_join_request_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>require 'test_helper'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>class ProjectJoinRequestTest &lt; ActiveSupport::TestCase
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  should_belong_to :user
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>  should_belong_to :project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>  should_allow_values_for :status, '', 'new', 'accepted', 'declined'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  should_not_allow_values_for :status, 'other', 'random text'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#after_save callback&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>    should &quot;send an email to the project members who can approve the request&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>      project = Project.generate!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>      manager = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>      manager_role = Role.generate!(:permissions =&gt; [:approve_project_join_requests])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>      Member.generate!(:principal =&gt; manager, :project =&gt; project, :roles =&gt; [manager_role], :mail_notification =&gt; true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>      ProjectJoinRequest.generate!(:user =&gt; User.generate_with_protected!,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>                                   :project =&gt; project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#pending_requests_to_manage&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>    setup do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>      @project = Project.generate!(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>      @manager = User.generate_with_protected!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>      @manager_role = Role.generate!(:permissions =&gt; [:approve_project_join_requests])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>      Member.generate!(:principal =&gt; @manager, :project =&gt; @project, :roles =&gt; [@manager_role])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>      # New requests
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>      @new1 = ProjectJoinRequest.generate!(:project =&gt; @project, :user =&gt; User.generate_with_protected!, :status =&gt; 'new')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>      @new2 = ProjectJoinRequest.generate!(:project =&gt; @project, :user =&gt; User.generate_with_protected!, :status =&gt; 'new')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>      # Old requests
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>      @previous1 = ProjectJoinRequest.generate!(:project =&gt; @project, :user =&gt; User.generate_with_protected!, :status =&gt; 'accepted')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>      @previous2 = ProjectJoinRequest.generate!(:project =&gt; @project, :user =&gt; User.generate_with_protected!, :status =&gt; 'declined')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>      @other_project = Project.generate!(:project_subscription =&gt; 'request')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>      @other_join_request = ProjectJoinRequest.generate!(:project =&gt; @other_project, :user =&gt; User.generate_with_protected!, :status =&gt; 'new')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>      User.current = @manager
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>    should &quot;only return new requests&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>      assert_equal 2, ProjectJoinRequest.pending_requests_to_manage.count
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>      assert ProjectJoinRequest.pending_requests_to_manage.include?(@new1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>      assert ProjectJoinRequest.pending_requests_to_manage.include?(@new2)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>    should &quot;not include requests on projects the user doesn't have permission to access&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>      assert !ProjectJoinRequest.pending_requests_to_manage.include?(@other_join_request)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>  context &quot;#decline!&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    should &quot;send an email to the requester&quot; do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>      @join_request = ProjectJoinRequest.generate!(:user =&gt; User.generate_with_protected!,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>                                                   :project =&gt; Project.generate!)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>      ActionMailer::Base.deliveries.clear
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>      @join_request.decline!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>      assert_sent_email
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/vendor/plugins/rfpdf/lib/tcpdf.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1803</th>
  <th class="line-num">1803</th>
  <td class="line-code ">
    <pre>			w = @w - @r_margin - @x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1804</th>
  <th class="line-num">1804</th>
  <td class="line-code ">
    <pre>		end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1805</th>
  <th class="line-num">1805</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1806</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>		wmax = (w - <span>3</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1806</th>
  <td class="line-code diff_in">
    <pre>		wmax = (w - <span>2</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1807</th>
  <th class="line-num">1807</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1808</th>
  <th class="line-num">1808</th>
  <td class="line-code ">
    <pre>		s = txt.gsub(&quot;\r&quot;, ''); # remove carriage returns
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1809</th>
  <th class="line-num">1809</th>
  <td class="line-code ">
    <pre>		nb = s.length;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">1862</th>
  <th class="line-num">1862</th>
  <td class="line-code ">
    <pre>				ns += 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1863</th>
  <th class="line-num">1863</th>
  <td class="line-code ">
    <pre>			end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1864</th>
  <th class="line-num">1864</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1865</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>			l = GetStringWidth(s[from_j, to_index - from_j<span></span>]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1865</th>
  <td class="line-code diff_in">
    <pre>			l = GetStringWidth(s[from_j, to_index - from_j<span> + 1</span>]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1866</th>
  <th class="line-num">1866</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1867</th>
  <th class="line-num">1867</th>
  <td class="line-code ">
    <pre>			if (l &gt; wmax)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1868</th>
  <th class="line-num">1868</th>
  <td class="line-code ">
    <pre>				#Automatic line break
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">1945</th>
  <th class="line-num">1945</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1946</th>
  <th class="line-num">1946</th>
  <td class="line-code ">
    <pre>		#Output text in flowing mode
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1947</th>
  <th class="line-num">1947</th>
  <td class="line-code ">
    <pre>		w = @w - @r_margin - @x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1948</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>		wmax = (w - <span>3</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1948</th>
  <td class="line-code diff_in">
    <pre>		wmax = (w - <span>2</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1949</th>
  <th class="line-num">1949</th>
  <td class="line-code ">
    <pre>    
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1950</th>
  <th class="line-num">1950</th>
  <td class="line-code ">
    <pre>		s = txt.gsub(&quot;\r&quot;, '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1951</th>
  <th class="line-num">1951</th>
  <td class="line-code ">
    <pre>		nb = s.length;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">1974</th>
  <th class="line-num">1974</th>
  <td class="line-code ">
    <pre>				if (nl == 1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1975</th>
  <th class="line-num">1975</th>
  <td class="line-code ">
    <pre>					@x = @l_margin;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1976</th>
  <th class="line-num">1976</th>
  <td class="line-code ">
    <pre>					w = @w - @r_margin - @x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1977</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>					wmax = (w - <span>3</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1977</th>
  <td class="line-code diff_in">
    <pre>					wmax = (w - <span>2</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1978</th>
  <th class="line-num">1978</th>
  <td class="line-code ">
    <pre>				end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1979</th>
  <th class="line-num">1979</th>
  <td class="line-code ">
    <pre>				nl += 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1980</th>
  <th class="line-num">1980</th>
  <td class="line-code ">
    <pre>				next
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">1982</th>
  <th class="line-num">1982</th>
  <td class="line-code ">
    <pre>			if (c == &quot; &quot;[0])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1983</th>
  <th class="line-num">1983</th>
  <td class="line-code ">
    <pre>				sep= i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1984</th>
  <th class="line-num">1984</th>
  <td class="line-code ">
    <pre>			end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1985</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>			l = GetStringWidth(s[j, i - j<span></span>]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1985</th>
  <td class="line-code diff_in">
    <pre>			l = GetStringWidth(s[j, i - j<span> + 1</span>]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1986</th>
  <th class="line-num">1986</th>
  <td class="line-code ">
    <pre>			if (l &gt; wmax)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1987</th>
  <th class="line-num">1987</th>
  <td class="line-code ">
    <pre>				#Automatic line break (word wrapping)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1988</th>
  <th class="line-num">1988</th>
  <td class="line-code ">
    <pre>				if (sep == -1)
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">1991</th>
  <th class="line-num">1991</th>
  <td class="line-code ">
    <pre>						@x = @l_margin;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1992</th>
  <th class="line-num">1992</th>
  <td class="line-code ">
    <pre>						@y += h;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1993</th>
  <th class="line-num">1993</th>
  <td class="line-code ">
    <pre>						w=@w - @r_margin - @x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1994</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>						wmax=(w - <span>3</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1994</th>
  <td class="line-code diff_in">
    <pre>						wmax=(w - <span>2</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1995</th>
  <th class="line-num">1995</th>
  <td class="line-code ">
    <pre>						i += 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1996</th>
  <th class="line-num">1996</th>
  <td class="line-code ">
    <pre>						nl += 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">1997</th>
  <th class="line-num">1997</th>
  <td class="line-code ">
    <pre>						next
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">2010</th>
  <th class="line-num">2010</th>
  <td class="line-code ">
    <pre>				if (nl==1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2011</th>
  <th class="line-num">2011</th>
  <td class="line-code ">
    <pre>					@x = @l_margin;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2012</th>
  <th class="line-num">2012</th>
  <td class="line-code ">
    <pre>					w = @w - @r_margin - @x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2013</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>					wmax = (w - <span>3</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2013</th>
  <td class="line-code diff_in">
    <pre>					wmax = (w - <span>2</span> * @c_margin);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2014</th>
  <th class="line-num">2014</th>
  <td class="line-code ">
    <pre>				end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2015</th>
  <th class="line-num">2015</th>
  <td class="line-code ">
    <pre>				nl += 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2016</th>
  <th class="line-num">2016</th>
  <td class="line-code ">
    <pre>			else
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">3474</th>
  <th class="line-num">3474</th>
  <td class="line-code ">
    <pre>					#Extract attributes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3475</th>
  <th class="line-num">3475</th>
  <td class="line-code ">
    <pre>					# get tag name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3476</th>
  <th class="line-num">3476</th>
  <td class="line-code ">
    <pre>					tag = element.scan(/([a-zA-Z0-9]*)/).flatten.delete_if {|x| x.length == 0}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3477</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>					tag = tag[0].<span>to_s.</span>downcase;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3477</th>
  <td class="line-code diff_in">
    <pre>					tag = tag[0].<span></span>downcase;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3478</th>
  <th class="line-num">3478</th>
  <td class="line-code ">
    <pre>					
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3479</th>
  <th class="line-num">3479</th>
  <td class="line-code ">
    <pre>					# get attributes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3480</th>
  <th class="line-num">3480</th>
  <td class="line-code ">
    <pre>					attr_array = element.scan(/([^=\s]*)=[&quot;\']?([^&quot;\']*)[&quot;\']?/)
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">3497</th>
  <th class="line-num">3497</th>
  <td class="line-code ">
    <pre>					#Extract attributes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3498</th>
  <th class="line-num">3498</th>
  <td class="line-code ">
    <pre>					# get tag name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3499</th>
  <th class="line-num">3499</th>
  <td class="line-code ">
    <pre>					tag = element.scan(/([a-zA-Z0-9]*)/).flatten.delete_if {|x| x.length == 0}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3500</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>					tag = tag[0].<span>to_s.</span>downcase;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3500</th>
  <td class="line-code diff_in">
    <pre>					tag = tag[0].<span></span>downcase;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3501</th>
  <th class="line-num">3501</th>
  <td class="line-code ">
    <pre>					
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3502</th>
  <th class="line-num">3502</th>
  <td class="line-code ">
    <pre>					# get attributes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3503</th>
  <th class="line-num">3503</th>
  <td class="line-code ">
    <pre>					attr_array = element.scan(/([^=\s]*)=[&quot;\']?([^&quot;\']*)[&quot;\']?/)
</pre>
  </td>
</tr>
</tbody>
</table>
</div>




<p class="other-formats">(Other formats not available in this archive.</p>




        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

<!-- Mirrored from redmine.ogf.org/projects/redmine-og/repository/revisions/3d3d991b7f99b0221a435870d5dcce9365c1b8ac/diff by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Sep 2022 22:40:30 GMT -->
</html>
