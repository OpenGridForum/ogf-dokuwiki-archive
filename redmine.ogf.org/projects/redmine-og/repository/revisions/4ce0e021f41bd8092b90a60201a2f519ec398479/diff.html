<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from redmine.ogf.org/projects/redmine-og/repository/revisions/4ce0e021f41bd8092b90a60201a2f519ec398479/diff by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Sep 2022 17:36:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>/ - Diff - Redmine - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="7RiXtn8JMoxXZTBSrtL64n0O2gGmxf69GTM4qjOvQSI="/>
<link rel='shortcut icon' href='../../../../../favicon4460.ico?1425381960' />
<link href="../../../../../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../../../../../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../../../../../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../../../../../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../../../../../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../../../../../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../../../../../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../../../../../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

<link href="../../../../../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Ogf redmine controller-repositories action-diff">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../../../../../login.html" class="login">Login</a></li>
<li><a href="../../../../../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../../../../../index.html" class="home">Home</a></li>
<li><a href="../../../../../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/redmine-og" method="get">
        <input name="changesets" type="hidden" value="1" />
        <label for='q'>
          <a href="../../../../../search/index/redmine-og.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../../../../operations/repository.html?jump=repository" class="root">Operations</a> » <a href="../../../../it-og/repository.html?jump=repository" class="ancestor">IT</a> » Redmine</h1>

    
    <div id="main-menu">
        <ul><li><a href="../../../../redmine-og.html" class="overview">Overview</a></li>
<li><a href="../../../issues.html" class="issues">Issues</a></li>
<li><a href="../../../issues/calendar.html" class="calendar">Calendar</a></li>
<li><a href="../../../news.html" class="news">News</a></li>
<li><a href="../../../../../dmsf/redmine-og.html" class="dmsf">Documents</a></li>
<li><a href="../../../wiki.html" class="wiki">Wiki</a></li>
<li><a href="../../../files.html" class="files">Files</a></li>
<li><a href="../../../repository.html" class="repository selected">Repository</a></li></ul>
    </div>
    
</div>

<div class="nosidebar" id="main">
    <div id="sidebar">
        
        
  
  


    </div>

    <div id="content">
        
        <h2>Revision 4ce0e021 </h2>

<!-- Choose view type -->
<form action="https://redmine.ogf.org/projects/redmine-og/repository/diff" method="get">
  <input id="rev" name="rev" type="hidden" value="4ce0e021f41bd8092b90a60201a2f519ec398479" />
  
  <p>
    <label>View differences</label>
    <select id="type" name="type" onchange="if (this.value != '') {this.form.submit()}"><option value="inline" selected="selected">inline</option>
<option value="sbs">side by side</option></select>
  </p>
</form>


<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/bin/update_mailinglists.pl
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">7</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>  use DBI;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>my $HOST = '<span>redmine.ogf.org</span>';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>my $HOST = '<span>localhost</span>';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num">11</th>
  <td class="line-code ">
    <pre>my $DATA = 'redmine';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>my $USER = 'redmine';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>my $PASS = '064adm<span>1</span>n';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>my $PASS = '064adm<span>i</span>n';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">14</th>
  <th class="line-num">14</th>
  <td class="line-code ">
    <pre>my $TYPE = 'mysql';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">15</th>
  <th class="line-num">15</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">16</th>
  <th class="line-num">16</th>
  <td class="line-code ">
    <pre>my $i = 0;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/README.txt
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>OVERVIEW
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>-------------------
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>This is a simple Javascript OpenID selector. It has been designed so 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>that users do not even need to know what OpenID is to use it, they 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>simply select their account by a recognisable logo.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>USAGE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>-------------------
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>See demo.html source
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>TROUBLESHOOTING
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>----------------------------
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>Please remember after you change list of providers, you must run 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>generate-sprite.js &lt;locale&gt; to refresh sprite image
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>generate-sprite.js requires ImageMagick to be installed and works
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>only in Windows (non-Windows users must run ./generate-sprite.sh or
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>./generate-sprite.rb)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>Before running generate-sprite.js for the first time, check its
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>source code and correct line 16 (var imagemagick = '&lt;...&gt;';) to 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>point to ImageMagick install dir.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>Please also remember that sprites may be reused: if two 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>localizations have the same provider list that differs only in text,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>it is reasonable to reuse the sprite: for example German 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>localization is reusing sprite from English localization, Ukrainian 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>localization is reusing sprite from Russian localization, etc.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>So, if provider list in root localization changes, localizations 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>that reuse the sprite must be also changed, or unlinked or relinked
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>to new root localization. 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>HOWTO
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>-------------------
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>1. how to create new (small) provider icon
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>   a. launch web browser, go to http://&lt;provider-site&gt;/favicon.ico
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>      and save the image as &lt;provider&gt;.ico in ./images.small folder
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>   b. launch GIMP or Photoshop and save 16x16 rendition from the 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>      icon as &lt;provider&gt;.ico.gif
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>   c. use ImageMagick command like 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>      convert &lt;provider&gt;.ico &lt;provider&gt;.ico.png to convert the icon
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>      to PNG format (it might generate several files, just pick 16x16
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>      rendition and rename it as &lt;provider&gt;.ico.png w/o .1.)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>2. how to create new (large) provider image
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>   a. grab provider logo image from its website
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>   b. resize the image not to exceed 90x30 rect
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>   c. save as the image as &lt;provider&gt;.gif in ./images.large folder
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>3. how to plug-in facebook provider
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>   put the following code in providers_large or providers_small:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>   facebook = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>     name: 'Facebook',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>     url: &quot;javascript:facebook_click();&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>   }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>   where facebook_click is something like:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>   function facebook_click() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>     $('#&lt;id of html fbconnect element&gt;').click();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>   }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>   the same mechanism also applies if you want to plug-in any oauth or
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>   xauth provider
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>LICENSE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>-------------------
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/compile-closure.sh
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>python ../closure-library/closure/bin/calcdeps.py \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>-i ../closure-library/closure/goog/deps.js \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>-i js/openid-closure.js \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>-p ../closure-library/closure/goog/ \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>-o compiled \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>-c ../closure-compiler/compiler.jar \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>-f &quot;--compilation_level=ADVANCED_OPTIMIZATIONS&quot; \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>-f &quot;--warning_level=VERBOSE&quot; \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>-f &quot;--define=goog.LOCALE='en'&quot; \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>-f &quot;--define=moose.ALLOW_AUTOLOGIN=true&quot; \
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>-f &quot;--externs=js/externs.js&quot; &gt; js/openid-closure-compiled.js
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/css/openid-shadow.css
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>#openid_form {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	width: 590px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>#openid_form legend {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	font-weight: bold;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>#openid_choice {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	display: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>#openid_input_area {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	clear: both;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	padding: 10px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>#openid_btns, #openid_btns br {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	clear: both;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>#openid_highlight {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	padding: 3px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	background-color: #FFFCC9;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	float: left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>.openid_large_btn {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>	width: 100px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>	height: 60px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>/* fix for IE 6 only: http://en.wikipedia.org/wiki/CSS_filter#Underscore_hack */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	_width: 104px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>	_height: 64px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>	border: 2px solid #DDD;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>	border-right: 2px solid #ccc;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>	border-bottom: 2px solid #ccc;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>	margin: 3px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>	float: left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>	border-radius: 5px;	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>	-moz-border-radius: 5px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	-webkit-border-radius: 5px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	box-shadow: 2px 2px 4px #ddd;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>	-moz-box-shadow: 2px 2px 4px #ddd;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>	-webkit-box-shadow: 2px 2px 4px #ddd;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>.openid_large_btn:hover {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>	margin: 4px 0 0 6px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>	border: 2px solid #999;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>	box-shadow: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>	-moz-box-shadow: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>	-webkit-box-shadow: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>.openid_small_btn {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	width: 24px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	height: 24px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>/* fix for IE 6 only: http://en.wikipedia.org/wiki/CSS_filter#Underscore_hack */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>	_width: 28px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>	_height: 28px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>	border: 2px solid #DDD;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>	border-right: 2px solid #ccc;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>	border-bottom: 2px solid #ccc;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>	margin: 3px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>	float: left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>	border-radius: 5px;	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>	-moz-border-radius: 5px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>	-webkit-border-radius: 5px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>	box-shadow: 2px 2px 4px #ddd;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>	-moz-box-shadow: 2px 2px 4px #ddd;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>	-webkit-box-shadow: 2px 2px 4px #ddd;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>.openid_small_btn:hover {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>	margin: 4px 0 0 6px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>	border: 2px solid #999;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>	box-shadow: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>	-moz-box-shadow: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>	-webkit-box-shadow: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>a.openid_large_btn:focus {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>	outline: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>a.openid_large_btn:focus {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>	-moz-outline-style: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>.openid_selected {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>	border: 4px solid #DDD;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/css/openid.css
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>#openid_form {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	width: 580px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>#openid_form legend {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	font-weight: bold;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>#openid_choice {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	display: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>#openid_input_area {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	clear: both;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	padding: 10px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>#openid_btns, #openid_btns br {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	clear: both;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>#openid_highlight {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	padding: 3px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	background-color: #FFFCC9;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	float: left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>.openid_large_btn {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>	width: 100px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>	height: 60px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>/* fix for IE 6 only: http://en.wikipedia.org/wiki/CSS_filter#Underscore_hack */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	_width: 102px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>	_height: 62px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>	border: 1px solid #DDD;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>	margin: 3px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>	float: left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>.openid_small_btn {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>	width: 24px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	height: 24px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>/* fix for IE 6 only: http://en.wikipedia.org/wiki/CSS_filter#Underscore_hack */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>	_width: 26px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>	_height: 26px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>	border: 1px solid #DDD;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>	margin: 3px;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>	float: left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>a.openid_large_btn:focus {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>	outline: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>a.openid_large_btn:focus {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	-moz-outline-style: none;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>.openid_selected {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>	border: 4px solid #DDD;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/demo-closure-compiled.html
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;title&gt;Google Closure Simple OpenID Selector Demo&lt;/title&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/openid.css&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    &lt;script src=&quot;js/openid-closure-compiled.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-en.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	&lt;style type=&quot;text/css&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>		/* Basic page formatting */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		body {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>			font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	&lt;/style&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>&lt;/head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>&lt;body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	&lt;h2&gt;Google Closure Simple OpenID Selector Demo&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;This is a simple example to show how you can include the Javascript into your page.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>	&lt;br/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	&lt;form action=&quot;examples/consumer/try_auth.php&quot; method=&quot;get&quot; id=&quot;openid_form&quot; onsubmit=&quot;return openidselectorobject.submit();&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>		&lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;verify&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>		&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>			&lt;legend&gt;Sign-in or Create New Account&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_choice&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;Please click your account provider:&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>				&lt;div id=&quot;openid_btns&quot;&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_input_area&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_identifier&quot; name=&quot;openid_identifier&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;Sign-In&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>			&lt;noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;OpenID is service that allows you to log-on to many different websites using a single indentity.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>				Find out &lt;a href=&quot;http://openid.net/what/&quot;&gt;more about OpenID&lt;/a&gt; and &lt;a href=&quot;http://openid.net/get/&quot;&gt;how to get an OpenID enabled account&lt;/a&gt;.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>			&lt;/noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>	&lt;/form&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>  &lt;script&gt; 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>    openid.demo = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>    var openidselectorobject = new openidselector('openid_identifier');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>  &lt;/script&gt; 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>&lt;/body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>&lt;/html&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/demo-closure.html
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;title&gt;Google Closure Simple OpenID Selector Demo&lt;/title&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/openid.css&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    &lt;script src=&quot;../closure-library/closure/goog/base.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    &lt;script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>        goog.require('goog.dom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>        goog.require('goog.array');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>        goog.require('goog.object');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>        goog.require('goog.style');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>        goog.require('goog.net.cookies');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    &lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>    &lt;script src=&quot;js/openid-closure.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-en.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	&lt;style type=&quot;text/css&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>		/* Basic page formatting */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>		body {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>			font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	&lt;/style&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>&lt;/head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>&lt;body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	&lt;h2&gt;Google Closure Simple OpenID Selector Demo&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;This is a simple example to show how you can include the Javascript into your page.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	&lt;br/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	&lt;form action=&quot;examples/consumer/try_auth.php&quot; method=&quot;get&quot; id=&quot;openid_form&quot; onsubmit=&quot;return openidselectorobject.submit();&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		&lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;verify&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>		&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>			&lt;legend&gt;Sign-in or Create New Account&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_choice&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;Please click your account provider:&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>				&lt;div id=&quot;openid_btns&quot;&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_input_area&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_identifier&quot; name=&quot;openid_identifier&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;Sign-In&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>			&lt;noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;OpenID is service that allows you to log-on to many different websites using a single indentity.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>				Find out &lt;a href=&quot;http://openid.net/what/&quot;&gt;more about OpenID&lt;/a&gt; and &lt;a href=&quot;http://openid.net/get/&quot;&gt;how to get an OpenID enabled account&lt;/a&gt;.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>			&lt;/noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>		&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	&lt;/form&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>  &lt;script&gt; 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>    openid.demo = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>    var openidselectorobject = new openidselector('openid_identifier');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>  &lt;/script&gt; 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>&lt;/body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>&lt;/html&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/demo-mootools.html
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;title&gt;Mootools Simple OpenID Selector Demo&lt;/title&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/openid.css&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/mootools-core.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/mootools-more.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-mootools.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-en.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		window.addEvent('domready', function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>			openid.init('openid_identifier');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>			openid.setDemoMode(true); //Stops form submission for client javascript-only test purposes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	&lt;style type=&quot;text/css&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>		/* Basic page formatting */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>		body {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>			font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	&lt;/style&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>&lt;/head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>&lt;body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	&lt;h2&gt;Mootools Simple OpenID Selector Demo&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;This is a simple example to show how you can include the Javascript into your page.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	&lt;br/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	&lt;form action=&quot;examples/consumer/try_auth.php&quot; method=&quot;get&quot; id=&quot;openid_form&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		&lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;verify&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>		&lt;input id=&quot;openid_form_submit&quot; type=&quot;submit&quot; style=&quot;display: none;&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>		&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>			&lt;legend&gt;Sign-in or Create New Account&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_choice&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;Please click your account provider:&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>				&lt;div id=&quot;openid_btns&quot;&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_input_area&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_identifier&quot; name=&quot;openid_identifier&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;Sign-In&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>			&lt;noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;OpenID is service that allows you to log-on to many different websites using a single indentity.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>				Find out &lt;a href=&quot;http://openid.net/what/&quot;&gt;more about OpenID&lt;/a&gt; and &lt;a href=&quot;http://openid.net/get/&quot;&gt;how to get an OpenID enabled account&lt;/a&gt;.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>			&lt;/noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>		&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>	&lt;/form&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>&lt;/body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>&lt;/html&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/demo-prototype.html
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;title&gt;Prototype Simple OpenID Selector Demo&lt;/title&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/openid.css&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/prototype.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-prototype.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-en.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>		document.observe('dom:loaded', function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>			openid.init('openid_identifier');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>			openid.setDemoMode(true); //Stops form submission for client javascript-only test purposes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	&lt;style type=&quot;text/css&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		/* Basic page formatting */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>		body {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>			font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	&lt;/style&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>&lt;/head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>&lt;body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	&lt;h2&gt;Prototype Simple OpenID Selector Demo&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;This is a simple example to show how you can include the Javascript into your page.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	&lt;br/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	&lt;form action=&quot;examples/consumer/try_auth.php&quot; method=&quot;get&quot; id=&quot;openid_form&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>		&lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;verify&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>			&lt;legend&gt;Sign-in or Create New Account&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_choice&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;Please click your account provider:&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>				&lt;div id=&quot;openid_btns&quot;&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_input_area&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_identifier&quot; name=&quot;openid_identifier&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;Sign-In&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>			&lt;noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;OpenID is service that allows you to log-on to many different websites using a single indentity.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>				Find out &lt;a href=&quot;http://openid.net/what/&quot;&gt;more about OpenID&lt;/a&gt; and &lt;a href=&quot;http://openid.net/get/&quot;&gt;how to get an OpenID enabled account&lt;/a&gt;.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>			&lt;/noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	&lt;/form&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>&lt;/body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>&lt;/html&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/demo-ru.html
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;title&gt;Демонстрация JQuery Simple OpenID Selector&lt;/title&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/openid.css&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.2.6.min.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-jquery.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-ru.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>		$(document).ready(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>			openid.init('openid_identifier');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>			openid.setDemoMode(true); //Не сабмитить форму, только для тестирования клиентского javascript'а
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	&lt;style type=&quot;text/css&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		/* Basic page formatting */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>		body {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>			font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	&lt;/style&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>&lt;/head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>&lt;body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	&lt;h2&gt;Демонстрация JQuery Simple OpenID Selector&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;Этот простой пример показывает как вы можете включить Javascript на вашей странице.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	&lt;br/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	&lt;form action=&quot;examples/consumer/try_auth.php&quot; method=&quot;get&quot; id=&quot;openid_form&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>		&lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;verify&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>			&lt;legend&gt;Войти или создать новый аккаунт&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_choice&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;Пожайлуста, выберите вашего аккаунт-провайдера:&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>				&lt;div id=&quot;openid_btns&quot;&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_input_area&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_identifier&quot; name=&quot;openid_identifier&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;Войти&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>			&lt;noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;OpenID это сервис который позволяет вам входить в разные веб-сайты пользуясь одной учетной записью.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>				Узнайте &lt;a href=&quot;http://openid.net/what/&quot;&gt;больше о OpenID&lt;/a&gt; и &lt;a href=&quot;http://openid.net/get/&quot;&gt;как получить OpenID аккаунт&lt;/a&gt;.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>			&lt;/noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	&lt;/form&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>&lt;/body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>&lt;/html&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/demo-uk.html
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;title&gt;Демонстрація JQuery Simple OpenID Selector&lt;/title&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/openid.css&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.2.6.min.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-jquery.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-uk.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>		$(document).ready(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>			openid.init('openid_identifier');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>			openid.setDemoMode(true); //Не сабмітити форму, тільки для тестування клієнтського javascript'а
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	&lt;style type=&quot;text/css&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		/* Basic page formatting */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>		body {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>			font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	&lt;/style&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>&lt;/head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>&lt;body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	&lt;h2&gt;Демонстрація JQuery Simple OpenID Selector&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;Цей простий приклад показує як ви можете включити Javascript на вашій сторінці.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	&lt;br/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	&lt;form action=&quot;examples/consumer/try_auth.php&quot; method=&quot;get&quot; id=&quot;openid_form&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>		&lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;verify&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>			&lt;legend&gt;Увійти або створити новий акаунт&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_choice&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;Будь-ласка, виберіть вашого акаунт-провайдера:&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>				&lt;div id=&quot;openid_btns&quot;&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_input_area&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_identifier&quot; name=&quot;openid_identifier&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;Увійти&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>			&lt;noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;OpenID це сервіс який дозволяє вам входити в разні веб-сайти користуючись одним обліковим записом.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>				Взнайте &lt;a href=&quot;http://openid.net/what/&quot;&gt;більше про OpenID&lt;/a&gt; та &lt;a href=&quot;http://openid.net/get/&quot;&gt;як отримати OpenID акаунт&lt;/a&gt;.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>			&lt;/noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	&lt;/form&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>&lt;/body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>&lt;/html&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/demo.html
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>	&lt;title&gt;JQuery Simple OpenID Selector Demo&lt;/title&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>	&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;css/openid.css&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.2.6.min.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-jquery.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot; src=&quot;js/openid-en.js&quot;&gt;&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	&lt;script type=&quot;text/javascript&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>		$(document).ready(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>			openid.init('openid_identifier');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>			openid.setDemoMode(true); //Stops form submission for client javascript-only test purposes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	&lt;/script&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	&lt;style type=&quot;text/css&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		/* Basic page formatting */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>		body {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>			font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	&lt;/style&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>&lt;/head&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>&lt;body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	&lt;h2&gt;JQuery Simple OpenID Selector Demo&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	&lt;p&gt;This is a simple example to show how you can include the Javascript into your page.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	&lt;br/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	&lt;form action=&quot;examples/consumer/try_auth.php&quot; method=&quot;get&quot; id=&quot;openid_form&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>		&lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;verify&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		&lt;fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>			&lt;legend&gt;Sign-in or Create New Account&lt;/legend&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_choice&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;Please click your account provider:&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>				&lt;div id=&quot;openid_btns&quot;&gt;&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>			&lt;div id=&quot;openid_input_area&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_identifier&quot; name=&quot;openid_identifier&quot; type=&quot;text&quot; value=&quot;http://&quot; /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>				&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;Sign-In&quot;/&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>			&lt;/div&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>			&lt;noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>				&lt;p&gt;OpenID is service that allows you to log-on to many different websites using a single indentity.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>				Find out &lt;a href=&quot;http://openid.net/what/&quot;&gt;more about OpenID&lt;/a&gt; and &lt;a href=&quot;http://openid.net/get/&quot;&gt;how to get an OpenID enabled account&lt;/a&gt;.&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>			&lt;/noscript&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		&lt;/fieldset&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	&lt;/form&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	&lt;!-- /Simple OpenID Selector --&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>&lt;/body&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>&lt;/html&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/generate-sprite.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>function exec(cmd) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	var shell = new ActiveXObject('WScript.Shell');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>	var exec = shell.Exec(cmd);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	while (exec.Status == 0) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>		WScript.Sleep(100);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>var imagemagick = 'C:/Program Files/ImageMagick-6.6.5-Q16/';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>var locale = 'en';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>if (WScript.Arguments.length == 0) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	// assuming english locale
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	locale = WScript.Arguments(0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>var fso = new ActiveXObject('Scripting.FileSystemObject');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>var s;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>var f = fso.OpenTextFile('js/openid-' + locale + '.js');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	s = f.ReadAll();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>} finally {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	f.Close();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>var openid = {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>eval(s);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>if (openid.locale != locale) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>	WScript.Echo('error: locale setting mismatch in js/openid-' + locale + '.js');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	WScript.Quit(-1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>if (openid.locale != openid.sprite) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>	WScript.Echo('error: ' + openid.locale + ' localization is reusing sprite from ' + openid.sprite 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>			+ ' localization. refresh sprite on original localization or don\'t reuse the sprite');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>	WScript.Quit(-1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>// generate small montage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>var cmd = imagemagick + 'montage';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>var i = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>for (provider_id in providers_large) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>	cmd += ' images.small/' + provider_id + '.ico.png';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>	i++;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>for (provider_id in providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>	cmd += ' images.small/' + provider_id + '.ico.png';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>	i++;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>var small = fso.GetTempName() + '.bmp';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>cmd += ' -tile ' + i + 'x1 -geometry 16x16+4+4 ' + small;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>exec(cmd);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>// generate large montage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>cmd = imagemagick + 'montage';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>i = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>for (provider_id in providers_large) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>	cmd += ' images.large/' + provider_id + '.gif';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>	i++;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>var large = fso.GetTempName() + '.bmp';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>cmd += ' -tile ' + i + 'x1 -geometry 100x60&gt;+0+0 ' + large;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>exec(cmd);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>// generate final montage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>var cmd = imagemagick + 'convert ' + large + ' ' + small + ' -append images/openid-providers-' + locale + '.png';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>exec(cmd);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>fso.DeleteFile(large);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>fso.DeleteFile(small);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>WScript.Echo(&quot;done&quot;);
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/generate-sprite.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>#!/usr/bin/env ruby
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>#	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>#	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>#	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>#	This code is licenced under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>#
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>#
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre># Requires rubygems (tested with 1.3.7) therubyracer (tested with 0.7.5),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre># and ImageMagick (tested with 6.6.5).
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre># Adjust path to ruby in the first line above
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>require 'rubygems'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>require 'v8'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>imagemagick = &quot;&quot;  # substitute specific path if needed
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>lang = ARGV[0] || &quot;en&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>cxt = V8::Context.new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>cxt['openid'] = {}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>cxt.load &quot;js/openid-#{lang}.js&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre># generate small montage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>cmd = &quot;#{imagemagick}montage&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>i = 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>cxt['providers_large'].each do |provider_id, details|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>  cmd += &quot; images.small/#{provider_id}.ico.png&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>  i += 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>cxt['providers_small'].each do |provider_id, details|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>  cmd += &quot; images.small/#{provider_id}.ico.png&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>  i += 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>cmd += &quot; -tile #{i}x1 -geometry '16x16+4+4' temp_small.bmp&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>`#{cmd}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre># generate large montage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>cmd = &quot;#{imagemagick}montage&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>i = 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>cxt['providers_large'].each do |provider_id, details|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  cmd += &quot; images.large/#{provider_id}.gif&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>  i += 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>cmd += &quot; -tile #{i}x1 -geometry '100x60&gt;+0+0' temp_large.bmp&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>`#{cmd}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre># generate final montage
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>cmd = &quot;#{imagemagick}convert temp_large.bmp temp_small.bmp -append images/openid-providers-#{lang}.png&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>`#{cmd}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre># clean up
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>`rm temp_large.bmp temp_small.bmp`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>nil
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/generate-sprite.sh
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>#!/bin/bash
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre># quick hack to replicate the functionality of generate-sprite.js on a linux machine.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre># released under the BSD license below
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>#
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre># Copyright (c) 2010, Yuval Levy http://www.photopla.net/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre># All rights reserved.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>#
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre># Redistribution and use in source and binary forms, with or without
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre># modification, are permitted provided that the following conditions are met:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>#     * Redistributions of source code must retain the above copyright
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>#       notice, this list of conditions and the following disclaimer.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>#     * Redistributions in binary form must reproduce the above copyright
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>#       notice, this list of conditions and the following disclaimer in the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>#       documentation and/or other materials provided with the distribution.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>#     * Neither the name of Yuval Levy nor the names of other contributors
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>#       may be used to endorse or promote products derived from this software
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>#       without specific prior written permission.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>#
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre># THIS SOFTWARE IS PROVIDED BY Yuval Levy ``AS IS'' AND ANY
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre># EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre># WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre># DISCLAIMED. IN NO EVENT SHALL Yuval Levy BE LIABLE FOR ANY
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre># DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre># (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre># LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre># ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre># (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre># SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>LOCALE='en'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>if [ ${#} -gt 0 ]; then
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>  # TODO:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  # validate input
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>  LOCALE=$1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>fi
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>JSFILE=js/openid-${LOCALE}.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>if [ ! -s ${JSFILE} ]; then
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>  echo &quot;locale not found&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  exit 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>fi
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre># TODO:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre># extract openid.locale and  openid.sprite = 'en' from JSFILE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre># if openid.locale not same as $LOCALE, quit with mismatch error
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre># if openid.sprite not same as openid.local, quit with error saying that the sprite from the other locale is used
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre># for now the script assumes the user to be smart enough to validate input
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>i=0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>SMALLCMD=&quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>LARGECMD=&quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>./remcomments.sed &lt; ${JSFILE} | sed -n '/providers_large/,/;/p' | sed -n '/: {/p' | sed 's/.*\t\(.*\) : {/\1/' &gt; tmp.txt
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>while read a
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>  SMALLCMD=&quot;${SMALLCMD} images.small/${a}.ico.png&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>  LARGECMD=&quot;${LARGECMD} images.large/${a}.gif&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>  i=$((i+1))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>done &lt; tmp.txt
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>LARGECMD=&quot;${LARGECMD} -tile ${i}x1 -geometry 100x60&gt;+0+0 large.bmp&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>./remcomments.sed &lt; ${JSFILE} | sed -n '/providers_small/,/;/p' | sed -n '/: {/p' | sed 's/.*\t\(.*\) : {/\1/' &gt; tmp.txt
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>while read a
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>  SMALLCMD=&quot;${SMALLCMD} images.small/${a}.ico.png&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>  i=$((i+1)) 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>done &lt; tmp.txt
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>SMALLCMD=&quot;${SMALLCMD} -tile ${i}x1 -geometry 16x16+4+4 small.bmp&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>`montage ${SMALLCMD}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>`montage ${LARGECMD}`
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>convert large.bmp small.bmp -append images/openid-providers-${LOCALE}.png
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>rm tmp.txt
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>rm small.bmp
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>rm large.bmp
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>echo &quot;done&quot;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/externs.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/** @return {Object} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>var openid = function(){};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>/** @return {string} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>openid.prototype.locale = function(){};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>/** @return {string} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>openid.prototype.sprite = function(){};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>/** @return {string} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>openid.prototype.demo_text = function(){};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>/** @return {string} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>openid.prototype.signin_text = function(){};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>/** @return {string} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>openid.prototype.image_title = function(){};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>/** @return {Object} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>var providers_large = function(){};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>/** @return {Object} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>var providers_small = function(){};
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/jquery-1.2.6.min.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre> * jQuery 1.2.6 - New Wave Javascript
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre> *
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre> * Copyright (c) 2008 John Resig (jquery.com)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre> * Dual licensed under the MIT (MIT-LICENSE.txt)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre> * and GPL (GPL-LICENSE.txt) licenses.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre> *
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre> * $Date: 2008-05-24 14:22:17 -0400 (Sat, 24 May 2008) $
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre> * $Rev: 5685 $
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>(function(){var _jQuery=window.jQuery,_$=window.$;var jQuery=window.jQuery=window.$=function(selector,context){return new jQuery.fn.init(selector,context);};var quickExpr=/^[^&lt;]*(&lt;(.|\s)+&gt;)[^&gt;]*$|^#(\w+)$/,isSimple=/^.[^:#\[\.]*$/,undefined;jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;if(selector.nodeType){this[0]=selector;this.length=1;return this;}if(typeof selector==&quot;string&quot;){var match=quickExpr.exec(selector);if(match&amp;&amp;(match[1]||!context)){if(match[1])selector=jQuery.clean([match[1]],context);else{var elem=document.getElementById(match[3]);if(elem){if(elem.id!=match[3])return jQuery().find(selector);return jQuery(elem);}selector=[];}}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>return jQuery(context).find(selector);}else if(jQuery.isFunction(selector))return jQuery(document)[jQuery.fn.ready?&quot;ready&quot;:&quot;load&quot;](selector);return this.setArray(jQuery.makeArray(selector));},jquery:&quot;1.2.6&quot;,size:function(){return this.length;},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num];},pushStack:function(elems){var ret=jQuery(elems);ret.prevObject=this;return ret;},setArray:function(elems){this.length=0;Array.prototype.push.apply(this,elems);return this;},each:function(callback,args){return jQuery.each(this,callback,args);},index:function(elem){var ret=-1;return jQuery.inArray(elem&amp;&amp;elem.jquery?elem[0]:elem,this);},attr:function(name,value,type){var options=name;if(name.constructor==String)if(value===undefined)return this[0]&amp;&amp;jQuery[type||&quot;attr&quot;](this[0],name);else{options={};options[name]=value;}return this.each(function(i){for(name in options)jQuery.attr(type?this.style:this,name,jQuery.prop(this,options[name],type,i,name));});},css:function(key,value){if((key=='width'||key=='height')&amp;&amp;parseFloat(value)&lt;0)value=undefined;return this.attr(key,value,&quot;curCSS&quot;);},text:function(text){if(typeof text!=&quot;object&quot;&amp;&amp;text!=null)return this.empty().append((this[0]&amp;&amp;this[0].ownerDocument||document).createTextNode(text));var ret=&quot;&quot;;jQuery.each(text||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8)ret+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this]);});});return ret;},wrapAll:function(html){if(this[0])jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;while(elem.firstChild)elem=elem.firstChild;return elem;}).append(this);return this;},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html);});},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html);});},append:function(){return this.domManip(arguments,true,false,function(elem){if(this.nodeType==1)this.appendChild(elem);});},prepend:function(){return this.domManip(arguments,true,true,function(elem){if(this.nodeType==1)this.insertBefore(elem,this.firstChild);});},before:function(){return this.domManip(arguments,false,false,function(elem){this.parentNode.insertBefore(elem,this);});},after:function(){return this.domManip(arguments,false,true,function(elem){this.parentNode.insertBefore(elem,this.nextSibling);});},end:function(){return this.prevObject||jQuery([]);},find:function(selector){var elems=jQuery.map(this,function(elem){return jQuery.find(selector,elem);});return this.pushStack(/[^+&gt;] [^+&gt;]/.test(selector)||selector.indexOf(&quot;..&quot;)&gt;-1?jQuery.unique(elems):elems);},clone:function(events){var ret=this.map(function(){if(jQuery.browser.msie&amp;&amp;!jQuery.isXMLDoc(this)){var clone=this.cloneNode(true),container=document.createElement(&quot;div&quot;);container.appendChild(clone);return jQuery.clean([container.innerHTML])[0];}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>return this.cloneNode(true);});var clone=ret.find(&quot;*&quot;).andSelf().each(function(){if(this[expando]!=undefined)this[expando]=null;});if(events===true)this.find(&quot;*&quot;).andSelf().each(function(i){if(this.nodeType==3)return;var events=jQuery.data(this,&quot;events&quot;);for(var type in events)for(var handler in events[type])jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data);});return ret;},filter:function(selector){return this.pushStack(jQuery.isFunction(selector)&amp;&amp;jQuery.grep(this,function(elem,i){return selector.call(elem,i);})||jQuery.multiFilter(selector,this));},not:function(selector){if(selector.constructor==String)if(isSimple.test(selector))return this.pushStack(jQuery.multiFilter(selector,this,true));else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>selector=jQuery.multiFilter(selector,this);var isArrayLike=selector.length&amp;&amp;selector[selector.length-1]!==undefined&amp;&amp;!selector.nodeType;return this.filter(function(){return isArrayLike?jQuery.inArray(this,selector)&lt;0:this!=selector;});},add:function(selector){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),typeof selector=='string'?jQuery(selector):jQuery.makeArray(selector))));},is:function(selector){return!!selector&amp;&amp;jQuery.multiFilter(selector,this).length&gt;0;},hasClass:function(selector){return this.is(&quot;.&quot;+selector);},val:function(value){if(value==undefined){if(this.length){var elem=this[0];if(jQuery.nodeName(elem,&quot;select&quot;)){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==&quot;select-one&quot;;if(index&lt;0)return null;for(var i=one?index:0,max=one?index+1:options.length;i&lt;max;i++){var option=options[i];if(option.selected){value=jQuery.browser.msie&amp;&amp;!option.attributes.value.specified?option.text:option.value;if(one)return value;values.push(value);}}return values;}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>return(this[0].value||&quot;&quot;).replace(/\r/g,&quot;&quot;);}return undefined;}if(value.constructor==Number)value+='';return this.each(function(){if(this.nodeType!=1)return;if(value.constructor==Array&amp;&amp;/radio|checkbox/.test(this.type))this.checked=(jQuery.inArray(this.value,value)&gt;=0||jQuery.inArray(this.name,value)&gt;=0);else if(jQuery.nodeName(this,&quot;select&quot;)){var values=jQuery.makeArray(value);jQuery(&quot;option&quot;,this).each(function(){this.selected=(jQuery.inArray(this.value,values)&gt;=0||jQuery.inArray(this.text,values)&gt;=0);});if(!values.length)this.selectedIndex=-1;}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>this.value=value;});},html:function(value){return value==undefined?(this[0]?this[0].innerHTML:null):this.empty().append(value);},replaceWith:function(value){return this.after(value).remove();},eq:function(i){return this.slice(i,i+1);},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments));},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},andSelf:function(){return this.add(this.prevObject);},data:function(key,value){var parts=key.split(&quot;.&quot;);parts[1]=parts[1]?&quot;.&quot;+parts[1]:&quot;&quot;;if(value===undefined){var data=this.triggerHandler(&quot;getData&quot;+parts[1]+&quot;!&quot;,[parts[0]]);if(data===undefined&amp;&amp;this.length)data=jQuery.data(this[0],key);return data===undefined&amp;&amp;parts[1]?this.data(parts[0]):data;}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>return this.trigger(&quot;setData&quot;+parts[1]+&quot;!&quot;,[parts[0],value]).each(function(){jQuery.data(this,key,value);});},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);});},domManip:function(args,table,reverse,callback){var clone=this.length&gt;1,elems;return this.each(function(){if(!elems){elems=jQuery.clean(args,this.ownerDocument);if(reverse)elems.reverse();}var obj=this;if(table&amp;&amp;jQuery.nodeName(this,&quot;table&quot;)&amp;&amp;jQuery.nodeName(elems[0],&quot;tr&quot;))obj=this.getElementsByTagName(&quot;tbody&quot;)[0]||this.appendChild(this.ownerDocument.createElement(&quot;tbody&quot;));var scripts=jQuery([]);jQuery.each(elems,function(){var elem=clone?jQuery(this).clone(true)[0]:this;if(jQuery.nodeName(elem,&quot;script&quot;))scripts=scripts.add(elem);else{if(elem.nodeType==1)scripts=scripts.add(jQuery(&quot;script&quot;,elem).remove());callback.call(obj,elem);}});scripts.each(evalScript);});}};jQuery.fn.init.prototype=jQuery.fn;function evalScript(i,elem){if(elem.src)jQuery.ajax({url:elem.src,async:false,dataType:&quot;script&quot;});else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||&quot;&quot;);if(elem.parentNode)elem.parentNode.removeChild(elem);}function now(){return+new Date;}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;if(target.constructor==Boolean){deep=target;target=arguments[1]||{};i=2;}if(typeof target!=&quot;object&quot;&amp;&amp;typeof target!=&quot;function&quot;)target={};if(length==i){target=this;--i;}for(;i&lt;length;i++)if((options=arguments[i])!=null)for(var name in options){var src=target[name],copy=options[name];if(target===copy)continue;if(deep&amp;&amp;copy&amp;&amp;typeof copy==&quot;object&quot;&amp;&amp;!copy.nodeType)target[name]=jQuery.extend(deep,src||(copy.length!=null?[]:{}),copy);else if(copy!==undefined)target[name]=copy;}return target;};var expando=&quot;jQuery&quot;+now(),uuid=0,windowData={},exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,defaultView=document.defaultView||{};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep)window.jQuery=_jQuery;return jQuery;},isFunction:function(fn){return!!fn&amp;&amp;typeof fn!=&quot;string&quot;&amp;&amp;!fn.nodeName&amp;&amp;fn.constructor!=Array&amp;&amp;/^[\s[]?function/.test(fn+&quot;&quot;);},isXMLDoc:function(elem){return elem.documentElement&amp;&amp;!elem.body||elem.tagName&amp;&amp;elem.ownerDocument&amp;&amp;!elem.ownerDocument.body;},globalEval:function(data){data=jQuery.trim(data);if(data){var head=document.getElementsByTagName(&quot;head&quot;)[0]||document.documentElement,script=document.createElement(&quot;script&quot;);script.type=&quot;text/javascript&quot;;if(jQuery.browser.msie)script.text=data;else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>script.appendChild(document.createTextNode(data));head.insertBefore(script,head.firstChild);head.removeChild(script);}},nodeName:function(elem,name){return elem.nodeName&amp;&amp;elem.nodeName.toUpperCase()==name.toUpperCase();},cache:{},data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando];if(!id)id=elem[expando]=++uuid;if(name&amp;&amp;!jQuery.cache[id])jQuery.cache[id]={};if(data!==undefined)jQuery.cache[id][name]=data;return name?jQuery.cache[id][name]:id;},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando];if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];name=&quot;&quot;;for(name in jQuery.cache[id])break;if(!name)jQuery.removeData(elem);}}else{try{delete elem[expando];}catch(e){if(elem.removeAttribute)elem.removeAttribute(expando);}delete jQuery.cache[id];}},each:function(object,callback,args){var name,i=0,length=object.length;if(args){if(length==undefined){for(name in object)if(callback.apply(object[name],args)===false)break;}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>for(;i&lt;length;)if(callback.apply(object[i++],args)===false)break;}else{if(length==undefined){for(name in object)if(callback.call(object[name],name,object[name])===false)break;}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>for(var value=object[0];i&lt;length&amp;&amp;callback.call(value,i,value)!==false;value=object[++i]){}}return object;},prop:function(elem,value,type,i,name){if(jQuery.isFunction(value))value=value.call(elem,i);return value&amp;&amp;value.constructor==Number&amp;&amp;type==&quot;curCSS&quot;&amp;&amp;!exclude.test(name)?value+&quot;px&quot;:value;},className:{add:function(elem,classNames){jQuery.each((classNames||&quot;&quot;).split(/\s+/),function(i,className){if(elem.nodeType==1&amp;&amp;!jQuery.className.has(elem.className,className))elem.className+=(elem.className?&quot; &quot;:&quot;&quot;)+className;});},remove:function(elem,classNames){if(elem.nodeType==1)elem.className=classNames!=undefined?jQuery.grep(elem.className.split(/\s+/),function(className){return!jQuery.className.has(classNames,className);}).join(&quot; &quot;):&quot;&quot;;},has:function(elem,className){return jQuery.inArray(className,(elem.className||elem).toString().split(/\s+/))&gt;-1;}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name];}callback.call(elem);for(var name in options)elem.style[name]=old[name];},css:function(elem,name,force){if(name==&quot;width&quot;||name==&quot;height&quot;){var val,props={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},which=name==&quot;width&quot;?[&quot;Left&quot;,&quot;Right&quot;]:[&quot;Top&quot;,&quot;Bottom&quot;];function getWH(){val=name==&quot;width&quot;?elem.offsetWidth:elem.offsetHeight;var padding=0,border=0;jQuery.each(which,function(){padding+=parseFloat(jQuery.curCSS(elem,&quot;padding&quot;+this,true))||0;border+=parseFloat(jQuery.curCSS(elem,&quot;border&quot;+this+&quot;Width&quot;,true))||0;});val-=Math.round(padding+border);}if(jQuery(elem).is(&quot;:visible&quot;))getWH();else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>jQuery.swap(elem,props,getWH);return Math.max(0,val);}return jQuery.curCSS(elem,name,force);},curCSS:function(elem,name,force){var ret,style=elem.style;function color(elem){if(!jQuery.browser.safari)return false;var ret=defaultView.getComputedStyle(elem,null);return!ret||ret.getPropertyValue(&quot;color&quot;)==&quot;&quot;;}if(name==&quot;opacity&quot;&amp;&amp;jQuery.browser.msie){ret=jQuery.attr(style,&quot;opacity&quot;);return ret==&quot;&quot;?&quot;1&quot;:ret;}if(jQuery.browser.opera&amp;&amp;name==&quot;display&quot;){var save=style.outline;style.outline=&quot;0 solid black&quot;;style.outline=save;}if(name.match(/float/i))name=styleFloat;if(!force&amp;&amp;style&amp;&amp;style[name])ret=style[name];else if(defaultView.getComputedStyle){if(name.match(/float/i))name=&quot;float&quot;;name=name.replace(/([A-Z])/g,&quot;-$1&quot;).toLowerCase();var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle&amp;&amp;!color(elem))ret=computedStyle.getPropertyValue(name);else{var swap=[],stack=[],a=elem,i=0;for(;a&amp;&amp;color(a);a=a.parentNode)stack.unshift(a);for(;i&lt;stack.length;i++)if(color(stack[i])){swap[i]=stack[i].style.display;stack[i].style.display=&quot;block&quot;;}ret=name==&quot;display&quot;&amp;&amp;swap[stack.length-1]!=null?&quot;none&quot;:(computedStyle&amp;&amp;computedStyle.getPropertyValue(name))||&quot;&quot;;for(i=0;i&lt;swap.length;i++)if(swap[i]!=null)stack[i].style.display=swap[i];}if(name==&quot;opacity&quot;&amp;&amp;ret==&quot;&quot;)ret=&quot;1&quot;;}else if(elem.currentStyle){var camelCase=name.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase();});ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!/^\d+(px)?$/i.test(ret)&amp;&amp;/^\d/.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=ret||0;ret=style.pixelLeft+&quot;px&quot;;style.left=left;elem.runtimeStyle.left=rsLeft;}}return ret;},clean:function(elems,context){var ret=[];context=context||document;if(typeof context.createElement=='undefined')context=context.ownerDocument||context[0]&amp;&amp;context[0].ownerDocument||document;jQuery.each(elems,function(i,elem){if(!elem)return;if(elem.constructor==Number)elem+='';if(typeof elem==&quot;string&quot;){elem=elem.replace(/(&lt;(\w+)[^&gt;]*?)\/&gt;/g,function(all,front,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?all:front+&quot;&gt;&lt;/&quot;+tag+&quot;&gt;&quot;;});var tags=jQuery.trim(elem).toLowerCase(),div=context.createElement(&quot;div&quot;);var wrap=!tags.indexOf(&quot;&lt;opt&quot;)&amp;&amp;[1,&quot;&lt;select multiple='multiple'&gt;&quot;,&quot;&lt;/select&gt;&quot;]||!tags.indexOf(&quot;&lt;leg&quot;)&amp;&amp;[1,&quot;&lt;fieldset&gt;&quot;,&quot;&lt;/fieldset&gt;&quot;]||tags.match(/^&lt;(thead|tbody|tfoot|colg|cap)/)&amp;&amp;[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;]||!tags.indexOf(&quot;&lt;tr&quot;)&amp;&amp;[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;]||(!tags.indexOf(&quot;&lt;td&quot;)||!tags.indexOf(&quot;&lt;th&quot;))&amp;&amp;[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;]||!tags.indexOf(&quot;&lt;col&quot;)&amp;&amp;[2,&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;,&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;]||jQuery.browser.msie&amp;&amp;[1,&quot;div&lt;div&gt;&quot;,&quot;&lt;/div&gt;&quot;]||[0,&quot;&quot;,&quot;&quot;];div.innerHTML=wrap[1]+elem+wrap[2];while(wrap[0]--)div=div.lastChild;if(jQuery.browser.msie){var tbody=!tags.indexOf(&quot;&lt;table&quot;)&amp;&amp;tags.indexOf(&quot;&lt;tbody&quot;)&lt;0?div.firstChild&amp;&amp;div.firstChild.childNodes:wrap[1]==&quot;&lt;table&gt;&quot;&amp;&amp;tags.indexOf(&quot;&lt;tbody&quot;)&lt;0?div.childNodes:[];for(var j=tbody.length-1;j&gt;=0;--j)if(jQuery.nodeName(tbody[j],&quot;tbody&quot;)&amp;&amp;!tbody[j].childNodes.length)tbody[j].parentNode.removeChild(tbody[j]);if(/^\s/.test(elem))div.insertBefore(context.createTextNode(elem.match(/^\s*/)[0]),div.firstChild);}elem=jQuery.makeArray(div.childNodes);}if(elem.length===0&amp;&amp;(!jQuery.nodeName(elem,&quot;form&quot;)&amp;&amp;!jQuery.nodeName(elem,&quot;select&quot;)))return;if(elem[0]==undefined||jQuery.nodeName(elem,&quot;form&quot;)||elem.options)ret.push(elem);else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>ret=jQuery.merge(ret,elem);});return ret;},attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8)return undefined;var notxml=!jQuery.isXMLDoc(elem),set=value!==undefined,msie=jQuery.browser.msie;name=notxml&amp;&amp;jQuery.props[name]||name;if(elem.tagName){var special=/href|src|style/.test(name);if(name==&quot;selected&quot;&amp;&amp;jQuery.browser.safari)elem.parentNode.selectedIndex;if(name in elem&amp;&amp;notxml&amp;&amp;!special){if(set){if(name==&quot;type&quot;&amp;&amp;jQuery.nodeName(elem,&quot;input&quot;)&amp;&amp;elem.parentNode)throw&quot;type property can't be changed&quot;;elem[name]=value;}if(jQuery.nodeName(elem,&quot;form&quot;)&amp;&amp;elem.getAttributeNode(name))return elem.getAttributeNode(name).nodeValue;return elem[name];}if(msie&amp;&amp;notxml&amp;&amp;name==&quot;style&quot;)return jQuery.attr(elem.style,&quot;cssText&quot;,value);if(set)elem.setAttribute(name,&quot;&quot;+value);var attr=msie&amp;&amp;notxml&amp;&amp;special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr;}if(msie&amp;&amp;name==&quot;opacity&quot;){if(set){elem.zoom=1;elem.filter=(elem.filter||&quot;&quot;).replace(/alpha\([^)]*\)/,&quot;&quot;)+(parseInt(value)+''==&quot;NaN&quot;?&quot;&quot;:&quot;alpha(opacity=&quot;+value*100+&quot;)&quot;);}return elem.filter&amp;&amp;elem.filter.indexOf(&quot;opacity=&quot;)&gt;=0?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100)+'':&quot;&quot;;}name=name.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase();});if(set)elem[name]=value;return elem[name];},trim:function(text){return(text||&quot;&quot;).replace(/^\s+|\s+$/g,&quot;&quot;);},makeArray:function(array){var ret=[];if(array!=null){var i=array.length;if(i==null||array.split||array.setInterval||array.call)ret[0]=array;else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>while(i)ret[--i]=array[i];}return ret;},inArray:function(elem,array){for(var i=0,length=array.length;i&lt;length;i++)if(array[i]===elem)return i;return-1;},merge:function(first,second){var i=0,elem,pos=first.length;if(jQuery.browser.msie){while(elem=second[i++])if(elem.nodeType!=8)first[pos++]=elem;}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>while(elem=second[i++])first[pos++]=elem;return first;},unique:function(array){var ret=[],done={};try{for(var i=0,length=array.length;i&lt;length;i++){var id=jQuery.data(array[i]);if(!done[id]){done[id]=true;ret.push(array[i]);}}}catch(e){ret=array;}return ret;},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i&lt;length;i++)if(!inv!=!callback(elems[i],i))ret.push(elems[i]);return ret;},map:function(elems,callback){var ret=[];for(var i=0,length=elems.length;i&lt;length;i++){var value=callback(elems[i],i);if(value!=null)ret[ret.length]=value;}return ret.concat.apply([],ret);}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&amp;&amp;!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&amp;&amp;!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?&quot;styleFloat&quot;:&quot;cssFloat&quot;;jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode==&quot;CSS1Compat&quot;,props:{&quot;for&quot;:&quot;htmlFor&quot;,&quot;class&quot;:&quot;className&quot;,&quot;float&quot;:styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,readonly:&quot;readOnly&quot;,maxlength:&quot;maxLength&quot;,cellspacing:&quot;cellSpacing&quot;}});jQuery.each({parent:function(elem){return elem.parentNode;},parents:function(elem){return jQuery.dir(elem,&quot;parentNode&quot;);},next:function(elem){return jQuery.nth(elem,2,&quot;nextSibling&quot;);},prev:function(elem){return jQuery.nth(elem,2,&quot;previousSibling&quot;);},nextAll:function(elem){return jQuery.dir(elem,&quot;nextSibling&quot;);},prevAll:function(elem){return jQuery.dir(elem,&quot;previousSibling&quot;);},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem);},children:function(elem){return jQuery.sibling(elem.firstChild);},contents:function(elem){return jQuery.nodeName(elem,&quot;iframe&quot;)?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(selector){var ret=jQuery.map(this,fn);if(selector&amp;&amp;typeof selector==&quot;string&quot;)ret=jQuery.multiFilter(selector,ret);return this.pushStack(jQuery.unique(ret));};});jQuery.each({appendTo:&quot;append&quot;,prependTo:&quot;prepend&quot;,insertBefore:&quot;before&quot;,insertAfter:&quot;after&quot;,replaceAll:&quot;replaceWith&quot;},function(name,original){jQuery.fn[name]=function(){var args=arguments;return this.each(function(){for(var i=0,length=args.length;i&lt;length;i++)jQuery(args[i])[original](this);});};});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,&quot;&quot;);if(this.nodeType==1)this.removeAttribute(name);},addClass:function(classNames){jQuery.className.add(this,classNames);},removeClass:function(classNames){jQuery.className.remove(this,classNames);},toggleClass:function(classNames){jQuery.className[jQuery.className.has(this,classNames)?&quot;remove&quot;:&quot;add&quot;](this,classNames);},remove:function(selector){if(!selector||jQuery.filter(selector,[this]).r.length){jQuery(&quot;*&quot;,this).add(this).each(function(){jQuery.event.remove(this);jQuery.removeData(this);});if(this.parentNode)this.parentNode.removeChild(this);}},empty:function(){jQuery(&quot;&gt;*&quot;,this).remove();while(this.firstChild)this.removeChild(this.firstChild);}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments);};});jQuery.each([&quot;Height&quot;,&quot;Width&quot;],function(i,name){var type=name.toLowerCase();jQuery.fn[type]=function(size){return this[0]==window?jQuery.browser.opera&amp;&amp;document.body[&quot;client&quot;+name]||jQuery.browser.safari&amp;&amp;window[&quot;inner&quot;+name]||document.compatMode==&quot;CSS1Compat&quot;&amp;&amp;document.documentElement[&quot;client&quot;+name]||document.body[&quot;client&quot;+name]:this[0]==document?Math.max(Math.max(document.body[&quot;scroll&quot;+name],document.documentElement[&quot;scroll&quot;+name]),Math.max(document.body[&quot;offset&quot;+name],document.documentElement[&quot;offset&quot;+name])):size==undefined?(this.length?jQuery.css(this[0],type):null):this.css(type,size.constructor==String?size:size+&quot;px&quot;);};});function num(elem,prop){return elem[0]&amp;&amp;parseInt(jQuery.curCSS(elem[0],prop,true),10)||0;}var chars=jQuery.browser.safari&amp;&amp;parseInt(jQuery.browser.version)&lt;417?&quot;(?:[\\w*_-]|\\\\.)&quot;:&quot;(?:[\\w\u0128-\uFFFF*_-]|\\\\.)&quot;,quickChild=new RegExp(&quot;^&gt;\\s*(&quot;+chars+&quot;+)&quot;),quickID=new RegExp(&quot;^(&quot;+chars+&quot;+)(#)(&quot;+chars+&quot;+)&quot;),quickClass=new RegExp(&quot;^([#.]?)(&quot;+chars+&quot;*)&quot;);jQuery.extend({expr:{&quot;&quot;:function(a,i,m){return m[2]==&quot;*&quot;||jQuery.nodeName(a,m[2]);},&quot;#&quot;:function(a,i,m){return a.getAttribute(&quot;id&quot;)==m[2];},&quot;:&quot;:{lt:function(a,i,m){return i&lt;m[3]-0;},gt:function(a,i,m){return i&gt;m[3]-0;},nth:function(a,i,m){return m[3]-0==i;},eq:function(a,i,m){return m[3]-0==i;},first:function(a,i){return i==0;},last:function(a,i,m,r){return i==r.length-1;},even:function(a,i){return i%2==0;},odd:function(a,i){return i%2;},&quot;first-child&quot;:function(a){return a.parentNode.getElementsByTagName(&quot;*&quot;)[0]==a;},&quot;last-child&quot;:function(a){return jQuery.nth(a.parentNode.lastChild,1,&quot;previousSibling&quot;)==a;},&quot;only-child&quot;:function(a){return!jQuery.nth(a.parentNode.lastChild,2,&quot;previousSibling&quot;);},parent:function(a){return a.firstChild;},empty:function(a){return!a.firstChild;},contains:function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||&quot;&quot;).indexOf(m[3])&gt;=0;},visible:function(a){return&quot;hidden&quot;!=a.type&amp;&amp;jQuery.css(a,&quot;display&quot;)!=&quot;none&quot;&amp;&amp;jQuery.css(a,&quot;visibility&quot;)!=&quot;hidden&quot;;},hidden:function(a){return&quot;hidden&quot;==a.type||jQuery.css(a,&quot;display&quot;)==&quot;none&quot;||jQuery.css(a,&quot;visibility&quot;)==&quot;hidden&quot;;},enabled:function(a){return!a.disabled;},disabled:function(a){return a.disabled;},checked:function(a){return a.checked;},selected:function(a){return a.selected||jQuery.attr(a,&quot;selected&quot;);},text:function(a){return&quot;text&quot;==a.type;},radio:function(a){return&quot;radio&quot;==a.type;},checkbox:function(a){return&quot;checkbox&quot;==a.type;},file:function(a){return&quot;file&quot;==a.type;},password:function(a){return&quot;password&quot;==a.type;},submit:function(a){return&quot;submit&quot;==a.type;},image:function(a){return&quot;image&quot;==a.type;},reset:function(a){return&quot;reset&quot;==a.type;},button:function(a){return&quot;button&quot;==a.type||jQuery.nodeName(a,&quot;button&quot;);},input:function(a){return/input|select|textarea|button/i.test(a.nodeName);},has:function(a,i,m){return jQuery.find(m[3],a).length;},header:function(a){return/h\d/i.test(a.nodeName);},animated:function(a){return jQuery.grep(jQuery.timers,function(fn){return a==fn.elem;}).length;}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?&quot;?)(.*?)\4 *\]/,/^(:)([\w-]+)\(&quot;?'?(.*?(\(.*?\))?[^(]*?)&quot;?'?\)/,new RegExp(&quot;^([:.#]*)(&quot;+chars+&quot;+)&quot;)],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&amp;&amp;expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,&quot;&quot;);cur=not?elems=f.r:jQuery.merge(cur,f.r);}return cur;},find:function(t,context){if(typeof t!=&quot;string&quot;)return[t];if(context&amp;&amp;context.nodeType!=1&amp;&amp;context.nodeType!=9)return[];context=context||document;var ret=[context],done=[],last,nodeName;while(t&amp;&amp;last!=t){var r=[];last=t;t=jQuery.trim(t);var foundToken=false,re=quickChild,m=re.exec(t);if(m){nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++)for(var c=ret[i].firstChild;c;c=c.nextSibling)if(c.nodeType==1&amp;&amp;(nodeName==&quot;*&quot;||c.nodeName.toUpperCase()==nodeName))r.push(c);ret=r;t=t.replace(re,&quot;&quot;);if(t.indexOf(&quot; &quot;)==0)continue;foundToken=true;}else{re=/^([&gt;+~])\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var merge={};nodeName=m[2].toUpperCase();m=m[1];for(var j=0,rl=ret.length;j&lt;rl;j++){var n=m==&quot;~&quot;||m==&quot;+&quot;?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling)if(n.nodeType==1){var id=jQuery.data(n);if(m==&quot;~&quot;&amp;&amp;merge[id])break;if(!nodeName||n.nodeName.toUpperCase()==nodeName){if(m==&quot;~&quot;)merge[id]=true;r.push(n);}if(m==&quot;+&quot;)break;}}ret=r;t=jQuery.trim(t.replace(re,&quot;&quot;));foundToken=true;}}if(t&amp;&amp;!foundToken){if(!t.indexOf(&quot;,&quot;)){if(context==ret[0])ret.shift();done=jQuery.merge(done,ret);r=ret=[context];t=&quot; &quot;+t.substr(1,t.length);}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]];}else{re2=quickClass;m=re2.exec(t);}m[2]=m[2].replace(/\\/g,&quot;&quot;);var elem=ret[ret.length-1];if(m[1]==&quot;#&quot;&amp;&amp;elem&amp;&amp;elem.getElementById&amp;&amp;!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&amp;&amp;oid&amp;&amp;typeof oid.id==&quot;string&quot;&amp;&amp;oid.id!=m[2])oid=jQuery('[@id=&quot;'+m[2]+'&quot;]',elem)[0];ret=r=oid&amp;&amp;(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[];}else{for(var i=0;ret[i];i++){var tag=m[1]==&quot;#&quot;&amp;&amp;m[3]?m[3]:m[1]!=&quot;&quot;||m[0]==&quot;&quot;?&quot;*&quot;:m[2];if(tag==&quot;*&quot;&amp;&amp;ret[i].nodeName.toLowerCase()==&quot;object&quot;)tag=&quot;param&quot;;r=jQuery.merge(r,ret[i].getElementsByTagName(tag));}if(m[1]==&quot;.&quot;)r=jQuery.classFilter(r,m[2]);if(m[1]==&quot;#&quot;){var tmp=[];for(var i=0;r[i];i++)if(r[i].getAttribute(&quot;id&quot;)==m[2]){tmp=[r[i]];break;}r=tmp;}ret=r;}t=t.replace(re2,&quot;&quot;);}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t);}}if(t)ret=[];if(ret&amp;&amp;context==ret[0])ret.shift();done=jQuery.merge(done,ret);return done;},classFilter:function(r,m,not){m=&quot; &quot;+m+&quot; &quot;;var tmp=[];for(var i=0;r[i];i++){var pass=(&quot; &quot;+r[i].className+&quot; &quot;).indexOf(m)&gt;=0;if(!not&amp;&amp;pass||not&amp;&amp;!pass)tmp.push(r[i]);}return tmp;},filter:function(t,r,not){var last;while(t&amp;&amp;t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,&quot;&quot;);break;}}if(!m)break;if(m[1]==&quot;:&quot;&amp;&amp;m[2]==&quot;not&quot;)r=isSimple.test(m[3])?jQuery.filter(m[3],r,true).r:jQuery(r).not(m[3]);else if(m[1]==&quot;.&quot;)r=jQuery.classFilter(r,m[2],not);else if(m[1]==&quot;[&quot;){var tmp=[],type=m[3];for(var i=0,rl=r.length;i&lt;rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2]))z=jQuery.attr(a,m[2])||'';if((type==&quot;&quot;&amp;&amp;!!z||type==&quot;=&quot;&amp;&amp;z==m[5]||type==&quot;!=&quot;&amp;&amp;z!=m[5]||type==&quot;^=&quot;&amp;&amp;z&amp;&amp;!z.indexOf(m[5])||type==&quot;$=&quot;&amp;&amp;z.substr(z.length-m[5].length)==m[5]||(type==&quot;*=&quot;||type==&quot;~=&quot;)&amp;&amp;z.indexOf(m[5])&gt;=0)^not)tmp.push(a);}r=tmp;}else if(m[1]==&quot;:&quot;&amp;&amp;m[2]==&quot;nth-child&quot;){var merge={},tmp=[],test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(m[3]==&quot;even&quot;&amp;&amp;&quot;2n&quot;||m[3]==&quot;odd&quot;&amp;&amp;&quot;2n+1&quot;||!/\D/.test(m[3])&amp;&amp;&quot;0n+&quot;+m[3]||m[3]),first=(test[1]+(test[2]||1))-0,last=test[3]-0;for(var i=0,rl=r.length;i&lt;rl;i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);if(!merge[id]){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling)if(n.nodeType==1)n.nodeIndex=c++;merge[id]=true;}var add=false;if(first==0){if(node.nodeIndex==last)add=true;}else if((node.nodeIndex-last)%first==0&amp;&amp;(node.nodeIndex-last)/first&gt;=0)add=true;if(add^not)tmp.push(node);}r=tmp;}else{var fn=jQuery.expr[m[1]];if(typeof fn==&quot;object&quot;)fn=fn[m[2]];if(typeof fn==&quot;string&quot;)fn=eval(&quot;false||function(a,i){return &quot;+fn+&quot;;}&quot;);r=jQuery.grep(r,function(elem,i){return fn(elem,i,m,r);},not);}}return{r:r,t:t};},dir:function(elem,dir){var matched=[],cur=elem[dir];while(cur&amp;&amp;cur!=document){if(cur.nodeType==1)matched.push(cur);cur=cur[dir];}return matched;},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir])if(cur.nodeType==1&amp;&amp;++num==result)break;return cur;},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&amp;&amp;n!=elem)r.push(n);}return r;}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType==3||elem.nodeType==8)return;if(jQuery.browser.msie&amp;&amp;elem.setInterval)elem=window;if(!handler.guid)handler.guid=this.guid++;if(data!=undefined){var fn=handler;handler=this.proxy(fn,function(){return fn.apply(this,arguments);});handler.data=data;}var events=jQuery.data(elem,&quot;events&quot;)||jQuery.data(elem,&quot;events&quot;,{}),handle=jQuery.data(elem,&quot;handle&quot;)||jQuery.data(elem,&quot;handle&quot;,function(){if(typeof jQuery!=&quot;undefined&quot;&amp;&amp;!jQuery.event.triggered)return jQuery.event.handle.apply(arguments.callee.elem,arguments);});handle.elem=elem;jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(&quot;.&quot;);type=parts[0];handler.type=parts[1];var handlers=events[type];if(!handlers){handlers=events[type]={};if(!jQuery.event.special[type]||jQuery.event.special[type].setup.call(elem)===false){if(elem.addEventListener)elem.addEventListener(type,handle,false);else if(elem.attachEvent)elem.attachEvent(&quot;on&quot;+type,handle);}}handlers[handler.guid]=handler;jQuery.event.global[type]=true;});elem=null;},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType==3||elem.nodeType==8)return;var events=jQuery.data(elem,&quot;events&quot;),ret,index;if(events){if(types==undefined||(typeof types==&quot;string&quot;&amp;&amp;types.charAt(0)==&quot;.&quot;))for(var type in events)this.remove(elem,type+(types||&quot;&quot;));else{if(types.type){handler=types.handler;types=types.type;}jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(&quot;.&quot;);type=parts[0];if(events[type]){if(handler)delete events[type][handler.guid];else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>for(handler in events[type])if(!parts[1]||events[type][handler].type==parts[1])delete events[type][handler];for(ret in events[type])break;if(!ret){if(!jQuery.event.special[type]||jQuery.event.special[type].teardown.call(elem)===false){if(elem.removeEventListener)elem.removeEventListener(type,jQuery.data(elem,&quot;handle&quot;),false);else if(elem.detachEvent)elem.detachEvent(&quot;on&quot;+type,jQuery.data(elem,&quot;handle&quot;));}ret=null;delete events[type];}}});}for(ret in events)break;if(!ret){var handle=jQuery.data(elem,&quot;handle&quot;);if(handle)handle.elem=null;jQuery.removeData(elem,&quot;events&quot;);jQuery.removeData(elem,&quot;handle&quot;);}}},trigger:function(type,data,elem,donative,extra){data=jQuery.makeArray(data);if(type.indexOf(&quot;!&quot;)&gt;=0){type=type.slice(0,-1);var exclusive=true;}if(!elem){if(this.global[type])jQuery(&quot;*&quot;).add([window,document]).trigger(type,data);}else{if(elem.nodeType==3||elem.nodeType==8)return undefined;var val,ret,fn=jQuery.isFunction(elem[type]||null),event=!data[0]||!data[0].preventDefault;if(event){data.unshift({type:type,target:elem,preventDefault:function(){},stopPropagation:function(){},timeStamp:now()});data[0][expando]=true;}data[0].type=type;if(exclusive)data[0].exclusive=true;var handle=jQuery.data(elem,&quot;handle&quot;);if(handle)val=handle.apply(elem,data);if((!fn||(jQuery.nodeName(elem,'a')&amp;&amp;type==&quot;click&quot;))&amp;&amp;elem[&quot;on&quot;+type]&amp;&amp;elem[&quot;on&quot;+type].apply(elem,data)===false)val=false;if(event)data.shift();if(extra&amp;&amp;jQuery.isFunction(extra)){ret=extra.apply(elem,val==null?data:data.concat(val));if(ret!==undefined)val=ret;}if(fn&amp;&amp;donative!==false&amp;&amp;val!==false&amp;&amp;!(jQuery.nodeName(elem,'a')&amp;&amp;type==&quot;click&quot;)){this.triggered=true;try{elem[type]();}catch(e){}}this.triggered=false;}return val;},handle:function(event){var val,ret,namespace,all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);namespace=event.type.split(&quot;.&quot;);event.type=namespace[0];namespace=namespace[1];all=!namespace&amp;&amp;!event.exclusive;handlers=(jQuery.data(this,&quot;events&quot;)||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||handler.type==namespace){event.handler=handler;event.data=handler.data;ret=handler.apply(this,arguments);if(val!==false)val=ret;if(ret===false){event.preventDefault();event.stopPropagation();}}}return val;},fix:function(event){if(event[expando]==true)return event;var originalEvent=event;event={originalEvent:originalEvent};var props=&quot;altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view wheelDelta which&quot;.split(&quot; &quot;);for(var i=props.length;i;i--)event[props[i]]=originalEvent[props[i]];event[expando]=true;event.preventDefault=function(){if(originalEvent.preventDefault)originalEvent.preventDefault();originalEvent.returnValue=false;};event.stopPropagation=function(){if(originalEvent.stopPropagation)originalEvent.stopPropagation();originalEvent.cancelBubble=true;};event.timeStamp=event.timeStamp||now();if(!event.target)event.target=event.srcElement||document;if(event.target.nodeType==3)event.target=event.target.parentNode;if(!event.relatedTarget&amp;&amp;event.fromElement)event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement;if(event.pageX==null&amp;&amp;event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&amp;&amp;doc.scrollLeft||body&amp;&amp;body.scrollLeft||0)-(doc.clientLeft||0);event.pageY=event.clientY+(doc&amp;&amp;doc.scrollTop||body&amp;&amp;body.scrollTop||0)-(doc.clientTop||0);}if(!event.which&amp;&amp;((event.charCode||event.charCode===0)?event.charCode:event.keyCode))event.which=event.charCode||event.keyCode;if(!event.metaKey&amp;&amp;event.ctrlKey)event.metaKey=event.ctrlKey;if(!event.which&amp;&amp;event.button)event.which=(event.button&amp;1?1:(event.button&amp;2?3:(event.button&amp;4?2:0)));return event;},proxy:function(fn,proxy){proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;return proxy;},special:{ready:{setup:function(){bindReady();return;},teardown:function(){return;}},mouseenter:{setup:function(){if(jQuery.browser.msie)return false;jQuery(this).bind(&quot;mouseover&quot;,jQuery.event.special.mouseenter.handler);return true;},teardown:function(){if(jQuery.browser.msie)return false;jQuery(this).unbind(&quot;mouseover&quot;,jQuery.event.special.mouseenter.handler);return true;},handler:function(event){if(withinElement(event,this))return true;event.type=&quot;mouseenter&quot;;return jQuery.event.handle.apply(this,arguments);}},mouseleave:{setup:function(){if(jQuery.browser.msie)return false;jQuery(this).bind(&quot;mouseout&quot;,jQuery.event.special.mouseleave.handler);return true;},teardown:function(){if(jQuery.browser.msie)return false;jQuery(this).unbind(&quot;mouseout&quot;,jQuery.event.special.mouseleave.handler);return true;},handler:function(event){if(withinElement(event,this))return true;event.type=&quot;mouseleave&quot;;return jQuery.event.handle.apply(this,arguments);}}}};jQuery.fn.extend({bind:function(type,data,fn){return type==&quot;unload&quot;?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&amp;&amp;data);});},one:function(type,data,fn){var one=jQuery.event.proxy(fn||data,function(event){jQuery(this).unbind(event,one);return(fn||data).apply(this,arguments);});return this.each(function(){jQuery.event.add(this,type,one,fn&amp;&amp;data);});},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn);});},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn);});},triggerHandler:function(type,data,fn){return this[0]&amp;&amp;jQuery.event.trigger(type,data,this[0],false,fn);},toggle:function(fn){var args=arguments,i=1;while(i&lt;args.length)jQuery.event.proxy(fn,args[i++]);return this.click(jQuery.event.proxy(fn,function(event){this.lastToggle=(this.lastToggle||0)%i;event.preventDefault();return args[this.lastToggle++].apply(this,arguments)||false;}));},hover:function(fnOver,fnOut){return this.bind('mouseenter',fnOver).bind('mouseleave',fnOut);},ready:function(fn){bindReady();if(jQuery.isReady)fn.call(document,jQuery);else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>jQuery.readyList.push(function(){return fn.call(this,jQuery);});return this;}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.call(document);});jQuery.readyList=null;}jQuery(document).triggerHandler(&quot;ready&quot;);}}});var readyBound=false;function bindReady(){if(readyBound)return;readyBound=true;if(document.addEventListener&amp;&amp;!jQuery.browser.opera)document.addEventListener(&quot;DOMContentLoaded&quot;,jQuery.ready,false);if(jQuery.browser.msie&amp;&amp;window==top)(function(){if(jQuery.isReady)return;try{document.documentElement.doScroll(&quot;left&quot;);}catch(error){setTimeout(arguments.callee,0);return;}jQuery.ready();})();if(jQuery.browser.opera)document.addEventListener(&quot;DOMContentLoaded&quot;,function(){if(jQuery.isReady)return;for(var i=0;i&lt;document.styleSheets.length;i++)if(document.styleSheets[i].disabled){setTimeout(arguments.callee,0);return;}jQuery.ready();},false);if(jQuery.browser.safari){var numStyles;(function(){if(jQuery.isReady)return;if(document.readyState!=&quot;loaded&quot;&amp;&amp;document.readyState!=&quot;complete&quot;){setTimeout(arguments.callee,0);return;}if(numStyles===undefined)numStyles=jQuery(&quot;style, link[rel=stylesheet]&quot;).length;if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,0);return;}jQuery.ready();})();}jQuery.event.add(window,&quot;load&quot;,jQuery.ready);}jQuery.each((&quot;blur,focus,load,resize,scroll,unload,click,dblclick,&quot;+&quot;mousedown,mouseup,mousemove,mouseover,mouseout,change,select,&quot;+&quot;submit,keydown,keypress,keyup,error&quot;).split(&quot;,&quot;),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name);};});var withinElement=function(event,elem){var parent=event.relatedTarget;while(parent&amp;&amp;parent!=elem)try{parent=parent.parentNode;}catch(error){parent=elem;}return parent==elem;};jQuery(window).bind(&quot;unload&quot;,function(){jQuery(&quot;*&quot;).add(document).unbind();});jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!='string')return this._load(url);var off=url.indexOf(&quot; &quot;);if(off&gt;=0){var selector=url.slice(off,url.length);url=url.slice(0,off);}callback=callback||function(){};var type=&quot;GET&quot;;if(params)if(jQuery.isFunction(params)){callback=params;params=null;}else{params=jQuery.param(params);type=&quot;POST&quot;;}var self=this;jQuery.ajax({url:url,type:type,dataType:&quot;html&quot;,data:params,complete:function(res,status){if(status==&quot;success&quot;||status==&quot;notmodified&quot;)self.html(selector?jQuery(&quot;&lt;div/&gt;&quot;).append(res.responseText.replace(/&lt;script(.|\s)*?\/script&gt;/g,&quot;&quot;)).find(selector):res.responseText);self.each(callback,[res.responseText,status,res]);}});return this;},serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,&quot;form&quot;)?jQuery.makeArray(this.elements):this;}).filter(function(){return this.name&amp;&amp;!this.disabled&amp;&amp;(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val};}):{name:elem.name,value:val};}).get();}});jQuery.each(&quot;ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend&quot;.split(&quot;,&quot;),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f);};});var jsc=now();jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data=null;}return jQuery.ajax({type:&quot;GET&quot;,url:url,data:data,success:callback,dataType:type});},getScript:function(url,callback){return jQuery.get(url,null,callback,&quot;script&quot;);},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,&quot;json&quot;);},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={};}return jQuery.ajax({type:&quot;POST&quot;,url:url,data:data,success:callback,dataType:type});},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings);},ajaxSettings:{url:location.href,global:true,type:&quot;GET&quot;,timeout:0,contentType:&quot;application/x-www-form-urlencoded&quot;,processData:true,async:true,data:null,username:null,password:null,accepts:{xml:&quot;application/xml, text/xml&quot;,html:&quot;text/html&quot;,script:&quot;text/javascript, application/javascript&quot;,json:&quot;application/json, text/javascript&quot;,text:&quot;text/plain&quot;,_default:&quot;*/*&quot;}},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));var jsonp,jsre=/=\?(&amp;|$)/g,status,data,type=s.type.toUpperCase();if(s.data&amp;&amp;s.processData&amp;&amp;typeof s.data!=&quot;string&quot;)s.data=jQuery.param(s.data);if(s.dataType==&quot;jsonp&quot;){if(type==&quot;GET&quot;){if(!s.url.match(jsre))s.url+=(s.url.match(/\?/)?&quot;&amp;&quot;:&quot;?&quot;)+(s.jsonp||&quot;callback&quot;)+&quot;=?&quot;;}else if(!s.data||!s.data.match(jsre))s.data=(s.data?s.data+&quot;&amp;&quot;:&quot;&quot;)+(s.jsonp||&quot;callback&quot;)+&quot;=?&quot;;s.dataType=&quot;json&quot;;}if(s.dataType==&quot;json&quot;&amp;&amp;(s.data&amp;&amp;s.data.match(jsre)||s.url.match(jsre))){jsonp=&quot;jsonp&quot;+jsc++;if(s.data)s.data=(s.data+&quot;&quot;).replace(jsre,&quot;=&quot;+jsonp+&quot;$1&quot;);s.url=s.url.replace(jsre,&quot;=&quot;+jsonp+&quot;$1&quot;);s.dataType=&quot;script&quot;;window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp];}catch(e){}if(head)head.removeChild(script);};}if(s.dataType==&quot;script&quot;&amp;&amp;s.cache==null)s.cache=false;if(s.cache===false&amp;&amp;type==&quot;GET&quot;){var ts=now();var ret=s.url.replace(/(\?|&amp;)_=.*?(&amp;|$)/,&quot;$1_=&quot;+ts+&quot;$2&quot;);s.url=ret+((ret==s.url)?(s.url.match(/\?/)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+ts:&quot;&quot;);}if(s.data&amp;&amp;type==&quot;GET&quot;){s.url+=(s.url.match(/\?/)?&quot;&amp;&quot;:&quot;?&quot;)+s.data;s.data=null;}if(s.global&amp;&amp;!jQuery.active++)jQuery.event.trigger(&quot;ajaxStart&quot;);var remote=/^(?:\w+:)?\/\/([^\/?#]+)/;if(s.dataType==&quot;script&quot;&amp;&amp;type==&quot;GET&quot;&amp;&amp;remote.test(s.url)&amp;&amp;remote.exec(s.url)[1]!=location.host){var head=document.getElementsByTagName(&quot;head&quot;)[0];var script=document.createElement(&quot;script&quot;);script.src=s.url;if(s.scriptCharset)script.charset=s.scriptCharset;if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&amp;&amp;(!this.readyState||this.readyState==&quot;loaded&quot;||this.readyState==&quot;complete&quot;)){done=true;success();complete();head.removeChild(script);}};}head.appendChild(script);return undefined;}var requestDone=false;var xhr=window.ActiveXObject?new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;):new XMLHttpRequest();if(s.username)xhr.open(type,s.url,s.async,s.username,s.password);else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>xhr.open(type,s.url,s.async);try{if(s.data)xhr.setRequestHeader(&quot;Content-Type&quot;,s.contentType);if(s.ifModified)xhr.setRequestHeader(&quot;If-Modified-Since&quot;,jQuery.lastModified[s.url]||&quot;Thu, 01 Jan 1970 00:00:00 GMT&quot;);xhr.setRequestHeader(&quot;X-Requested-With&quot;,&quot;XMLHttpRequest&quot;);xhr.setRequestHeader(&quot;Accept&quot;,s.dataType&amp;&amp;s.accepts[s.dataType]?s.accepts[s.dataType]+&quot;, */*&quot;:s.accepts._default);}catch(e){}if(s.beforeSend&amp;&amp;s.beforeSend(xhr,s)===false){s.global&amp;&amp;jQuery.active--;xhr.abort();return false;}if(s.global)jQuery.event.trigger(&quot;ajaxSend&quot;,[xhr,s]);var onreadystatechange=function(isTimeout){if(!requestDone&amp;&amp;xhr&amp;&amp;(xhr.readyState==4||isTimeout==&quot;timeout&quot;)){requestDone=true;if(ival){clearInterval(ival);ival=null;}status=isTimeout==&quot;timeout&quot;&amp;&amp;&quot;timeout&quot;||!jQuery.httpSuccess(xhr)&amp;&amp;&quot;error&quot;||s.ifModified&amp;&amp;jQuery.httpNotModified(xhr,s.url)&amp;&amp;&quot;notmodified&quot;||&quot;success&quot;;if(status==&quot;success&quot;){try{data=jQuery.httpData(xhr,s.dataType,s.dataFilter);}catch(e){status=&quot;parsererror&quot;;}}if(status==&quot;success&quot;){var modRes;try{modRes=xhr.getResponseHeader(&quot;Last-Modified&quot;);}catch(e){}if(s.ifModified&amp;&amp;modRes)jQuery.lastModified[s.url]=modRes;if(!jsonp)success();}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>jQuery.handleError(s,xhr,status);complete();if(s.async)xhr=null;}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout&gt;0)setTimeout(function(){if(xhr){xhr.abort();if(!requestDone)onreadystatechange(&quot;timeout&quot;);}},s.timeout);}try{xhr.send(s.data);}catch(e){jQuery.handleError(s,xhr,null,e);}if(!s.async)onreadystatechange();function success(){if(s.success)s.success(data,status);if(s.global)jQuery.event.trigger(&quot;ajaxSuccess&quot;,[xhr,s]);}function complete(){if(s.complete)s.complete(xhr,status);if(s.global)jQuery.event.trigger(&quot;ajaxComplete&quot;,[xhr,s]);if(s.global&amp;&amp;!--jQuery.active)jQuery.event.trigger(&quot;ajaxStop&quot;);}return xhr;},handleError:function(s,xhr,status,e){if(s.error)s.error(xhr,status,e);if(s.global)jQuery.event.trigger(&quot;ajaxError&quot;,[xhr,s,e]);},active:0,httpSuccess:function(xhr){try{return!xhr.status&amp;&amp;location.protocol==&quot;file:&quot;||(xhr.status&gt;=200&amp;&amp;xhr.status&lt;300)||xhr.status==304||xhr.status==1223||jQuery.browser.safari&amp;&amp;xhr.status==undefined;}catch(e){}return false;},httpNotModified:function(xhr,url){try{var xhrRes=xhr.getResponseHeader(&quot;Last-Modified&quot;);return xhr.status==304||xhrRes==jQuery.lastModified[url]||jQuery.browser.safari&amp;&amp;xhr.status==undefined;}catch(e){}return false;},httpData:function(xhr,type,filter){var ct=xhr.getResponseHeader(&quot;content-type&quot;),xml=type==&quot;xml&quot;||!type&amp;&amp;ct&amp;&amp;ct.indexOf(&quot;xml&quot;)&gt;=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&amp;&amp;data.documentElement.tagName==&quot;parsererror&quot;)throw&quot;parsererror&quot;;if(filter)data=filter(data,type);if(type==&quot;script&quot;)jQuery.globalEval(data);if(type==&quot;json&quot;)data=eval(&quot;(&quot;+data+&quot;)&quot;);return data;},param:function(a){var s=[];if(a.constructor==Array||a.jquery)jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+&quot;=&quot;+encodeURIComponent(this.value));});else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>for(var j in a)if(a[j]&amp;&amp;a[j].constructor==Array)jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+&quot;=&quot;+encodeURIComponent(this));});else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>s.push(encodeURIComponent(j)+&quot;=&quot;+encodeURIComponent(jQuery.isFunction(a[j])?a[j]():a[j]));return s.join(&quot;&amp;&quot;).replace(/%20/g,&quot;+&quot;);}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:&quot;show&quot;,width:&quot;show&quot;,opacity:&quot;show&quot;},speed,callback):this.filter(&quot;:hidden&quot;).each(function(){this.style.display=this.oldblock||&quot;&quot;;if(jQuery.css(this,&quot;display&quot;)==&quot;none&quot;){var elem=jQuery(&quot;&lt;&quot;+this.tagName+&quot; /&gt;&quot;).appendTo(&quot;body&quot;);this.style.display=elem.css(&quot;display&quot;);if(this.style.display==&quot;none&quot;)this.style.display=&quot;block&quot;;elem.remove();}}).end();},hide:function(speed,callback){return speed?this.animate({height:&quot;hide&quot;,width:&quot;hide&quot;,opacity:&quot;hide&quot;},speed,callback):this.filter(&quot;:visible&quot;).each(function(){this.oldblock=this.oldblock||jQuery.css(this,&quot;display&quot;);this.style.display=&quot;none&quot;;}).end();},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&amp;&amp;jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn?this.animate({height:&quot;toggle&quot;,width:&quot;toggle&quot;,opacity:&quot;toggle&quot;},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(&quot;:hidden&quot;)?&quot;show&quot;:&quot;hide&quot;]();});},slideDown:function(speed,callback){return this.animate({height:&quot;show&quot;},speed,callback);},slideUp:function(speed,callback){return this.animate({height:&quot;hide&quot;},speed,callback);},slideToggle:function(speed,callback){return this.animate({height:&quot;toggle&quot;},speed,callback);},fadeIn:function(speed,callback){return this.animate({opacity:&quot;show&quot;},speed,callback);},fadeOut:function(speed,callback){return this.animate({opacity:&quot;hide&quot;},speed,callback);},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback);},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?&quot;each&quot;:&quot;queue&quot;](function(){if(this.nodeType!=1)return false;var opt=jQuery.extend({},optall),p,hidden=jQuery(this).is(&quot;:hidden&quot;),self=this;for(p in prop){if(prop[p]==&quot;hide&quot;&amp;&amp;hidden||prop[p]==&quot;show&quot;&amp;&amp;!hidden)return opt.complete.call(this);if(p==&quot;height&quot;||p==&quot;width&quot;){opt.display=jQuery.css(this,&quot;display&quot;);opt.overflow=this.style.overflow;}}if(opt.overflow!=null)this.style.overflow=&quot;hidden&quot;;opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val))e[val==&quot;toggle&quot;?hidden?&quot;show&quot;:&quot;hide&quot;:val](prop);else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||&quot;px&quot;;if(unit!=&quot;px&quot;){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit;}if(parts[1])end=((parts[1]==&quot;-=&quot;?-1:1)*end)+start;e.custom(start,end,unit);}else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>e.custom(start,val,&quot;&quot;);}});return true;});},queue:function(type,fn){if(jQuery.isFunction(type)||(type&amp;&amp;type.constructor==Array)){fn=type;type=&quot;fx&quot;;}if(!type||(typeof type==&quot;string&quot;&amp;&amp;!fn))return queue(this[0],type);return this.each(function(){if(fn.constructor==Array)queue(this,type,fn);else{queue(this,type).push(fn);if(queue(this,type).length==1)fn.call(this);}});},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue)this.queue([]);this.each(function(){for(var i=timers.length-1;i&gt;=0;i--)if(timers[i].elem==this){if(gotoEnd)timers[i](true);timers.splice(i,1);}});if(!gotoEnd)this.dequeue();return this;}});var queue=function(elem,type,array){if(elem){type=type||&quot;fx&quot;;var q=jQuery.data(elem,type+&quot;queue&quot;);if(!q||array)q=jQuery.data(elem,type+&quot;queue&quot;,jQuery.makeArray(array));}return q;};jQuery.fn.dequeue=function(type){type=type||&quot;fx&quot;;return this.each(function(){var q=queue(this,type);q.shift();if(q.length)q[0].call(this);});};jQuery.extend({speed:function(speed,easing,fn){var opt=speed&amp;&amp;speed.constructor==Object?speed:{complete:fn||!fn&amp;&amp;easing||jQuery.isFunction(speed)&amp;&amp;speed,duration:speed,easing:fn&amp;&amp;easing||easing&amp;&amp;easing.constructor!=Function&amp;&amp;easing};opt.duration=(opt.duration&amp;&amp;opt.duration.constructor==Number?opt.duration:jQuery.fx.speeds[opt.duration])||jQuery.fx.speeds.def;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false)jQuery(this).dequeue();if(jQuery.isFunction(opt.old))opt.old.call(this);};return opt;},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p;},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum;}},timers:[],timerId:null,fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig)options.orig={};}});jQuery.fx.prototype={update:function(){if(this.options.step)this.options.step.call(this.elem,this.now,this);(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if(this.prop==&quot;height&quot;||this.prop==&quot;width&quot;)this.elem.style.display=&quot;block&quot;;},cur:function(force){if(this.elem[this.prop]!=null&amp;&amp;this.elem.style[this.prop]==null)return this.elem[this.prop];var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&amp;&amp;r&gt;-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0;},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||&quot;px&quot;;this.now=this.start;this.pos=this.state=0;this.update();var self=this;function t(gotoEnd){return self.step(gotoEnd);}t.elem=this.elem;jQuery.timers.push(t);if(jQuery.timerId==null){jQuery.timerId=setInterval(function(){var timers=jQuery.timers;for(var i=0;i&lt;timers.length;i++)if(!timers[i]())timers.splice(i--,1);if(!timers.length){clearInterval(jQuery.timerId);jQuery.timerId=null;}},13);}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.show=true;this.custom(0,this.cur());if(this.prop==&quot;width&quot;||this.prop==&quot;height&quot;)this.elem.style[this.prop]=&quot;1px&quot;;jQuery(this.elem).show();},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0);},step:function(gotoEnd){var t=now();if(gotoEnd||t&gt;this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim)if(this.options.curAnim[i]!==true)done=false;if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,&quot;display&quot;)==&quot;none&quot;)this.elem.style.display=&quot;block&quot;;}if(this.options.hide)this.elem.style.display=&quot;none&quot;;if(this.options.hide||this.options.show)for(var p in this.options.curAnim)jQuery.attr(this.elem.style,p,this.options.orig[p]);}if(done)this.options.complete.call(this.elem);return false;}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?&quot;swing&quot;:&quot;linear&quot;)](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update();}return true;}};jQuery.extend(jQuery.fx,{speeds:{slow:600,fast:200,def:400},step:{scrollLeft:function(fx){fx.elem.scrollLeft=fx.now;},scrollTop:function(fx){fx.elem.scrollTop=fx.now;},opacity:function(fx){jQuery.attr(fx.elem.style,&quot;opacity&quot;,fx.now);},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit;}}});jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;if(elem)with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&amp;&amp;parseInt(version)&lt;522&amp;&amp;!/adobeair/i.test(userAgent),css=jQuery.curCSS,fixed=css(elem,&quot;position&quot;)==&quot;fixed&quot;;if(elem.getBoundingClientRect){var box=elem.getBoundingClientRect();add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop);}else{add(elem.offsetLeft,elem.offsetTop);while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);if(mozilla&amp;&amp;!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&amp;&amp;!safari2)border(offsetParent);if(!fixed&amp;&amp;css(offsetParent,&quot;position&quot;)==&quot;fixed&quot;)fixed=true;offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent;offsetParent=offsetParent.offsetParent;}while(parent&amp;&amp;parent.tagName&amp;&amp;!/^body|html$/i.test(parent.tagName)){if(!/^inline|table.*$/i.test(css(parent,&quot;display&quot;)))add(-parent.scrollLeft,-parent.scrollTop);if(mozilla&amp;&amp;css(parent,&quot;overflow&quot;)!=&quot;visible&quot;)border(parent);parent=parent.parentNode;}if((safari2&amp;&amp;(fixed||css(offsetChild,&quot;position&quot;)==&quot;absolute&quot;))||(mozilla&amp;&amp;css(offsetChild,&quot;position&quot;)!=&quot;absolute&quot;))add(-doc.body.offsetLeft,-doc.body.offsetTop);if(fixed)add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));}results={top:top,left:left};}function border(elem){add(jQuery.curCSS(elem,&quot;borderLeftWidth&quot;,true),jQuery.curCSS(elem,&quot;borderTopWidth&quot;,true));}function add(l,t){left+=parseInt(l,10)||0;top+=parseInt(t,10)||0;}return results;};jQuery.fn.extend({position:function(){var left=0,top=0,results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,'marginTop');offset.left-=num(this,'marginLeft');parentOffset.top+=num(offsetParent,'borderTopWidth');parentOffset.left+=num(offsetParent,'borderLeftWidth');results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};}return results;},offsetParent:function(){var offsetParent=this[0].offsetParent;while(offsetParent&amp;&amp;(!/^body|html$/i.test(offsetParent.tagName)&amp;&amp;jQuery.css(offsetParent,'position')=='static'))offsetParent=offsetParent.offsetParent;return jQuery(offsetParent);}});jQuery.each(['Left','Top'],function(i,name){var method='scroll'+name;jQuery.fn[method]=function(val){if(!this[0])return;return val!=undefined?this.each(function(){this==window||this==document?window.scrollTo(!i?val:jQuery(window).scrollLeft(),i?val:jQuery(window).scrollTop()):this[method]=val;}):this[0]==window||this[0]==document?self[i?'pageYOffset':'pageXOffset']||jQuery.boxModel&amp;&amp;document.documentElement[method]||document.body[method]:this[0][method];};});jQuery.each([&quot;Height&quot;,&quot;Width&quot;],function(i,name){var tl=i?&quot;Left&quot;:&quot;Top&quot;,br=i?&quot;Right&quot;:&quot;Bottom&quot;;jQuery.fn[&quot;inner&quot;+name]=function(){return this[name.toLowerCase()]()+num(this,&quot;padding&quot;+tl)+num(this,&quot;padding&quot;+br);};jQuery.fn[&quot;outer&quot;+name]=function(margin){return this[&quot;inner&quot;+name]()+num(this,&quot;border&quot;+tl+&quot;Width&quot;)+num(this,&quot;border&quot;+br+&quot;Width&quot;)+(margin?num(this,&quot;margin&quot;+tl)+num(this,&quot;margin&quot;+br):0);};});})();
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/mootools-core.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>//MooTools, &lt;http://mootools.net&gt;, My Object Oriented (JavaScript) Tools. Copyright (c) 2006-2009 Valerio Proietti, &lt;http://mad4milk.net&gt;, MIT Style License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>var MooTools={version:&quot;1.2.4&quot;,build:&quot;0d9113241a90b9cd5643b926795852a2026710d4&quot;};var Native=function(k){k=k||{};var a=k.name;var i=k.legacy;var b=k.protect;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>var c=k.implement;var h=k.generics;var f=k.initialize;var g=k.afterImplement||function(){};var d=f||i;h=h!==false;d.constructor=Native;d.$family={name:&quot;native&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>if(i&amp;&amp;f){d.prototype=i.prototype;}d.prototype.constructor=d;if(a){var e=a.toLowerCase();d.prototype.$family={name:e};Native.typize(d,e);}var j=function(n,l,o,m){if(!b||m||!n.prototype[l]){n.prototype[l]=o;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>}if(h){Native.genericize(n,l,b);}g.call(n,l,o);return n;};d.alias=function(n,l,p){if(typeof n==&quot;string&quot;){var o=this.prototype[n];if((n=o)){return j(this,l,n,p);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>}}for(var m in n){this.alias(m,n[m],l);}return this;};d.implement=function(m,l,o){if(typeof m==&quot;string&quot;){return j(this,m,l,o);}for(var n in m){j(this,n,m[n],l);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>}return this;};if(c){d.implement(c);}return d;};Native.genericize=function(b,c,a){if((!a||!b[c])&amp;&amp;typeof b.prototype[c]==&quot;function&quot;){b[c]=function(){var d=Array.prototype.slice.call(arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>return b.prototype[c].apply(d.shift(),d);};}};Native.implement=function(d,c){for(var b=0,a=d.length;b&lt;a;b++){d[b].implement(c);}};Native.typize=function(a,b){if(!a.type){a.type=function(c){return($type(c)===b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>};}};(function(){var a={Array:Array,Date:Date,Function:Function,Number:Number,RegExp:RegExp,String:String};for(var h in a){new Native({name:h,initialize:a[h],protect:true});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>}var d={&quot;boolean&quot;:Boolean,&quot;native&quot;:Native,object:Object};for(var c in d){Native.typize(d[c],c);}var f={Array:[&quot;concat&quot;,&quot;indexOf&quot;,&quot;join&quot;,&quot;lastIndexOf&quot;,&quot;pop&quot;,&quot;push&quot;,&quot;reverse&quot;,&quot;shift&quot;,&quot;slice&quot;,&quot;sort&quot;,&quot;splice&quot;,&quot;toString&quot;,&quot;unshift&quot;,&quot;valueOf&quot;],String:[&quot;charAt&quot;,&quot;charCodeAt&quot;,&quot;concat&quot;,&quot;indexOf&quot;,&quot;lastIndexOf&quot;,&quot;match&quot;,&quot;replace&quot;,&quot;search&quot;,&quot;slice&quot;,&quot;split&quot;,&quot;substr&quot;,&quot;substring&quot;,&quot;toLowerCase&quot;,&quot;toUpperCase&quot;,&quot;valueOf&quot;]};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>for(var e in f){for(var b=f[e].length;b--;){Native.genericize(a[e],f[e][b],true);}}})();var Hash=new Native({name:&quot;Hash&quot;,initialize:function(a){if($type(a)==&quot;hash&quot;){a=$unlink(a.getClean());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>}for(var b in a){this[b]=a[b];}return this;}});Hash.implement({forEach:function(b,c){for(var a in this){if(this.hasOwnProperty(a)){b.call(c,this[a],a,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>}}},getClean:function(){var b={};for(var a in this){if(this.hasOwnProperty(a)){b[a]=this[a];}}return b;},getLength:function(){var b=0;for(var a in this){if(this.hasOwnProperty(a)){b++;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>}}return b;}});Hash.alias(&quot;forEach&quot;,&quot;each&quot;);Array.implement({forEach:function(c,d){for(var b=0,a=this.length;b&lt;a;b++){c.call(d,this[b],b,this);}}});Array.alias(&quot;forEach&quot;,&quot;each&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>function $A(b){if(b.item){var a=b.length,c=new Array(a);while(a--){c[a]=b[a];}return c;}return Array.prototype.slice.call(b);}function $arguments(a){return function(){return arguments[a];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>};}function $chk(a){return !!(a||a===0);}function $clear(a){clearTimeout(a);clearInterval(a);return null;}function $defined(a){return(a!=undefined);}function $each(c,b,d){var a=$type(c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>((a==&quot;arguments&quot;||a==&quot;collection&quot;||a==&quot;array&quot;)?Array:Hash).each(c,b,d);}function $empty(){}function $extend(c,a){for(var b in (a||{})){c[b]=a[b];}return c;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>}function $H(a){return new Hash(a);}function $lambda(a){return($type(a)==&quot;function&quot;)?a:function(){return a;};}function $merge(){var a=Array.slice(arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>a.unshift({});return $mixin.apply(null,a);}function $mixin(e){for(var d=1,a=arguments.length;d&lt;a;d++){var b=arguments[d];if($type(b)!=&quot;object&quot;){continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>}for(var c in b){var g=b[c],f=e[c];e[c]=(f&amp;&amp;$type(g)==&quot;object&quot;&amp;&amp;$type(f)==&quot;object&quot;)?$mixin(f,g):$unlink(g);}}return e;}function $pick(){for(var b=0,a=arguments.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>b&lt;a;b++){if(arguments[b]!=undefined){return arguments[b];}}return null;}function $random(b,a){return Math.floor(Math.random()*(a-b+1)+b);}function $splat(b){var a=$type(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>return(a)?((a!=&quot;array&quot;&amp;&amp;a!=&quot;arguments&quot;)?[b]:b):[];}var $time=Date.now||function(){return +new Date;};function $try(){for(var b=0,a=arguments.length;b&lt;a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>b++){try{return arguments[b]();}catch(c){}}return null;}function $type(a){if(a==undefined){return false;}if(a.$family){return(a.$family.name==&quot;number&quot;&amp;&amp;!isFinite(a))?false:a.$family.name;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>}if(a.nodeName){switch(a.nodeType){case 1:return&quot;element&quot;;case 3:return(/\S/).test(a.nodeValue)?&quot;textnode&quot;:&quot;whitespace&quot;;}}else{if(typeof a.length==&quot;number&quot;){if(a.callee){return&quot;arguments&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>}else{if(a.item){return&quot;collection&quot;;}}}}return typeof a;}function $unlink(c){var b;switch($type(c)){case&quot;object&quot;:b={};for(var e in c){b[e]=$unlink(c[e]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>}break;case&quot;hash&quot;:b=new Hash(c);break;case&quot;array&quot;:b=[];for(var d=0,a=c.length;d&lt;a;d++){b[d]=$unlink(c[d]);}break;default:return c;}return b;}var Browser=$merge({Engine:{name:&quot;unknown&quot;,version:0},Platform:{name:(window.orientation!=undefined)?&quot;ipod&quot;:(navigator.platform.match(/mac|win|linux/i)||[&quot;other&quot;])[0].toLowerCase()},Features:{xpath:!!(document.evaluate),air:!!(window.runtime),query:!!(document.querySelector)},Plugins:{},Engines:{presto:function(){return(!window.opera)?false:((arguments.callee.caller)?960:((document.getElementsByClassName)?950:925));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>},trident:function(){return(!window.ActiveXObject)?false:((window.XMLHttpRequest)?((document.querySelectorAll)?6:5):4);},webkit:function(){return(navigator.taintEnabled)?false:((Browser.Features.xpath)?((Browser.Features.query)?525:420):419);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>},gecko:function(){return(!document.getBoxObjectFor&amp;&amp;window.mozInnerScreenX==null)?false:((document.getElementsByClassName)?19:18);}}},Browser||{});Browser.Platform[Browser.Platform.name]=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>Browser.detect=function(){for(var b in this.Engines){var a=this.Engines[b]();if(a){this.Engine={name:b,version:a};this.Engine[b]=this.Engine[b+a]=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>break;}}return{name:b,version:a};};Browser.detect();Browser.Request=function(){return $try(function(){return new XMLHttpRequest();},function(){return new ActiveXObject(&quot;MSXML2.XMLHTTP&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>},function(){return new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);});};Browser.Features.xhr=!!(Browser.Request());Browser.Plugins.Flash=(function(){var a=($try(function(){return navigator.plugins[&quot;Shockwave Flash&quot;].description;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>},function(){return new ActiveXObject(&quot;ShockwaveFlash.ShockwaveFlash&quot;).GetVariable(&quot;$version&quot;);})||&quot;0 r0&quot;).match(/\d+/g);return{version:parseInt(a[0]||0+&quot;.&quot;+a[1],10)||0,build:parseInt(a[2],10)||0};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>})();function $exec(b){if(!b){return b;}if(window.execScript){window.execScript(b);}else{var a=document.createElement(&quot;script&quot;);a.setAttribute(&quot;type&quot;,&quot;text/javascript&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>a[(Browser.Engine.webkit&amp;&amp;Browser.Engine.version&lt;420)?&quot;innerText&quot;:&quot;text&quot;]=b;document.head.appendChild(a);document.head.removeChild(a);}return b;}Native.UID=1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>var $uid=(Browser.Engine.trident)?function(a){return(a.uid||(a.uid=[Native.UID++]))[0];}:function(a){return a.uid||(a.uid=Native.UID++);};var Window=new Native({name:&quot;Window&quot;,legacy:(Browser.Engine.trident)?null:window.Window,initialize:function(a){$uid(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>if(!a.Element){a.Element=$empty;if(Browser.Engine.webkit){a.document.createElement(&quot;iframe&quot;);}a.Element.prototype=(Browser.Engine.webkit)?window[&quot;[[DOMElement.prototype]]&quot;]:{};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>}a.document.window=a;return $extend(a,Window.Prototype);},afterImplement:function(b,a){window[b]=Window.Prototype[b]=a;}});Window.Prototype={$family:{name:&quot;window&quot;}};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>new Window(window);var Document=new Native({name:&quot;Document&quot;,legacy:(Browser.Engine.trident)?null:window.Document,initialize:function(a){$uid(a);a.head=a.getElementsByTagName(&quot;head&quot;)[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>a.html=a.getElementsByTagName(&quot;html&quot;)[0];if(Browser.Engine.trident&amp;&amp;Browser.Engine.version&lt;=4){$try(function(){a.execCommand(&quot;BackgroundImageCache&quot;,false,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>});}if(Browser.Engine.trident){a.window.attachEvent(&quot;onunload&quot;,function(){a.window.detachEvent(&quot;onunload&quot;,arguments.callee);a.head=a.html=a.window=null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>});}return $extend(a,Document.Prototype);},afterImplement:function(b,a){document[b]=Document.Prototype[b]=a;}});Document.Prototype={$family:{name:&quot;document&quot;}};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>new Document(document);Array.implement({every:function(c,d){for(var b=0,a=this.length;b&lt;a;b++){if(!c.call(d,this[b],b,this)){return false;}}return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>},filter:function(d,e){var c=[];for(var b=0,a=this.length;b&lt;a;b++){if(d.call(e,this[b],b,this)){c.push(this[b]);}}return c;},clean:function(){return this.filter($defined);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>},indexOf:function(c,d){var a=this.length;for(var b=(d&lt;0)?Math.max(0,a+d):d||0;b&lt;a;b++){if(this[b]===c){return b;}}return -1;},map:function(d,e){var c=[];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>for(var b=0,a=this.length;b&lt;a;b++){c[b]=d.call(e,this[b],b,this);}return c;},some:function(c,d){for(var b=0,a=this.length;b&lt;a;b++){if(c.call(d,this[b],b,this)){return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>}}return false;},associate:function(c){var d={},b=Math.min(this.length,c.length);for(var a=0;a&lt;b;a++){d[c[a]]=this[a];}return d;},link:function(c){var a={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>for(var e=0,b=this.length;e&lt;b;e++){for(var d in c){if(c[d](this[e])){a[d]=this[e];delete c[d];break;}}}return a;},contains:function(a,b){return this.indexOf(a,b)!=-1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>},extend:function(c){for(var b=0,a=c.length;b&lt;a;b++){this.push(c[b]);}return this;},getLast:function(){return(this.length)?this[this.length-1]:null;},getRandom:function(){return(this.length)?this[$random(0,this.length-1)]:null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>},include:function(a){if(!this.contains(a)){this.push(a);}return this;},combine:function(c){for(var b=0,a=c.length;b&lt;a;b++){this.include(c[b]);}return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>},erase:function(b){for(var a=this.length;a--;a){if(this[a]===b){this.splice(a,1);}}return this;},empty:function(){this.length=0;return this;},flatten:function(){var d=[];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>for(var b=0,a=this.length;b&lt;a;b++){var c=$type(this[b]);if(!c){continue;}d=d.concat((c==&quot;array&quot;||c==&quot;collection&quot;||c==&quot;arguments&quot;)?Array.flatten(this[b]):this[b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>}return d;},hexToRgb:function(b){if(this.length!=3){return null;}var a=this.map(function(c){if(c.length==1){c+=c;}return c.toInt(16);});return(b)?a:&quot;rgb(&quot;+a+&quot;)&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>},rgbToHex:function(d){if(this.length&lt;3){return null;}if(this.length==4&amp;&amp;this[3]==0&amp;&amp;!d){return&quot;transparent&quot;;}var b=[];for(var a=0;a&lt;3;a++){var c=(this[a]-0).toString(16);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>b.push((c.length==1)?&quot;0&quot;+c:c);}return(d)?b:&quot;#&quot;+b.join(&quot;&quot;);}});Function.implement({extend:function(a){for(var b in a){this[b]=a[b];}return this;},create:function(b){var a=this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>b=b||{};return function(d){var c=b.arguments;c=(c!=undefined)?$splat(c):Array.slice(arguments,(b.event)?1:0);if(b.event){c=[d||window.event].extend(c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>}var e=function(){return a.apply(b.bind||null,c);};if(b.delay){return setTimeout(e,b.delay);}if(b.periodical){return setInterval(e,b.periodical);}if(b.attempt){return $try(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>}return e();};},run:function(a,b){return this.apply(b,$splat(a));},pass:function(a,b){return this.create({bind:b,arguments:a});},bind:function(b,a){return this.create({bind:b,arguments:a});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>},bindWithEvent:function(b,a){return this.create({bind:b,arguments:a,event:true});},attempt:function(a,b){return this.create({bind:b,arguments:a,attempt:true})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>},delay:function(b,c,a){return this.create({bind:c,arguments:a,delay:b})();},periodical:function(c,b,a){return this.create({bind:b,arguments:a,periodical:c})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>}});Number.implement({limit:function(b,a){return Math.min(a,Math.max(b,this));},round:function(a){a=Math.pow(10,a||0);return Math.round(this*a)/a;},times:function(b,c){for(var a=0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>a&lt;this;a++){b.call(c,a,this);}},toFloat:function(){return parseFloat(this);},toInt:function(a){return parseInt(this,a||10);}});Number.alias(&quot;times&quot;,&quot;each&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>(function(b){var a={};b.each(function(c){if(!Number[c]){a[c]=function(){return Math[c].apply(null,[this].concat($A(arguments)));};}});Number.implement(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>})([&quot;abs&quot;,&quot;acos&quot;,&quot;asin&quot;,&quot;atan&quot;,&quot;atan2&quot;,&quot;ceil&quot;,&quot;cos&quot;,&quot;exp&quot;,&quot;floor&quot;,&quot;log&quot;,&quot;max&quot;,&quot;min&quot;,&quot;pow&quot;,&quot;sin&quot;,&quot;sqrt&quot;,&quot;tan&quot;]);String.implement({test:function(a,b){return((typeof a==&quot;string&quot;)?new RegExp(a,b):a).test(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>},contains:function(a,b){return(b)?(b+this+b).indexOf(b+a+b)&gt;-1:this.indexOf(a)&gt;-1;},trim:function(){return this.replace(/^\s+|\s+$/g,&quot;&quot;);},clean:function(){return this.replace(/\s+/g,&quot; &quot;).trim();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>},camelCase:function(){return this.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase();});},hyphenate:function(){return this.replace(/[A-Z]/g,function(a){return(&quot;-&quot;+a.charAt(0).toLowerCase());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>});},capitalize:function(){return this.replace(/\b[a-z]/g,function(a){return a.toUpperCase();});},escapeRegExp:function(){return this.replace(/([-.*+?^${}()|[\]\/\\])/g,&quot;\\$1&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>},toInt:function(a){return parseInt(this,a||10);},toFloat:function(){return parseFloat(this);},hexToRgb:function(b){var a=this.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>return(a)?a.slice(1).hexToRgb(b):null;},rgbToHex:function(b){var a=this.match(/\d{1,3}/g);return(a)?a.rgbToHex(b):null;},stripScripts:function(b){var a=&quot;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>var c=this.replace(/&lt;script[^&gt;]*&gt;([\s\S]*?)&lt;\/script&gt;/gi,function(){a+=arguments[1]+&quot;\n&quot;;return&quot;&quot;;});if(b===true){$exec(a);}else{if($type(b)==&quot;function&quot;){b(a,c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>}}return c;},substitute:function(a,b){return this.replace(b||(/\\?\{([^{}]+)\}/g),function(d,c){if(d.charAt(0)==&quot;\\&quot;){return d.slice(1);}return(a[c]!=undefined)?a[c]:&quot;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>});}});Hash.implement({has:Object.prototype.hasOwnProperty,keyOf:function(b){for(var a in this){if(this.hasOwnProperty(a)&amp;&amp;this[a]===b){return a;}}return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>},hasValue:function(a){return(Hash.keyOf(this,a)!==null);},extend:function(a){Hash.each(a||{},function(c,b){Hash.set(this,b,c);},this);return this;},combine:function(a){Hash.each(a||{},function(c,b){Hash.include(this,b,c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>},this);return this;},erase:function(a){if(this.hasOwnProperty(a)){delete this[a];}return this;},get:function(a){return(this.hasOwnProperty(a))?this[a]:null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>},set:function(a,b){if(!this[a]||this.hasOwnProperty(a)){this[a]=b;}return this;},empty:function(){Hash.each(this,function(b,a){delete this[a];},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>return this;},include:function(a,b){if(this[a]==undefined){this[a]=b;}return this;},map:function(b,c){var a=new Hash;Hash.each(this,function(e,d){a.set(d,b.call(c,e,d,this));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>},this);return a;},filter:function(b,c){var a=new Hash;Hash.each(this,function(e,d){if(b.call(c,e,d,this)){a.set(d,e);}},this);return a;},every:function(b,c){for(var a in this){if(this.hasOwnProperty(a)&amp;&amp;!b.call(c,this[a],a)){return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>}}return true;},some:function(b,c){for(var a in this){if(this.hasOwnProperty(a)&amp;&amp;b.call(c,this[a],a)){return true;}}return false;},getKeys:function(){var a=[];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>Hash.each(this,function(c,b){a.push(b);});return a;},getValues:function(){var a=[];Hash.each(this,function(b){a.push(b);});return a;},toQueryString:function(a){var b=[];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>Hash.each(this,function(f,e){if(a){e=a+&quot;[&quot;+e+&quot;]&quot;;}var d;switch($type(f)){case&quot;object&quot;:d=Hash.toQueryString(f,e);break;case&quot;array&quot;:var c={};f.each(function(h,g){c[g]=h;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>});d=Hash.toQueryString(c,e);break;default:d=e+&quot;=&quot;+encodeURIComponent(f);}if(f!=undefined){b.push(d);}});return b.join(&quot;&amp;&quot;);}});Hash.alias({keyOf:&quot;indexOf&quot;,hasValue:&quot;contains&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>var Event=new Native({name:&quot;Event&quot;,initialize:function(a,f){f=f||window;var k=f.document;a=a||f.event;if(a.$extended){return a;}this.$extended=true;var j=a.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>var g=a.target||a.srcElement;while(g&amp;&amp;g.nodeType==3){g=g.parentNode;}if(j.test(/key/)){var b=a.which||a.keyCode;var m=Event.Keys.keyOf(b);if(j==&quot;keydown&quot;){var d=b-111;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>if(d&gt;0&amp;&amp;d&lt;13){m=&quot;f&quot;+d;}}m=m||String.fromCharCode(b).toLowerCase();}else{if(j.match(/(click|mouse|menu)/i)){k=(!k.compatMode||k.compatMode==&quot;CSS1Compat&quot;)?k.html:k.body;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>var i={x:a.pageX||a.clientX+k.scrollLeft,y:a.pageY||a.clientY+k.scrollTop};var c={x:(a.pageX)?a.pageX-f.pageXOffset:a.clientX,y:(a.pageY)?a.pageY-f.pageYOffset:a.clientY};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>if(j.match(/DOMMouseScroll|mousewheel/)){var h=(a.wheelDelta)?a.wheelDelta/120:-(a.detail||0)/3;}var e=(a.which==3)||(a.button==2);var l=null;if(j.match(/over|out/)){switch(j){case&quot;mouseover&quot;:l=a.relatedTarget||a.fromElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>break;case&quot;mouseout&quot;:l=a.relatedTarget||a.toElement;}if(!(function(){while(l&amp;&amp;l.nodeType==3){l=l.parentNode;}return true;}).create({attempt:Browser.Engine.gecko})()){l=false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>}}}}return $extend(this,{event:a,type:j,page:i,client:c,rightClick:e,wheel:h,relatedTarget:l,target:g,code:b,key:m,shift:a.shiftKey,control:a.ctrlKey,alt:a.altKey,meta:a.metaKey});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>}});Event.Keys=new Hash({enter:13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,&quot;delete&quot;:46});Event.implement({stop:function(){return this.stopPropagation().preventDefault();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>},stopPropagation:function(){if(this.event.stopPropagation){this.event.stopPropagation();}else{this.event.cancelBubble=true;}return this;},preventDefault:function(){if(this.event.preventDefault){this.event.preventDefault();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>}else{this.event.returnValue=false;}return this;}});function Class(b){if(b instanceof Function){b={initialize:b};}var a=function(){Object.reset(this);if(a._prototyping){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>}this._current=$empty;var c=(this.initialize)?this.initialize.apply(this,arguments):this;delete this._current;delete this.caller;return c;}.extend(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>a.implement(b);a.constructor=Class;a.prototype.constructor=a;return a;}Function.prototype.protect=function(){this._protected=true;return this;};Object.reset=function(a,c){if(c==null){for(var e in a){Object.reset(a,e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>}return a;}delete a[c];switch($type(a[c])){case&quot;object&quot;:var d=function(){};d.prototype=a[c];var b=new d;a[c]=Object.reset(b);break;case&quot;array&quot;:a[c]=$unlink(a[c]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>break;}return a;};new Native({name:&quot;Class&quot;,initialize:Class}).extend({instantiate:function(b){b._prototyping=true;var a=new b;delete b._prototyping;return a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>},wrap:function(a,b,c){if(c._origin){c=c._origin;}return function(){if(c._protected&amp;&amp;this._current==null){throw new Error('The method &quot;'+b+'&quot; cannot be called.');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>}var e=this.caller,f=this._current;this.caller=f;this._current=arguments.callee;var d=c.apply(this,arguments);this._current=f;this.caller=e;return d;}.extend({_owner:a,_origin:c,_name:b});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>}});Class.implement({implement:function(a,d){if($type(a)==&quot;object&quot;){for(var e in a){this.implement(e,a[e]);}return this;}var f=Class.Mutators[a];if(f){d=f.call(this,d);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>if(d==null){return this;}}var c=this.prototype;switch($type(d)){case&quot;function&quot;:if(d._hidden){return this;}c[a]=Class.wrap(this,a,d);break;case&quot;object&quot;:var b=c[a];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>if($type(b)==&quot;object&quot;){$mixin(b,d);}else{c[a]=$unlink(d);}break;case&quot;array&quot;:c[a]=$unlink(d);break;default:c[a]=d;}return this;}});Class.Mutators={Extends:function(a){this.parent=a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>this.prototype=Class.instantiate(a);this.implement(&quot;parent&quot;,function(){var b=this.caller._name,c=this.caller._owner.parent.prototype[b];if(!c){throw new Error('The method &quot;'+b+'&quot; has no parent.');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>}return c.apply(this,arguments);}.protect());},Implements:function(a){$splat(a).each(function(b){if(b instanceof Function){b=Class.instantiate(b);}this.implement(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>},this);}};var Chain=new Class({$chain:[],chain:function(){this.$chain.extend(Array.flatten(arguments));return this;},callChain:function(){return(this.$chain.length)?this.$chain.shift().apply(this,arguments):false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>},clearChain:function(){this.$chain.empty();return this;}});var Events=new Class({$events:{},addEvent:function(c,b,a){c=Events.removeOn(c);if(b!=$empty){this.$events[c]=this.$events[c]||[];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>this.$events[c].include(b);if(a){b.internal=true;}}return this;},addEvents:function(a){for(var b in a){this.addEvent(b,a[b]);}return this;},fireEvent:function(c,b,a){c=Events.removeOn(c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>if(!this.$events||!this.$events[c]){return this;}this.$events[c].each(function(d){d.create({bind:this,delay:a,&quot;arguments&quot;:b})();},this);return this;},removeEvent:function(b,a){b=Events.removeOn(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>if(!this.$events[b]){return this;}if(!a.internal){this.$events[b].erase(a);}return this;},removeEvents:function(c){var d;if($type(c)==&quot;object&quot;){for(d in c){this.removeEvent(d,c[d]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>}return this;}if(c){c=Events.removeOn(c);}for(d in this.$events){if(c&amp;&amp;c!=d){continue;}var b=this.$events[d];for(var a=b.length;a--;a){this.removeEvent(d,b[a]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>}}return this;}});Events.removeOn=function(a){return a.replace(/^on([A-Z])/,function(b,c){return c.toLowerCase();});};var Options=new Class({setOptions:function(){this.options=$merge.run([this.options].extend(arguments));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>if(!this.addEvent){return this;}for(var a in this.options){if($type(this.options[a])!=&quot;function&quot;||!(/^on[A-Z]/).test(a)){continue;}this.addEvent(a,this.options[a]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>delete this.options[a];}return this;}});var Element=new Native({name:&quot;Element&quot;,legacy:window.Element,initialize:function(a,b){var c=Element.Constructors.get(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>if(c){return c(b);}if(typeof a==&quot;string&quot;){return document.newElement(a,b);}return document.id(a).set(b);},afterImplement:function(a,b){Element.Prototype[a]=b;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>if(Array[a]){return;}Elements.implement(a,function(){var c=[],g=true;for(var e=0,d=this.length;e&lt;d;e++){var f=this[e][a].apply(this[e],arguments);c.push(f);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>if(g){g=($type(f)==&quot;element&quot;);}}return(g)?new Elements(c):c;});}});Element.Prototype={$family:{name:&quot;element&quot;}};Element.Constructors=new Hash;var IFrame=new Native({name:&quot;IFrame&quot;,generics:false,initialize:function(){var f=Array.link(arguments,{properties:Object.type,iframe:$defined});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>var d=f.properties||{};var c=document.id(f.iframe);var e=d.onload||$empty;delete d.onload;d.id=d.name=$pick(d.id,d.name,c?(c.id||c.name):&quot;IFrame_&quot;+$time());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>c=new Element(c||&quot;iframe&quot;,d);var b=function(){var g=$try(function(){return c.contentWindow.location.host;});if(!g||g==window.location.host){var h=new Window(c.contentWindow);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>new Document(c.contentWindow.document);$extend(h.Element.prototype,Element.Prototype);}e.call(c.contentWindow,c.contentWindow.document);};var a=$try(function(){return c.contentWindow;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>});((a&amp;&amp;a.document.body)||window.frames[d.id])?b():c.addListener(&quot;load&quot;,b);return c;}});var Elements=new Native({initialize:function(f,b){b=$extend({ddup:true,cash:true},b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>f=f||[];if(b.ddup||b.cash){var g={},e=[];for(var c=0,a=f.length;c&lt;a;c++){var d=document.id(f[c],!b.cash);if(b.ddup){if(g[d.uid]){continue;}g[d.uid]=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>}if(d){e.push(d);}}f=e;}return(b.cash)?$extend(f,this):f;}});Elements.implement({filter:function(a,b){if(!a){return this;}return new Elements(Array.filter(this,(typeof a==&quot;string&quot;)?function(c){return c.match(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>}:a,b));}});Document.implement({newElement:function(a,b){if(Browser.Engine.trident&amp;&amp;b){[&quot;name&quot;,&quot;type&quot;,&quot;checked&quot;].each(function(c){if(!b[c]){return;}a+=&quot; &quot;+c+'=&quot;'+b[c]+'&quot;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>if(c!=&quot;checked&quot;){delete b[c];}});a=&quot;&lt;&quot;+a+&quot;&gt;&quot;;}return document.id(this.createElement(a)).set(b);},newTextNode:function(a){return this.createTextNode(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>},getDocument:function(){return this;},getWindow:function(){return this.window;},id:(function(){var a={string:function(d,c,b){d=b.getElementById(d);return(d)?a.element(d,c):null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>},element:function(b,e){$uid(b);if(!e&amp;&amp;!b.$family&amp;&amp;!(/^object|embed$/i).test(b.tagName)){var c=Element.Prototype;for(var d in c){b[d]=c[d];}}return b;},object:function(c,d,b){if(c.toElement){return a.element(c.toElement(b),d);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>}return null;}};a.textnode=a.whitespace=a.window=a.document=$arguments(0);return function(c,e,d){if(c&amp;&amp;c.$family&amp;&amp;c.uid){return c;}var b=$type(c);return(a[b])?a[b](c,e,d||document):null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>};})()});if(window.$==null){Window.implement({$:function(a,b){return document.id(a,b,this.document);}});}Window.implement({$$:function(a){if(arguments.length==1&amp;&amp;typeof a==&quot;string&quot;){return this.document.getElements(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>}var f=[];var c=Array.flatten(arguments);for(var d=0,b=c.length;d&lt;b;d++){var e=c[d];switch($type(e)){case&quot;element&quot;:f.push(e);break;case&quot;string&quot;:f.extend(this.document.getElements(e,true));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>}}return new Elements(f);},getDocument:function(){return this.document;},getWindow:function(){return this;}});Native.implement([Element,Document],{getElement:function(a,b){return document.id(this.getElements(a,true)[0]||null,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>},getElements:function(a,d){a=a.split(&quot;,&quot;);var c=[];var b=(a.length&gt;1);a.each(function(e){var f=this.getElementsByTagName(e.trim());(b)?c.extend(f):c=f;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>},this);return new Elements(c,{ddup:b,cash:!d});}});(function(){var h={},f={};var i={input:&quot;checked&quot;,option:&quot;selected&quot;,textarea:(Browser.Engine.webkit&amp;&amp;Browser.Engine.version&lt;420)?&quot;innerHTML&quot;:&quot;value&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>var c=function(l){return(f[l]||(f[l]={}));};var g=function(n,l){if(!n){return;}var m=n.uid;if(Browser.Engine.trident){if(n.clearAttributes){var q=l&amp;&amp;n.cloneNode(false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>n.clearAttributes();if(q){n.mergeAttributes(q);}}else{if(n.removeEvents){n.removeEvents();}}if((/object/i).test(n.tagName)){for(var o in n){if(typeof n[o]==&quot;function&quot;){n[o]=$empty;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>}}Element.dispose(n);}}if(!m){return;}h[m]=f[m]=null;};var d=function(){Hash.each(h,g);if(Browser.Engine.trident){$A(document.getElementsByTagName(&quot;object&quot;)).each(g);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>}if(window.CollectGarbage){CollectGarbage();}h=f=null;};var j=function(n,l,s,m,p,r){var o=n[s||l];var q=[];while(o){if(o.nodeType==1&amp;&amp;(!m||Element.match(o,m))){if(!p){return document.id(o,r);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>}q.push(o);}o=o[l];}return(p)?new Elements(q,{ddup:false,cash:!r}):null;};var e={html:&quot;innerHTML&quot;,&quot;class&quot;:&quot;className&quot;,&quot;for&quot;:&quot;htmlFor&quot;,defaultValue:&quot;defaultValue&quot;,text:(Browser.Engine.trident||(Browser.Engine.webkit&amp;&amp;Browser.Engine.version&lt;420))?&quot;innerText&quot;:&quot;textContent&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>var b=[&quot;compact&quot;,&quot;nowrap&quot;,&quot;ismap&quot;,&quot;declare&quot;,&quot;noshade&quot;,&quot;checked&quot;,&quot;disabled&quot;,&quot;readonly&quot;,&quot;multiple&quot;,&quot;selected&quot;,&quot;noresize&quot;,&quot;defer&quot;];var k=[&quot;value&quot;,&quot;type&quot;,&quot;defaultValue&quot;,&quot;accessKey&quot;,&quot;cellPadding&quot;,&quot;cellSpacing&quot;,&quot;colSpan&quot;,&quot;frameBorder&quot;,&quot;maxLength&quot;,&quot;readOnly&quot;,&quot;rowSpan&quot;,&quot;tabIndex&quot;,&quot;useMap&quot;];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>b=b.associate(b);Hash.extend(e,b);Hash.extend(e,k.associate(k.map(String.toLowerCase)));var a={before:function(m,l){if(l.parentNode){l.parentNode.insertBefore(m,l);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>}},after:function(m,l){if(!l.parentNode){return;}var n=l.nextSibling;(n)?l.parentNode.insertBefore(m,n):l.parentNode.appendChild(m);},bottom:function(m,l){l.appendChild(m);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>},top:function(m,l){var n=l.firstChild;(n)?l.insertBefore(m,n):l.appendChild(m);}};a.inside=a.bottom;Hash.each(a,function(l,m){m=m.capitalize();Element.implement(&quot;inject&quot;+m,function(n){l(this,document.id(n,true));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>return this;});Element.implement(&quot;grab&quot;+m,function(n){l(document.id(n,true),this);return this;});});Element.implement({set:function(o,m){switch($type(o)){case&quot;object&quot;:for(var n in o){this.set(n,o[n]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>}break;case&quot;string&quot;:var l=Element.Properties.get(o);(l&amp;&amp;l.set)?l.set.apply(this,Array.slice(arguments,1)):this.setProperty(o,m);}return this;},get:function(m){var l=Element.Properties.get(m);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>return(l&amp;&amp;l.get)?l.get.apply(this,Array.slice(arguments,1)):this.getProperty(m);},erase:function(m){var l=Element.Properties.get(m);(l&amp;&amp;l.erase)?l.erase.apply(this):this.removeProperty(m);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>return this;},setProperty:function(m,n){var l=e[m];if(n==undefined){return this.removeProperty(m);}if(l&amp;&amp;b[m]){n=!!n;}(l)?this[l]=n:this.setAttribute(m,&quot;&quot;+n);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>return this;},setProperties:function(l){for(var m in l){this.setProperty(m,l[m]);}return this;},getProperty:function(m){var l=e[m];var n=(l)?this[l]:this.getAttribute(m,2);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>return(b[m])?!!n:(l)?n:n||null;},getProperties:function(){var l=$A(arguments);return l.map(this.getProperty,this).associate(l);},removeProperty:function(m){var l=e[m];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>(l)?this[l]=(l&amp;&amp;b[m])?false:&quot;&quot;:this.removeAttribute(m);return this;},removeProperties:function(){Array.each(arguments,this.removeProperty,this);return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>},hasClass:function(l){return this.className.contains(l,&quot; &quot;);},addClass:function(l){if(!this.hasClass(l)){this.className=(this.className+&quot; &quot;+l).clean();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>}return this;},removeClass:function(l){this.className=this.className.replace(new RegExp(&quot;(^|\\s)&quot;+l+&quot;(?:\\s|$)&quot;),&quot;$1&quot;);return this;},toggleClass:function(l){return this.hasClass(l)?this.removeClass(l):this.addClass(l);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>},adopt:function(){Array.flatten(arguments).each(function(l){l=document.id(l,true);if(l){this.appendChild(l);}},this);return this;},appendText:function(m,l){return this.grab(this.getDocument().newTextNode(m),l);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>},grab:function(m,l){a[l||&quot;bottom&quot;](document.id(m,true),this);return this;},inject:function(m,l){a[l||&quot;bottom&quot;](this,document.id(m,true));return this;},replaces:function(l){l=document.id(l,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>l.parentNode.replaceChild(this,l);return this;},wraps:function(m,l){m=document.id(m,true);return this.replaces(m).grab(m,l);},getPrevious:function(l,m){return j(this,&quot;previousSibling&quot;,null,l,false,m);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>},getAllPrevious:function(l,m){return j(this,&quot;previousSibling&quot;,null,l,true,m);},getNext:function(l,m){return j(this,&quot;nextSibling&quot;,null,l,false,m);},getAllNext:function(l,m){return j(this,&quot;nextSibling&quot;,null,l,true,m);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>},getFirst:function(l,m){return j(this,&quot;nextSibling&quot;,&quot;firstChild&quot;,l,false,m);},getLast:function(l,m){return j(this,&quot;previousSibling&quot;,&quot;lastChild&quot;,l,false,m);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>},getParent:function(l,m){return j(this,&quot;parentNode&quot;,null,l,false,m);},getParents:function(l,m){return j(this,&quot;parentNode&quot;,null,l,true,m);},getSiblings:function(l,m){return this.getParent().getChildren(l,m).erase(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>},getChildren:function(l,m){return j(this,&quot;nextSibling&quot;,&quot;firstChild&quot;,l,true,m);},getWindow:function(){return this.ownerDocument.window;},getDocument:function(){return this.ownerDocument;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>},getElementById:function(o,n){var m=this.ownerDocument.getElementById(o);if(!m){return null;}for(var l=m.parentNode;l!=this;l=l.parentNode){if(!l){return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>}}return document.id(m,n);},getSelected:function(){return new Elements($A(this.options).filter(function(l){return l.selected;}));},getComputedStyle:function(m){if(this.currentStyle){return this.currentStyle[m.camelCase()];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>}var l=this.getDocument().defaultView.getComputedStyle(this,null);return(l)?l.getPropertyValue([m.hyphenate()]):null;},toQueryString:function(){var l=[];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>this.getElements(&quot;input, select, textarea&quot;,true).each(function(m){if(!m.name||m.disabled||m.type==&quot;submit&quot;||m.type==&quot;reset&quot;||m.type==&quot;file&quot;){return;}var n=(m.tagName.toLowerCase()==&quot;select&quot;)?Element.getSelected(m).map(function(o){return o.value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>}):((m.type==&quot;radio&quot;||m.type==&quot;checkbox&quot;)&amp;&amp;!m.checked)?null:m.value;$splat(n).each(function(o){if(typeof o!=&quot;undefined&quot;){l.push(m.name+&quot;=&quot;+encodeURIComponent(o));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>}});});return l.join(&quot;&amp;&quot;);},clone:function(o,l){o=o!==false;var r=this.cloneNode(o);var n=function(v,u){if(!l){v.removeAttribute(&quot;id&quot;);}if(Browser.Engine.trident){v.clearAttributes();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>v.mergeAttributes(u);v.removeAttribute(&quot;uid&quot;);if(v.options){var w=v.options,s=u.options;for(var t=w.length;t--;){w[t].selected=s[t].selected;}}}var x=i[u.tagName.toLowerCase()];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>if(x&amp;&amp;u[x]){v[x]=u[x];}};if(o){var p=r.getElementsByTagName(&quot;*&quot;),q=this.getElementsByTagName(&quot;*&quot;);for(var m=p.length;m--;){n(p[m],q[m]);}}n(r,this);return document.id(r);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>},destroy:function(){Element.empty(this);Element.dispose(this);g(this,true);return null;},empty:function(){$A(this.childNodes).each(function(l){Element.destroy(l);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>});return this;},dispose:function(){return(this.parentNode)?this.parentNode.removeChild(this):this;},hasChild:function(l){l=document.id(l,true);if(!l){return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>}if(Browser.Engine.webkit&amp;&amp;Browser.Engine.version&lt;420){return $A(this.getElementsByTagName(l.tagName)).contains(l);}return(this.contains)?(this!=l&amp;&amp;this.contains(l)):!!(this.compareDocumentPosition(l)&amp;16);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>},match:function(l){return(!l||(l==this)||(Element.get(this,&quot;tag&quot;)==l));}});Native.implement([Element,Window,Document],{addListener:function(o,n){if(o==&quot;unload&quot;){var l=n,m=this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>n=function(){m.removeListener(&quot;unload&quot;,n);l();};}else{h[this.uid]=this;}if(this.addEventListener){this.addEventListener(o,n,false);}else{this.attachEvent(&quot;on&quot;+o,n);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>}return this;},removeListener:function(m,l){if(this.removeEventListener){this.removeEventListener(m,l,false);}else{this.detachEvent(&quot;on&quot;+m,l);}return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>},retrieve:function(m,l){var o=c(this.uid),n=o[m];if(l!=undefined&amp;&amp;n==undefined){n=o[m]=l;}return $pick(n);},store:function(m,l){var n=c(this.uid);n[m]=l;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>return this;},eliminate:function(l){var m=c(this.uid);delete m[l];return this;}});window.addListener(&quot;unload&quot;,d);})();Element.Properties=new Hash;Element.Properties.style={set:function(a){this.style.cssText=a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>},get:function(){return this.style.cssText;},erase:function(){this.style.cssText=&quot;&quot;;}};Element.Properties.tag={get:function(){return this.tagName.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>}};Element.Properties.html=(function(){var c=document.createElement(&quot;div&quot;);var a={table:[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;],select:[1,&quot;&lt;select&gt;&quot;,&quot;&lt;/select&gt;&quot;],tbody:[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;],tr:[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;]};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>a.thead=a.tfoot=a.tbody;var b={set:function(){var e=Array.flatten(arguments).join(&quot;&quot;);var f=Browser.Engine.trident&amp;&amp;a[this.get(&quot;tag&quot;)];if(f){var g=c;g.innerHTML=f[1]+e+f[2];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>for(var d=f[0];d--;){g=g.firstChild;}this.empty().adopt(g.childNodes);}else{this.innerHTML=e;}}};b.erase=b.set;return b;})();if(Browser.Engine.webkit&amp;&amp;Browser.Engine.version&lt;420){Element.Properties.text={get:function(){if(this.innerText){return this.innerText;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>}var a=this.ownerDocument.newElement(&quot;div&quot;,{html:this.innerHTML}).inject(this.ownerDocument.body);var b=a.innerText;a.destroy();return b;}};}Element.Properties.events={set:function(a){this.addEvents(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>}};Native.implement([Element,Window,Document],{addEvent:function(e,g){var h=this.retrieve(&quot;events&quot;,{});h[e]=h[e]||{keys:[],values:[]};if(h[e].keys.contains(g)){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>}h[e].keys.push(g);var f=e,a=Element.Events.get(e),c=g,i=this;if(a){if(a.onAdd){a.onAdd.call(this,g);}if(a.condition){c=function(j){if(a.condition.call(this,j)){return g.call(this,j);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>}return true;};}f=a.base||f;}var d=function(){return g.call(i);};var b=Element.NativeEvents[f];if(b){if(b==2){d=function(j){j=new Event(j,i.getWindow());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>if(c.call(i,j)===false){j.stop();}};}this.addListener(f,d);}h[e].values.push(d);return this;},removeEvent:function(c,b){var a=this.retrieve(&quot;events&quot;);if(!a||!a[c]){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>}var f=a[c].keys.indexOf(b);if(f==-1){return this;}a[c].keys.splice(f,1);var e=a[c].values.splice(f,1)[0];var d=Element.Events.get(c);if(d){if(d.onRemove){d.onRemove.call(this,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>}c=d.base||c;}return(Element.NativeEvents[c])?this.removeListener(c,e):this;},addEvents:function(a){for(var b in a){this.addEvent(b,a[b]);}return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>},removeEvents:function(a){var c;if($type(a)==&quot;object&quot;){for(c in a){this.removeEvent(c,a[c]);}return this;}var b=this.retrieve(&quot;events&quot;);if(!b){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>}if(!a){for(c in b){this.removeEvents(c);}this.eliminate(&quot;events&quot;);}else{if(b[a]){while(b[a].keys[0]){this.removeEvent(a,b[a].keys[0]);}b[a]=null;}}return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>},fireEvent:function(d,b,a){var c=this.retrieve(&quot;events&quot;);if(!c||!c[d]){return this;}c[d].keys.each(function(e){e.create({bind:this,delay:a,&quot;arguments&quot;:b})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>},this);return this;},cloneEvents:function(d,a){d=document.id(d);var c=d.retrieve(&quot;events&quot;);if(!c){return this;}if(!a){for(var b in c){this.cloneEvents(d,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>}}else{if(c[a]){c[a].keys.each(function(e){this.addEvent(a,e);},this);}}return this;}});Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,load:1,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>(function(){var a=function(b){var c=b.relatedTarget;if(c==undefined){return true;}if(c===false){return false;}return($type(this)!=&quot;document&quot;&amp;&amp;c!=this&amp;&amp;c.prefix!=&quot;xul&quot;&amp;&amp;!this.hasChild(c));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>};Element.Events=new Hash({mouseenter:{base:&quot;mouseover&quot;,condition:a},mouseleave:{base:&quot;mouseout&quot;,condition:a},mousewheel:{base:(Browser.Engine.gecko)?&quot;DOMMouseScroll&quot;:&quot;mousewheel&quot;}});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>})();Element.Properties.styles={set:function(a){this.setStyles(a);}};Element.Properties.opacity={set:function(a,b){if(!b){if(a==0){if(this.style.visibility!=&quot;hidden&quot;){this.style.visibility=&quot;hidden&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>}}else{if(this.style.visibility!=&quot;visible&quot;){this.style.visibility=&quot;visible&quot;;}}}if(!this.currentStyle||!this.currentStyle.hasLayout){this.style.zoom=1;}if(Browser.Engine.trident){this.style.filter=(a==1)?&quot;&quot;:&quot;alpha(opacity=&quot;+a*100+&quot;)&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>}this.style.opacity=a;this.store(&quot;opacity&quot;,a);},get:function(){return this.retrieve(&quot;opacity&quot;,1);}};Element.implement({setOpacity:function(a){return this.set(&quot;opacity&quot;,a,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>},getOpacity:function(){return this.get(&quot;opacity&quot;);},setStyle:function(b,a){switch(b){case&quot;opacity&quot;:return this.set(&quot;opacity&quot;,parseFloat(a));case&quot;float&quot;:b=(Browser.Engine.trident)?&quot;styleFloat&quot;:&quot;cssFloat&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>}b=b.camelCase();if($type(a)!=&quot;string&quot;){var c=(Element.Styles.get(b)||&quot;@&quot;).split(&quot; &quot;);a=$splat(a).map(function(e,d){if(!c[d]){return&quot;&quot;;}return($type(e)==&quot;number&quot;)?c[d].replace(&quot;@&quot;,Math.round(e)):e;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>}).join(&quot; &quot;);}else{if(a==String(Number(a))){a=Math.round(a);}}this.style[b]=a;return this;},getStyle:function(g){switch(g){case&quot;opacity&quot;:return this.get(&quot;opacity&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>case&quot;float&quot;:g=(Browser.Engine.trident)?&quot;styleFloat&quot;:&quot;cssFloat&quot;;}g=g.camelCase();var a=this.style[g];if(!$chk(a)){a=[];for(var f in Element.ShortStyles){if(g!=f){continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>}for(var e in Element.ShortStyles[f]){a.push(this.getStyle(e));}return a.join(&quot; &quot;);}a=this.getComputedStyle(g);}if(a){a=String(a);var c=a.match(/rgba?\([\d\s,]+\)/);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>if(c){a=a.replace(c[0],c[0].rgbToHex());}}if(Browser.Engine.presto||(Browser.Engine.trident&amp;&amp;!$chk(parseInt(a,10)))){if(g.test(/^(height|width)$/)){var b=(g==&quot;width&quot;)?[&quot;left&quot;,&quot;right&quot;]:[&quot;top&quot;,&quot;bottom&quot;],d=0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>b.each(function(h){d+=this.getStyle(&quot;border-&quot;+h+&quot;-width&quot;).toInt()+this.getStyle(&quot;padding-&quot;+h).toInt();},this);return this[&quot;offset&quot;+g.capitalize()]-d+&quot;px&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>}if((Browser.Engine.presto)&amp;&amp;String(a).test(&quot;px&quot;)){return a;}if(g.test(/(border(.+)Width|margin|padding)/)){return&quot;0px&quot;;}}return a;},setStyles:function(b){for(var a in b){this.setStyle(a,b[a]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>}return this;},getStyles:function(){var a={};Array.flatten(arguments).each(function(b){a[b]=this.getStyle(b);},this);return a;}});Element.Styles=new Hash({left:&quot;@px&quot;,top:&quot;@px&quot;,bottom:&quot;@px&quot;,right:&quot;@px&quot;,width:&quot;@px&quot;,height:&quot;@px&quot;,maxWidth:&quot;@px&quot;,maxHeight:&quot;@px&quot;,minWidth:&quot;@px&quot;,minHeight:&quot;@px&quot;,backgroundColor:&quot;rgb(@, @, @)&quot;,backgroundPosition:&quot;@px @px&quot;,color:&quot;rgb(@, @, @)&quot;,fontSize:&quot;@px&quot;,letterSpacing:&quot;@px&quot;,lineHeight:&quot;@px&quot;,clip:&quot;rect(@px @px @px @px)&quot;,margin:&quot;@px @px @px @px&quot;,padding:&quot;@px @px @px @px&quot;,border:&quot;@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)&quot;,borderWidth:&quot;@px @px @px @px&quot;,borderStyle:&quot;@ @ @ @&quot;,borderColor:&quot;rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)&quot;,zIndex:&quot;@&quot;,zoom:&quot;@&quot;,fontWeight:&quot;@&quot;,textIndent:&quot;@px&quot;,opacity:&quot;@&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}};[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;].each(function(g){var f=Element.ShortStyles;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>var b=Element.Styles;[&quot;margin&quot;,&quot;padding&quot;].each(function(h){var i=h+g;f[h][i]=b[i]=&quot;@px&quot;;});var e=&quot;border&quot;+g;f.border[e]=b[e]=&quot;@px @ rgb(@, @, @)&quot;;var d=e+&quot;Width&quot;,a=e+&quot;Style&quot;,c=e+&quot;Color&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>f[e]={};f.borderWidth[d]=f[e][d]=b[d]=&quot;@px&quot;;f.borderStyle[a]=f[e][a]=b[a]=&quot;@&quot;;f.borderColor[c]=f[e][c]=b[c]=&quot;rgb(@, @, @)&quot;;});(function(){Element.implement({scrollTo:function(h,i){if(b(this)){this.getWindow().scrollTo(h,i);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>}else{this.scrollLeft=h;this.scrollTop=i;}return this;},getSize:function(){if(b(this)){return this.getWindow().getSize();}return{x:this.offsetWidth,y:this.offsetHeight};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>},getScrollSize:function(){if(b(this)){return this.getWindow().getScrollSize();}return{x:this.scrollWidth,y:this.scrollHeight};},getScroll:function(){if(b(this)){return this.getWindow().getScroll();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>}return{x:this.scrollLeft,y:this.scrollTop};},getScrolls:function(){var i=this,h={x:0,y:0};while(i&amp;&amp;!b(i)){h.x+=i.scrollLeft;h.y+=i.scrollTop;i=i.parentNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>}return h;},getOffsetParent:function(){var h=this;if(b(h)){return null;}if(!Browser.Engine.trident){return h.offsetParent;}while((h=h.parentNode)&amp;&amp;!b(h)){if(d(h,&quot;position&quot;)!=&quot;static&quot;){return h;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>}}return null;},getOffsets:function(){if(this.getBoundingClientRect){var j=this.getBoundingClientRect(),m=document.id(this.getDocument().documentElement),p=m.getScroll(),k=this.getScrolls(),i=this.getScroll(),h=(d(this,&quot;position&quot;)==&quot;fixed&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>return{x:j.left.toInt()+k.x-i.x+((h)?0:p.x)-m.clientLeft,y:j.top.toInt()+k.y-i.y+((h)?0:p.y)-m.clientTop};}var l=this,n={x:0,y:0};if(b(this)){return n;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>}while(l&amp;&amp;!b(l)){n.x+=l.offsetLeft;n.y+=l.offsetTop;if(Browser.Engine.gecko){if(!f(l)){n.x+=c(l);n.y+=g(l);}var o=l.parentNode;if(o&amp;&amp;d(o,&quot;overflow&quot;)!=&quot;visible&quot;){n.x+=c(o);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>n.y+=g(o);}}else{if(l!=this&amp;&amp;Browser.Engine.webkit){n.x+=c(l);n.y+=g(l);}}l=l.offsetParent;}if(Browser.Engine.gecko&amp;&amp;!f(this)){n.x-=c(this);n.y-=g(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>}return n;},getPosition:function(k){if(b(this)){return{x:0,y:0};}var l=this.getOffsets(),i=this.getScrolls();var h={x:l.x-i.x,y:l.y-i.y};var j=(k&amp;&amp;(k=document.id(k)))?k.getPosition():{x:0,y:0};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>return{x:h.x-j.x,y:h.y-j.y};},getCoordinates:function(j){if(b(this)){return this.getWindow().getCoordinates();}var h=this.getPosition(j),i=this.getSize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>var k={left:h.x,top:h.y,width:i.x,height:i.y};k.right=k.left+k.width;k.bottom=k.top+k.height;return k;},computePosition:function(h){return{left:h.x-e(this,&quot;margin-left&quot;),top:h.y-e(this,&quot;margin-top&quot;)};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>},setPosition:function(h){return this.setStyles(this.computePosition(h));}});Native.implement([Document,Window],{getSize:function(){if(Browser.Engine.presto||Browser.Engine.webkit){var i=this.getWindow();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>return{x:i.innerWidth,y:i.innerHeight};}var h=a(this);return{x:h.clientWidth,y:h.clientHeight};},getScroll:function(){var i=this.getWindow(),h=a(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>return{x:i.pageXOffset||h.scrollLeft,y:i.pageYOffset||h.scrollTop};},getScrollSize:function(){var i=a(this),h=this.getSize();return{x:Math.max(i.scrollWidth,h.x),y:Math.max(i.scrollHeight,h.y)};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>},getPosition:function(){return{x:0,y:0};},getCoordinates:function(){var h=this.getSize();return{top:0,left:0,bottom:h.y,right:h.x,height:h.y,width:h.x};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>}});var d=Element.getComputedStyle;function e(h,i){return d(h,i).toInt()||0;}function f(h){return d(h,&quot;-moz-box-sizing&quot;)==&quot;border-box&quot;;}function g(h){return e(h,&quot;border-top-width&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>}function c(h){return e(h,&quot;border-left-width&quot;);}function b(h){return(/^(?:body|html)$/i).test(h.tagName);}function a(h){var i=h.getDocument();return(!i.compatMode||i.compatMode==&quot;CSS1Compat&quot;)?i.html:i.body;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>}})();Element.alias(&quot;setPosition&quot;,&quot;position&quot;);Native.implement([Window,Document,Element],{getHeight:function(){return this.getSize().y;},getWidth:function(){return this.getSize().x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>},getScrollTop:function(){return this.getScroll().y;},getScrollLeft:function(){return this.getScroll().x;},getScrollHeight:function(){return this.getScrollSize().y;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>},getScrollWidth:function(){return this.getScrollSize().x;},getTop:function(){return this.getPosition().y;},getLeft:function(){return this.getPosition().x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>}});Native.implement([Document,Element],{getElements:function(h,g){h=h.split(&quot;,&quot;);var c,e={};for(var d=0,b=h.length;d&lt;b;d++){var a=h[d],f=Selectors.Utils.search(this,a,e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>if(d!=0&amp;&amp;f.item){f=$A(f);}c=(d==0)?f:(c.item)?$A(c).concat(f):c.concat(f);}return new Elements(c,{ddup:(h.length&gt;1),cash:!g});}});Element.implement({match:function(b){if(!b||(b==this)){return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>}var d=Selectors.Utils.parseTagAndID(b);var a=d[0],e=d[1];if(!Selectors.Filters.byID(this,e)||!Selectors.Filters.byTag(this,a)){return false;}var c=Selectors.Utils.parseSelector(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>return(c)?Selectors.Utils.filter(this,c,{}):true;}});var Selectors={Cache:{nth:{},parsed:{}}};Selectors.RegExps={id:(/#([\w-]+)/),tag:(/^(\w+|\*)/),quick:(/^(\w+|\*)$/),splitter:(/\s*([+&gt;~\s])\s*([a-zA-Z#.*:\[])/g),combined:(/\.([\w-]+)|\[(\w+)(?:([!*^$~|]?=)([&quot;']?)([^\4]*?)\4)?\]|:([\w-]+)(?:\([&quot;']?(.*?)?[&quot;']?\)|$)/g)};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>Selectors.Utils={chk:function(b,c){if(!c){return true;}var a=$uid(b);if(!c[a]){return c[a]=true;}return false;},parseNthArgument:function(h){if(Selectors.Cache.nth[h]){return Selectors.Cache.nth[h];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>}var e=h.match(/^([+-]?\d*)?([a-z]+)?([+-]?\d*)?$/);if(!e){return false;}var g=parseInt(e[1],10);var d=(g||g===0)?g:1;var f=e[2]||false;var c=parseInt(e[3],10)||0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>if(d!=0){c--;while(c&lt;1){c+=d;}while(c&gt;=d){c-=d;}}else{d=c;f=&quot;index&quot;;}switch(f){case&quot;n&quot;:e={a:d,b:c,special:&quot;n&quot;};break;case&quot;odd&quot;:e={a:2,b:0,special:&quot;n&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>break;case&quot;even&quot;:e={a:2,b:1,special:&quot;n&quot;};break;case&quot;first&quot;:e={a:0,special:&quot;index&quot;};break;case&quot;last&quot;:e={special:&quot;last-child&quot;};break;case&quot;only&quot;:e={special:&quot;only-child&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>break;default:e={a:(d-1),special:&quot;index&quot;};}return Selectors.Cache.nth[h]=e;},parseSelector:function(e){if(Selectors.Cache.parsed[e]){return Selectors.Cache.parsed[e];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>}var d,h={classes:[],pseudos:[],attributes:[]};while((d=Selectors.RegExps.combined.exec(e))){var i=d[1],g=d[2],f=d[3],b=d[5],c=d[6],j=d[7];if(i){h.classes.push(i);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>}else{if(c){var a=Selectors.Pseudo.get(c);if(a){h.pseudos.push({parser:a,argument:j});}else{h.attributes.push({name:c,operator:&quot;=&quot;,value:j});}}else{if(g){h.attributes.push({name:g,operator:f,value:b});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>}}}}if(!h.classes.length){delete h.classes;}if(!h.attributes.length){delete h.attributes;}if(!h.pseudos.length){delete h.pseudos;}if(!h.classes&amp;&amp;!h.attributes&amp;&amp;!h.pseudos){h=null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>}return Selectors.Cache.parsed[e]=h;},parseTagAndID:function(b){var a=b.match(Selectors.RegExps.tag);var c=b.match(Selectors.RegExps.id);return[(a)?a[1]:&quot;*&quot;,(c)?c[1]:false];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>},filter:function(f,c,e){var d;if(c.classes){for(d=c.classes.length;d--;d){var g=c.classes[d];if(!Selectors.Filters.byClass(f,g)){return false;}}}if(c.attributes){for(d=c.attributes.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>d--;d){var b=c.attributes[d];if(!Selectors.Filters.byAttribute(f,b.name,b.operator,b.value)){return false;}}}if(c.pseudos){for(d=c.pseudos.length;d--;d){var a=c.pseudos[d];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>if(!Selectors.Filters.byPseudo(f,a.parser,a.argument,e)){return false;}}}return true;},getByTagAndID:function(b,a,d){if(d){var c=(b.getElementById)?b.getElementById(d,true):Element.getElementById(b,d,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>return(c&amp;&amp;Selectors.Filters.byTag(c,a))?[c]:[];}else{return b.getElementsByTagName(a);}},search:function(o,h,t){var b=[];var c=h.trim().replace(Selectors.RegExps.splitter,function(k,j,i){b.push(j);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>return&quot;:)&quot;+i;}).split(&quot;:)&quot;);var p,e,A;for(var z=0,v=c.length;z&lt;v;z++){var y=c[z];if(z==0&amp;&amp;Selectors.RegExps.quick.test(y)){p=o.getElementsByTagName(y);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>continue;}var a=b[z-1];var q=Selectors.Utils.parseTagAndID(y);var B=q[0],r=q[1];if(z==0){p=Selectors.Utils.getByTagAndID(o,B,r);}else{var d={},g=[];for(var x=0,w=p.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>x&lt;w;x++){g=Selectors.Getters[a](g,p[x],B,r,d);}p=g;}var f=Selectors.Utils.parseSelector(y);if(f){e=[];for(var u=0,s=p.length;u&lt;s;u++){A=p[u];if(Selectors.Utils.filter(A,f,t)){e.push(A);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>}}p=e;}}return p;}};Selectors.Getters={&quot; &quot;:function(h,g,j,a,e){var d=Selectors.Utils.getByTagAndID(g,j,a);for(var c=0,b=d.length;c&lt;b;c++){var f=d[c];if(Selectors.Utils.chk(f,e)){h.push(f);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>}}return h;},&quot;&gt;&quot;:function(h,g,j,a,f){var c=Selectors.Utils.getByTagAndID(g,j,a);for(var e=0,d=c.length;e&lt;d;e++){var b=c[e];if(b.parentNode==g&amp;&amp;Selectors.Utils.chk(b,f)){h.push(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>}}return h;},&quot;+&quot;:function(c,b,a,e,d){while((b=b.nextSibling)){if(b.nodeType==1){if(Selectors.Utils.chk(b,d)&amp;&amp;Selectors.Filters.byTag(b,a)&amp;&amp;Selectors.Filters.byID(b,e)){c.push(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>}break;}}return c;},&quot;~&quot;:function(c,b,a,e,d){while((b=b.nextSibling)){if(b.nodeType==1){if(!Selectors.Utils.chk(b,d)){break;}if(Selectors.Filters.byTag(b,a)&amp;&amp;Selectors.Filters.byID(b,e)){c.push(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>}}}return c;}};Selectors.Filters={byTag:function(b,a){return(a==&quot;*&quot;||(b.tagName&amp;&amp;b.tagName.toLowerCase()==a));},byID:function(a,b){return(!b||(a.id&amp;&amp;a.id==b));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>},byClass:function(b,a){return(b.className&amp;&amp;b.className.contains&amp;&amp;b.className.contains(a,&quot; &quot;));},byPseudo:function(a,d,c,b){return d.call(a,c,b);},byAttribute:function(c,d,b,e){var a=Element.prototype.getProperty.call(c,d);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>if(!a){return(b==&quot;!=&quot;);}if(!b||e==undefined){return true;}switch(b){case&quot;=&quot;:return(a==e);case&quot;*=&quot;:return(a.contains(e));case&quot;^=&quot;:return(a.substr(0,e.length)==e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>case&quot;$=&quot;:return(a.substr(a.length-e.length)==e);case&quot;!=&quot;:return(a!=e);case&quot;~=&quot;:return a.contains(e,&quot; &quot;);case&quot;|=&quot;:return a.contains(e,&quot;-&quot;);}return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>}};Selectors.Pseudo=new Hash({checked:function(){return this.checked;},empty:function(){return !(this.innerText||this.textContent||&quot;&quot;).length;},not:function(a){return !Element.match(this,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>},contains:function(a){return(this.innerText||this.textContent||&quot;&quot;).contains(a);},&quot;first-child&quot;:function(){return Selectors.Pseudo.index.call(this,0);},&quot;last-child&quot;:function(){var a=this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>while((a=a.nextSibling)){if(a.nodeType==1){return false;}}return true;},&quot;only-child&quot;:function(){var b=this;while((b=b.previousSibling)){if(b.nodeType==1){return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>}}var a=this;while((a=a.nextSibling)){if(a.nodeType==1){return false;}}return true;},&quot;nth-child&quot;:function(g,e){g=(g==undefined)?&quot;n&quot;:g;var c=Selectors.Utils.parseNthArgument(g);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>if(c.special!=&quot;n&quot;){return Selectors.Pseudo[c.special].call(this,c.a,e);}var f=0;e.positions=e.positions||{};var d=$uid(this);if(!e.positions[d]){var b=this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>while((b=b.previousSibling)){if(b.nodeType!=1){continue;}f++;var a=e.positions[$uid(b)];if(a!=undefined){f=a+f;break;}}e.positions[d]=f;}return(e.positions[d]%c.a==c.b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>},index:function(a){var b=this,c=0;while((b=b.previousSibling)){if(b.nodeType==1&amp;&amp;++c&gt;a){return false;}}return(c==a);},even:function(b,a){return Selectors.Pseudo[&quot;nth-child&quot;].call(this,&quot;2n+1&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>},odd:function(b,a){return Selectors.Pseudo[&quot;nth-child&quot;].call(this,&quot;2n&quot;,a);},selected:function(){return this.selected;},enabled:function(){return(this.disabled===false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">261</th>
  <td class="line-code diff_in">
    <pre>}});Element.Events.domready={onAdd:function(a){if(Browser.loaded){a.call(this);}}};(function(){var b=function(){if(Browser.loaded){return;}Browser.loaded=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">262</th>
  <td class="line-code diff_in">
    <pre>window.fireEvent(&quot;domready&quot;);document.fireEvent(&quot;domready&quot;);};window.addEvent(&quot;load&quot;,b);if(Browser.Engine.trident){var a=document.createElement(&quot;div&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>(function(){($try(function(){a.doScroll();return document.id(a).inject(document.body).set(&quot;html&quot;,&quot;temp&quot;).dispose();}))?b():arguments.callee.delay(50);})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>}else{if(Browser.Engine.webkit&amp;&amp;Browser.Engine.version&lt;525){(function(){([&quot;loaded&quot;,&quot;complete&quot;].contains(document.readyState))?b():arguments.callee.delay(50);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>})();}else{document.addEvent(&quot;DOMContentLoaded&quot;,b);}}})();var JSON=new Hash(this.JSON&amp;&amp;{stringify:JSON.stringify,parse:JSON.parse}).extend({$specialChars:{&quot;\b&quot;:&quot;\\b&quot;,&quot;\t&quot;:&quot;\\t&quot;,&quot;\n&quot;:&quot;\\n&quot;,&quot;\f&quot;:&quot;\\f&quot;,&quot;\r&quot;:&quot;\\r&quot;,'&quot;':'\\&quot;',&quot;\\&quot;:&quot;\\\\&quot;},$replaceChars:function(a){return JSON.$specialChars[a]||&quot;\\u00&quot;+Math.floor(a.charCodeAt()/16).toString(16)+(a.charCodeAt()%16).toString(16);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>},encode:function(b){switch($type(b)){case&quot;string&quot;:return'&quot;'+b.replace(/[\x00-\x1f\\&quot;]/g,JSON.$replaceChars)+'&quot;';case&quot;array&quot;:return&quot;[&quot;+String(b.map(JSON.encode).clean())+&quot;]&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>case&quot;object&quot;:case&quot;hash&quot;:var a=[];Hash.each(b,function(e,d){var c=JSON.encode(e);if(c){a.push(JSON.encode(d)+&quot;:&quot;+c);}});return&quot;{&quot;+a+&quot;}&quot;;case&quot;number&quot;:case&quot;boolean&quot;:return String(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">268</th>
  <td class="line-code diff_in">
    <pre>case false:return&quot;null&quot;;}return null;},decode:function(string,secure){if($type(string)!=&quot;string&quot;||!string.length){return null;}if(secure&amp;&amp;!(/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(string.replace(/\\./g,&quot;@&quot;).replace(/&quot;[^&quot;\\\n\r]*&quot;/g,&quot;&quot;))){return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">269</th>
  <td class="line-code diff_in">
    <pre>}return eval(&quot;(&quot;+string+&quot;)&quot;);}});Native.implement([Hash,Array,String,Number],{toJSON:function(){return JSON.encode(this);}});var Cookie=new Class({Implements:Options,options:{path:false,domain:false,duration:false,secure:false,document:document},initialize:function(b,a){this.key=b;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">270</th>
  <td class="line-code diff_in">
    <pre>this.setOptions(a);},write:function(b){b=encodeURIComponent(b);if(this.options.domain){b+=&quot;; domain=&quot;+this.options.domain;}if(this.options.path){b+=&quot;; path=&quot;+this.options.path;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">271</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.duration){var a=new Date();a.setTime(a.getTime()+this.options.duration*24*60*60*1000);b+=&quot;; expires=&quot;+a.toGMTString();}if(this.options.secure){b+=&quot;; secure&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">272</th>
  <td class="line-code diff_in">
    <pre>}this.options.document.cookie=this.key+&quot;=&quot;+b;return this;},read:function(){var a=this.options.document.cookie.match(&quot;(?:^|;)\\s*&quot;+this.key.escapeRegExp()+&quot;=([^;]*)&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">273</th>
  <td class="line-code diff_in">
    <pre>return(a)?decodeURIComponent(a[1]):null;},dispose:function(){new Cookie(this.key,$merge(this.options,{duration:-1})).write(&quot;&quot;);return this;}});Cookie.write=function(b,c,a){return new Cookie(b,a).write(c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">274</th>
  <td class="line-code diff_in">
    <pre>};Cookie.read=function(a){return new Cookie(a).read();};Cookie.dispose=function(b,a){return new Cookie(b,a).dispose();};var Swiff=new Class({Implements:[Options],options:{id:null,height:1,width:1,container:null,properties:{},params:{quality:&quot;high&quot;,allowScriptAccess:&quot;always&quot;,wMode:&quot;transparent&quot;,swLiveConnect:true},callBacks:{},vars:{}},toElement:function(){return this.object;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">275</th>
  <td class="line-code diff_in">
    <pre>},initialize:function(l,m){this.instance=&quot;Swiff_&quot;+$time();this.setOptions(m);m=this.options;var b=this.id=m.id||this.instance;var a=document.id(m.container);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">276</th>
  <td class="line-code diff_in">
    <pre>Swiff.CallBacks[this.instance]={};var e=m.params,g=m.vars,f=m.callBacks;var h=$extend({height:m.height,width:m.width},m.properties);var k=this;for(var d in f){Swiff.CallBacks[this.instance][d]=(function(n){return function(){return n.apply(k.object,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">277</th>
  <td class="line-code diff_in">
    <pre>};})(f[d]);g[d]=&quot;Swiff.CallBacks.&quot;+this.instance+&quot;.&quot;+d;}e.flashVars=Hash.toQueryString(g);if(Browser.Engine.trident){h.classid=&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">278</th>
  <td class="line-code diff_in">
    <pre>e.movie=l;}else{h.type=&quot;application/x-shockwave-flash&quot;;h.data=l;}var j='&lt;object id=&quot;'+b+'&quot;';for(var i in h){j+=&quot; &quot;+i+'=&quot;'+h[i]+'&quot;';}j+=&quot;&gt;&quot;;for(var c in e){if(e[c]){j+='&lt;param name=&quot;'+c+'&quot; value=&quot;'+e[c]+'&quot; /&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">279</th>
  <td class="line-code diff_in">
    <pre>}}j+=&quot;&lt;/object&gt;&quot;;this.object=((a)?a.empty():new Element(&quot;div&quot;)).set(&quot;html&quot;,j).firstChild;},replaces:function(a){a=document.id(a,true);a.parentNode.replaceChild(this.toElement(),a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">280</th>
  <td class="line-code diff_in">
    <pre>return this;},inject:function(a){document.id(a,true).appendChild(this.toElement());return this;},remote:function(){return Swiff.remote.apply(Swiff,[this.toElement()].extend(arguments));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">281</th>
  <td class="line-code diff_in">
    <pre>}});Swiff.CallBacks={};Swiff.remote=function(obj,fn){var rs=obj.CallFunction('&lt;invoke name=&quot;'+fn+'&quot; returntype=&quot;javascript&quot;&gt;'+__flash__argumentsToXML(arguments,2)+&quot;&lt;/invoke&gt;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">282</th>
  <td class="line-code diff_in">
    <pre>return eval(rs);};var Fx=new Class({Implements:[Chain,Events,Options],options:{fps:50,unit:false,duration:500,link:&quot;ignore&quot;},initialize:function(a){this.subject=this.subject||this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">283</th>
  <td class="line-code diff_in">
    <pre>this.setOptions(a);this.options.duration=Fx.Durations[this.options.duration]||this.options.duration.toInt();var b=this.options.wait;if(b===false){this.options.link=&quot;cancel&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">284</th>
  <td class="line-code diff_in">
    <pre>}},getTransition:function(){return function(a){return -(Math.cos(Math.PI*a)-1)/2;};},step:function(){var a=$time();if(a&lt;this.time+this.options.duration){var b=this.transition((a-this.time)/this.options.duration);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">285</th>
  <td class="line-code diff_in">
    <pre>this.set(this.compute(this.from,this.to,b));}else{this.set(this.compute(this.from,this.to,1));this.complete();}},set:function(a){return a;},compute:function(c,b,a){return Fx.compute(c,b,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">286</th>
  <td class="line-code diff_in">
    <pre>},check:function(){if(!this.timer){return true;}switch(this.options.link){case&quot;cancel&quot;:this.cancel();return true;case&quot;chain&quot;:this.chain(this.caller.bind(this,arguments));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">287</th>
  <td class="line-code diff_in">
    <pre>return false;}return false;},start:function(b,a){if(!this.check(b,a)){return this;}this.from=b;this.to=a;this.time=0;this.transition=this.getTransition();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">288</th>
  <td class="line-code diff_in">
    <pre>this.startTimer();this.onStart();return this;},complete:function(){if(this.stopTimer()){this.onComplete();}return this;},cancel:function(){if(this.stopTimer()){this.onCancel();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">289</th>
  <td class="line-code diff_in">
    <pre>}return this;},onStart:function(){this.fireEvent(&quot;start&quot;,this.subject);},onComplete:function(){this.fireEvent(&quot;complete&quot;,this.subject);if(!this.callChain()){this.fireEvent(&quot;chainComplete&quot;,this.subject);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">290</th>
  <td class="line-code diff_in">
    <pre>}},onCancel:function(){this.fireEvent(&quot;cancel&quot;,this.subject).clearChain();},pause:function(){this.stopTimer();return this;},resume:function(){this.startTimer();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">291</th>
  <td class="line-code diff_in">
    <pre>return this;},stopTimer:function(){if(!this.timer){return false;}this.time=$time()-this.time;this.timer=$clear(this.timer);return true;},startTimer:function(){if(this.timer){return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">292</th>
  <td class="line-code diff_in">
    <pre>}this.time=$time()-this.time;this.timer=this.step.periodical(Math.round(1000/this.options.fps),this);return true;}});Fx.compute=function(c,b,a){return(b-c)*a+c;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">293</th>
  <td class="line-code diff_in">
    <pre>};Fx.Durations={&quot;short&quot;:250,normal:500,&quot;long&quot;:1000};Fx.CSS=new Class({Extends:Fx,prepare:function(d,e,b){b=$splat(b);var c=b[1];if(!$chk(c)){b[1]=b[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">294</th>
  <td class="line-code diff_in">
    <pre>b[0]=d.getStyle(e);}var a=b.map(this.parse);return{from:a[0],to:a[1]};},parse:function(a){a=$lambda(a)();a=(typeof a==&quot;string&quot;)?a.split(&quot; &quot;):$splat(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">295</th>
  <td class="line-code diff_in">
    <pre>return a.map(function(c){c=String(c);var b=false;Fx.CSS.Parsers.each(function(f,e){if(b){return;}var d=f.parse(c);if($chk(d)){b={value:d,parser:f};}});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">296</th>
  <td class="line-code diff_in">
    <pre>b=b||{value:c,parser:Fx.CSS.Parsers.String};return b;});},compute:function(d,c,b){var a=[];(Math.min(d.length,c.length)).times(function(e){a.push({value:d[e].parser.compute(d[e].value,c[e].value,b),parser:d[e].parser});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">297</th>
  <td class="line-code diff_in">
    <pre>});a.$family={name:&quot;fx:css:value&quot;};return a;},serve:function(c,b){if($type(c)!=&quot;fx:css:value&quot;){c=this.parse(c);}var a=[];c.each(function(d){a=a.concat(d.parser.serve(d.value,b));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">298</th>
  <td class="line-code diff_in">
    <pre>});return a;},render:function(a,d,c,b){a.setStyle(d,this.serve(c,b));},search:function(a){if(Fx.CSS.Cache[a]){return Fx.CSS.Cache[a];}var b={};Array.each(document.styleSheets,function(e,d){var c=e.href;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">299</th>
  <td class="line-code diff_in">
    <pre>if(c&amp;&amp;c.contains(&quot;://&quot;)&amp;&amp;!c.contains(document.domain)){return;}var f=e.rules||e.cssRules;Array.each(f,function(j,g){if(!j.style){return;}var h=(j.selectorText)?j.selectorText.replace(/^\w+/,function(i){return i.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">300</th>
  <td class="line-code diff_in">
    <pre>}):null;if(!h||!h.test(&quot;^&quot;+a+&quot;$&quot;)){return;}Element.Styles.each(function(k,i){if(!j.style[i]||Element.ShortStyles[i]){return;}k=String(j.style[i]);b[i]=(k.test(/^rgb/))?k.rgbToHex():k;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">301</th>
  <td class="line-code diff_in">
    <pre>});});});return Fx.CSS.Cache[a]=b;}});Fx.CSS.Cache={};Fx.CSS.Parsers=new Hash({Color:{parse:function(a){if(a.match(/^#[0-9a-f]{3,6}$/i)){return a.hexToRgb(true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">302</th>
  <td class="line-code diff_in">
    <pre>}return((a=a.match(/(\d+),\s*(\d+),\s*(\d+)/)))?[a[1],a[2],a[3]]:false;},compute:function(c,b,a){return c.map(function(e,d){return Math.round(Fx.compute(c[d],b[d],a));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">303</th>
  <td class="line-code diff_in">
    <pre>});},serve:function(a){return a.map(Number);}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(b,a){return(a)?b+a:b;}},String:{parse:$lambda(false),compute:$arguments(1),serve:$arguments(0)}});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">304</th>
  <td class="line-code diff_in">
    <pre>Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(b,a){this.element=this.subject=document.id(b);this.parent(a);},set:function(b,a){if(arguments.length==1){a=b;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">305</th>
  <td class="line-code diff_in">
    <pre>b=this.property||this.options.property;}this.render(this.element,b,a,this.options.unit);return this;},start:function(c,e,d){if(!this.check(c,e,d)){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">306</th>
  <td class="line-code diff_in">
    <pre>}var b=Array.flatten(arguments);this.property=this.options.property||b.shift();var a=this.prepare(this.element,this.property,b);return this.parent(a.from,a.to);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">307</th>
  <td class="line-code diff_in">
    <pre>}});Element.Properties.tween={set:function(a){var b=this.retrieve(&quot;tween&quot;);if(b){b.cancel();}return this.eliminate(&quot;tween&quot;).store(&quot;tween:options&quot;,$extend({link:&quot;cancel&quot;},a));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">308</th>
  <td class="line-code diff_in">
    <pre>},get:function(a){if(a||!this.retrieve(&quot;tween&quot;)){if(a||!this.retrieve(&quot;tween:options&quot;)){this.set(&quot;tween&quot;,a);}this.store(&quot;tween&quot;,new Fx.Tween(this,this.retrieve(&quot;tween:options&quot;)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">309</th>
  <td class="line-code diff_in">
    <pre>}return this.retrieve(&quot;tween&quot;);}};Element.implement({tween:function(a,c,b){this.get(&quot;tween&quot;).start(arguments);return this;},fade:function(c){var e=this.get(&quot;tween&quot;),d=&quot;opacity&quot;,a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">310</th>
  <td class="line-code diff_in">
    <pre>c=$pick(c,&quot;toggle&quot;);switch(c){case&quot;in&quot;:e.start(d,1);break;case&quot;out&quot;:e.start(d,0);break;case&quot;show&quot;:e.set(d,1);break;case&quot;hide&quot;:e.set(d,0);break;case&quot;toggle&quot;:var b=this.retrieve(&quot;fade:flag&quot;,this.get(&quot;opacity&quot;)==1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">311</th>
  <td class="line-code diff_in">
    <pre>e.start(d,(b)?0:1);this.store(&quot;fade:flag&quot;,!b);a=true;break;default:e.start(d,arguments);}if(!a){this.eliminate(&quot;fade:flag&quot;);}return this;},highlight:function(c,a){if(!a){a=this.retrieve(&quot;highlight:original&quot;,this.getStyle(&quot;background-color&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">312</th>
  <td class="line-code diff_in">
    <pre>a=(a==&quot;transparent&quot;)?&quot;#fff&quot;:a;}var b=this.get(&quot;tween&quot;);b.start(&quot;background-color&quot;,c||&quot;#ffff88&quot;,a).chain(function(){this.setStyle(&quot;background-color&quot;,this.retrieve(&quot;highlight:original&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">313</th>
  <td class="line-code diff_in">
    <pre>b.callChain();}.bind(this));return this;}});Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(b,a){this.element=this.subject=document.id(b);this.parent(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">314</th>
  <td class="line-code diff_in">
    <pre>},set:function(a){if(typeof a==&quot;string&quot;){a=this.search(a);}for(var b in a){this.render(this.element,b,a[b],this.options.unit);}return this;},compute:function(e,d,c){var a={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">315</th>
  <td class="line-code diff_in">
    <pre>for(var b in e){a[b]=this.parent(e[b],d[b],c);}return a;},start:function(b){if(!this.check(b)){return this;}if(typeof b==&quot;string&quot;){b=this.search(b);}var e={},d={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">316</th>
  <td class="line-code diff_in">
    <pre>for(var c in b){var a=this.prepare(this.element,c,b[c]);e[c]=a.from;d[c]=a.to;}return this.parent(e,d);}});Element.Properties.morph={set:function(a){var b=this.retrieve(&quot;morph&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">317</th>
  <td class="line-code diff_in">
    <pre>if(b){b.cancel();}return this.eliminate(&quot;morph&quot;).store(&quot;morph:options&quot;,$extend({link:&quot;cancel&quot;},a));},get:function(a){if(a||!this.retrieve(&quot;morph&quot;)){if(a||!this.retrieve(&quot;morph:options&quot;)){this.set(&quot;morph&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">318</th>
  <td class="line-code diff_in">
    <pre>}this.store(&quot;morph&quot;,new Fx.Morph(this,this.retrieve(&quot;morph:options&quot;)));}return this.retrieve(&quot;morph&quot;);}};Element.implement({morph:function(a){this.get(&quot;morph&quot;).start(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">319</th>
  <td class="line-code diff_in">
    <pre>return this;}});Fx.implement({getTransition:function(){var a=this.options.transition||Fx.Transitions.Sine.easeInOut;if(typeof a==&quot;string&quot;){var b=a.split(&quot;:&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>a=Fx.Transitions;a=a[b[0]]||a[b[0].capitalize()];if(b[1]){a=a[&quot;ease&quot;+b[1].capitalize()+(b[2]?b[2].capitalize():&quot;&quot;)];}}return a;}});Fx.Transition=function(b,a){a=$splat(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>return $extend(b,{easeIn:function(c){return b(c,a);},easeOut:function(c){return 1-b(1-c,a);},easeInOut:function(c){return(c&lt;=0.5)?b(2*c,a)/2:(2-b(2*(1-c),a))/2;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">322</th>
  <td class="line-code diff_in">
    <pre>}});};Fx.Transitions=new Hash({linear:$arguments(0)});Fx.Transitions.extend=function(a){for(var b in a){Fx.Transitions[b]=new Fx.Transition(a[b]);}};Fx.Transitions.extend({Pow:function(b,a){return Math.pow(b,a[0]||6);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">323</th>
  <td class="line-code diff_in">
    <pre>},Expo:function(a){return Math.pow(2,8*(a-1));},Circ:function(a){return 1-Math.sin(Math.acos(a));},Sine:function(a){return 1-Math.sin((1-a)*Math.PI/2);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">324</th>
  <td class="line-code diff_in">
    <pre>},Back:function(b,a){a=a[0]||1.618;return Math.pow(b,2)*((a+1)*b-a);},Bounce:function(f){var e;for(var d=0,c=1;1;d+=c,c/=2){if(f&gt;=(7-4*d)/11){e=c*c-Math.pow((11-6*d-11*f)/4,2);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">325</th>
  <td class="line-code diff_in">
    <pre>break;}}return e;},Elastic:function(b,a){return Math.pow(2,10*--b)*Math.cos(20*b*Math.PI*(a[0]||1)/3);}});[&quot;Quad&quot;,&quot;Cubic&quot;,&quot;Quart&quot;,&quot;Quint&quot;].each(function(b,a){Fx.Transitions[b]=new Fx.Transition(function(c){return Math.pow(c,[a+2]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">326</th>
  <td class="line-code diff_in">
    <pre>});});var Request=new Class({Implements:[Chain,Events,Options],options:{url:&quot;&quot;,data:&quot;&quot;,headers:{&quot;X-Requested-With&quot;:&quot;XMLHttpRequest&quot;,Accept:&quot;text/javascript, text/html, application/xml, text/xml, */*&quot;},async:true,format:false,method:&quot;post&quot;,link:&quot;ignore&quot;,isSuccess:null,emulation:true,urlEncoded:true,encoding:&quot;utf-8&quot;,evalScripts:false,evalResponse:false,noCache:false},initialize:function(a){this.xhr=new Browser.Request();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">327</th>
  <td class="line-code diff_in">
    <pre>this.setOptions(a);this.options.isSuccess=this.options.isSuccess||this.isSuccess;this.headers=new Hash(this.options.headers);},onStateChange:function(){if(this.xhr.readyState!=4||!this.running){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">328</th>
  <td class="line-code diff_in">
    <pre>}this.running=false;this.status=0;$try(function(){this.status=this.xhr.status;}.bind(this));this.xhr.onreadystatechange=$empty;if(this.options.isSuccess.call(this,this.status)){this.response={text:this.xhr.responseText,xml:this.xhr.responseXML};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">329</th>
  <td class="line-code diff_in">
    <pre>this.success(this.response.text,this.response.xml);}else{this.response={text:null,xml:null};this.failure();}},isSuccess:function(){return((this.status&gt;=200)&amp;&amp;(this.status&lt;300));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">330</th>
  <td class="line-code diff_in">
    <pre>},processScripts:function(a){if(this.options.evalResponse||(/(ecma|java)script/).test(this.getHeader(&quot;Content-type&quot;))){return $exec(a);}return a.stripScripts(this.options.evalScripts);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">331</th>
  <td class="line-code diff_in">
    <pre>},success:function(b,a){this.onSuccess(this.processScripts(b),a);},onSuccess:function(){this.fireEvent(&quot;complete&quot;,arguments).fireEvent(&quot;success&quot;,arguments).callChain();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">332</th>
  <td class="line-code diff_in">
    <pre>},failure:function(){this.onFailure();},onFailure:function(){this.fireEvent(&quot;complete&quot;).fireEvent(&quot;failure&quot;,this.xhr);},setHeader:function(a,b){this.headers.set(a,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">333</th>
  <td class="line-code diff_in">
    <pre>return this;},getHeader:function(a){return $try(function(){return this.xhr.getResponseHeader(a);}.bind(this));},check:function(){if(!this.running){return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">334</th>
  <td class="line-code diff_in">
    <pre>}switch(this.options.link){case&quot;cancel&quot;:this.cancel();return true;case&quot;chain&quot;:this.chain(this.caller.bind(this,arguments));return false;}return false;},send:function(k){if(!this.check(k)){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">335</th>
  <td class="line-code diff_in">
    <pre>}this.running=true;var i=$type(k);if(i==&quot;string&quot;||i==&quot;element&quot;){k={data:k};}var d=this.options;k=$extend({data:d.data,url:d.url,method:d.method},k);var g=k.data,b=String(k.url),a=k.method.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">336</th>
  <td class="line-code diff_in">
    <pre>switch($type(g)){case&quot;element&quot;:g=document.id(g).toQueryString();break;case&quot;object&quot;:case&quot;hash&quot;:g=Hash.toQueryString(g);}if(this.options.format){var j=&quot;format=&quot;+this.options.format;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">337</th>
  <td class="line-code diff_in">
    <pre>g=(g)?j+&quot;&amp;&quot;+g:j;}if(this.options.emulation&amp;&amp;![&quot;get&quot;,&quot;post&quot;].contains(a)){var h=&quot;_method=&quot;+a;g=(g)?h+&quot;&amp;&quot;+g:h;a=&quot;post&quot;;}if(this.options.urlEncoded&amp;&amp;a==&quot;post&quot;){var c=(this.options.encoding)?&quot;; charset=&quot;+this.options.encoding:&quot;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">338</th>
  <td class="line-code diff_in">
    <pre>this.headers.set(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;+c);}if(this.options.noCache){var f=&quot;noCache=&quot;+new Date().getTime();g=(g)?f+&quot;&amp;&quot;+g:f;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">339</th>
  <td class="line-code diff_in">
    <pre>}var e=b.lastIndexOf(&quot;/&quot;);if(e&gt;-1&amp;&amp;(e=b.indexOf(&quot;#&quot;))&gt;-1){b=b.substr(0,e);}if(g&amp;&amp;a==&quot;get&quot;){b=b+(b.contains(&quot;?&quot;)?&quot;&amp;&quot;:&quot;?&quot;)+g;g=null;}this.xhr.open(a.toUpperCase(),b,this.options.async);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">340</th>
  <td class="line-code diff_in">
    <pre>this.xhr.onreadystatechange=this.onStateChange.bind(this);this.headers.each(function(m,l){try{this.xhr.setRequestHeader(l,m);}catch(n){this.fireEvent(&quot;exception&quot;,[l,m]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">341</th>
  <td class="line-code diff_in">
    <pre>}},this);this.fireEvent(&quot;request&quot;);this.xhr.send(g);if(!this.options.async){this.onStateChange();}return this;},cancel:function(){if(!this.running){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">342</th>
  <td class="line-code diff_in">
    <pre>}this.running=false;this.xhr.abort();this.xhr.onreadystatechange=$empty;this.xhr=new Browser.Request();this.fireEvent(&quot;cancel&quot;);return this;}});(function(){var a={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">343</th>
  <td class="line-code diff_in">
    <pre>[&quot;get&quot;,&quot;post&quot;,&quot;put&quot;,&quot;delete&quot;,&quot;GET&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot;].each(function(b){a[b]=function(){var c=Array.link(arguments,{url:String.type,data:$defined});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">344</th>
  <td class="line-code diff_in">
    <pre>return this.send($extend(c,{method:b}));};});Request.implement(a);})();Element.Properties.send={set:function(a){var b=this.retrieve(&quot;send&quot;);if(b){b.cancel();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">345</th>
  <td class="line-code diff_in">
    <pre>}return this.eliminate(&quot;send&quot;).store(&quot;send:options&quot;,$extend({data:this,link:&quot;cancel&quot;,method:this.get(&quot;method&quot;)||&quot;post&quot;,url:this.get(&quot;action&quot;)},a));},get:function(a){if(a||!this.retrieve(&quot;send&quot;)){if(a||!this.retrieve(&quot;send:options&quot;)){this.set(&quot;send&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">346</th>
  <td class="line-code diff_in">
    <pre>}this.store(&quot;send&quot;,new Request(this.retrieve(&quot;send:options&quot;)));}return this.retrieve(&quot;send&quot;);}};Element.implement({send:function(a){var b=this.get(&quot;send&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">347</th>
  <td class="line-code diff_in">
    <pre>b.send({data:this,url:a||b.options.url});return this;}});Request.HTML=new Class({Extends:Request,options:{update:false,append:false,evalScripts:true,filter:false},processHTML:function(c){var b=c.match(/&lt;body[^&gt;]*&gt;([\s\S]*?)&lt;\/body&gt;/i);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">348</th>
  <td class="line-code diff_in">
    <pre>c=(b)?b[1]:c;var a=new Element(&quot;div&quot;);return $try(function(){var d=&quot;&lt;root&gt;&quot;+c+&quot;&lt;/root&gt;&quot;,g;if(Browser.Engine.trident){g=new ActiveXObject(&quot;Microsoft.XMLDOM&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">349</th>
  <td class="line-code diff_in">
    <pre>g.async=false;g.loadXML(d);}else{g=new DOMParser().parseFromString(d,&quot;text/xml&quot;);}d=g.getElementsByTagName(&quot;root&quot;)[0];if(!d){return null;}for(var f=0,e=d.childNodes.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">350</th>
  <td class="line-code diff_in">
    <pre>f&lt;e;f++){var h=Element.clone(d.childNodes[f],true,true);if(h){a.grab(h);}}return a;})||a.set(&quot;html&quot;,c);},success:function(d){var c=this.options,b=this.response;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">351</th>
  <td class="line-code diff_in">
    <pre>b.html=d.stripScripts(function(e){b.javascript=e;});var a=this.processHTML(b.html);b.tree=a.childNodes;b.elements=a.getElements(&quot;*&quot;);if(c.filter){b.tree=b.elements.filter(c.filter);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">352</th>
  <td class="line-code diff_in">
    <pre>}if(c.update){document.id(c.update).empty().set(&quot;html&quot;,b.html);}else{if(c.append){document.id(c.append).adopt(a.getChildren());}}if(c.evalScripts){$exec(b.javascript);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">353</th>
  <td class="line-code diff_in">
    <pre>}this.onSuccess(b.tree,b.elements,b.html,b.javascript);}});Element.Properties.load={set:function(a){var b=this.retrieve(&quot;load&quot;);if(b){b.cancel();}return this.eliminate(&quot;load&quot;).store(&quot;load:options&quot;,$extend({data:this,link:&quot;cancel&quot;,update:this,method:&quot;get&quot;},a));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">354</th>
  <td class="line-code diff_in">
    <pre>},get:function(a){if(a||!this.retrieve(&quot;load&quot;)){if(a||!this.retrieve(&quot;load:options&quot;)){this.set(&quot;load&quot;,a);}this.store(&quot;load&quot;,new Request.HTML(this.retrieve(&quot;load:options&quot;)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">355</th>
  <td class="line-code diff_in">
    <pre>}return this.retrieve(&quot;load&quot;);}};Element.implement({load:function(){this.get(&quot;load&quot;).send(Array.link(arguments,{data:Object.type,url:String.type}));return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">356</th>
  <td class="line-code diff_in">
    <pre>}});Request.JSON=new Class({Extends:Request,options:{secure:true},initialize:function(a){this.parent(a);this.headers.extend({Accept:&quot;application/json&quot;,&quot;X-Request&quot;:&quot;JSON&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">357</th>
  <td class="line-code diff_in">
    <pre>},success:function(a){this.response.json=JSON.decode(a,this.options.secure);this.onSuccess(this.response.json,a);}});
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/mootools-more.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>//MooTools More, &lt;http://mootools.net/more&gt;. Copyright (c) 2006-2009 Aaron Newton &lt;http://clientcide.com/&gt;, Valerio Proietti &lt;http://mad4milk.net&gt; &amp; the MooTools team &lt;http://mootools.net/developers&gt;, MIT Style License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>MooTools.More={version:&quot;1.2.4.2&quot;,build:&quot;bd5a93c0913cce25917c48cbdacde568e15e02ef&quot;};(function(){var a={language:&quot;en-US&quot;,languages:{&quot;en-US&quot;:{}},cascades:[&quot;en-US&quot;]};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>var b;MooTools.lang=new Events();$extend(MooTools.lang,{setLanguage:function(c){if(!a.languages[c]){return this;}a.language=c;this.load();this.fireEvent(&quot;langChange&quot;,c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>return this;},load:function(){var c=this.cascade(this.getCurrentLanguage());b={};$each(c,function(e,d){b[d]=this.lambda(e);},this);},getCurrentLanguage:function(){return a.language;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>},addLanguage:function(c){a.languages[c]=a.languages[c]||{};return this;},cascade:function(e){var c=(a.languages[e]||{}).cascades||[];c.combine(a.cascades);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>c.erase(e).push(e);var d=c.map(function(f){return a.languages[f];},this);return $merge.apply(this,d);},lambda:function(c){(c||{}).get=function(e,d){return $lambda(c[e]).apply(this,$splat(d));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>};return c;},get:function(e,d,c){if(b&amp;&amp;b[e]){return(d?b[e].get(d,c):b[e]);}},set:function(d,e,c){this.addLanguage(d);langData=a.languages[d];if(!langData[e]){langData[e]={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>}$extend(langData[e],c);if(d==this.getCurrentLanguage()){this.load();this.fireEvent(&quot;langChange&quot;,d);}return this;},list:function(){return Hash.getKeys(a.languages);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>}});})();(function(){var c=this;var b=function(){if(c.console&amp;&amp;console.log){try{console.log.apply(console,arguments);}catch(d){console.log(Array.slice(arguments));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>}}else{Log.logged.push(arguments);}return this;};var a=function(){this.logged.push(arguments);return this;};this.Log=new Class({logged:[],log:a,resetLog:function(){this.logged.empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>return this;},enableLog:function(){this.log=b;this.logged.each(function(d){this.log.apply(this,d);},this);return this.resetLog();},disableLog:function(){this.log=a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>return this;}});Log.extend(new Log).enableLog();Log.logger=function(){return this.log.apply(this,arguments);};})();var Depender={options:{loadedSources:[],loadedScripts:[&quot;Core&quot;,&quot;Browser&quot;,&quot;Array&quot;,&quot;String&quot;,&quot;Function&quot;,&quot;Number&quot;,&quot;Hash&quot;,&quot;Element&quot;,&quot;Event&quot;,&quot;Element.Event&quot;,&quot;Class&quot;,&quot;DomReady&quot;,&quot;Class.Extras&quot;,&quot;Request&quot;,&quot;JSON&quot;,&quot;Request.JSON&quot;,&quot;More&quot;,&quot;Depender&quot;,&quot;Log&quot;],useScriptInjection:true},loaded:[],sources:{},libs:{},include:function(b){this.log(&quot;include: &quot;,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>this.mapLoaded=false;var a=function(c){this.libs=$merge(this.libs,c);$each(this.libs,function(d,e){if(d.scripts){this.loadSource(e,d.scripts);}},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>}.bind(this);if($type(b)==&quot;string&quot;){this.log(&quot;fetching libs &quot;,b);this.request(b,a);}else{a(b);}return this;},required:[],require:function(b){var a=function(){var c=this.calculateDependencies(b.scripts);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>if(b.sources){b.sources.each(function(d){c.combine(this.libs[d].files);},this);}if(b.serial){c.combine(this.getLoadedScripts());}b.scripts=c;this.required.push(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;require&quot;,b);this.loadScripts(b.scripts);};if(this.mapLoaded){a.call(this);}else{this.addEvent(&quot;mapLoaded&quot;,function(){a.call(this);this.removeEvent(&quot;mapLoaded&quot;,arguments.callee);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>});}return this;},cleanDoubleSlash:function(b){if(!b){return b;}var a=&quot;&quot;;if(b.test(/^http:\/\//)){a=&quot;http://&quot;;b=b.substring(7,b.length);}b=b.replace(/\/\//g,&quot;/&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>return a+b;},request:function(a,b){new Request.JSON({url:a,secure:false,onSuccess:b}).send();},loadSource:function(b,a){if(this.libs[b].files){this.dataLoaded();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>return;}this.log(&quot;loading source: &quot;,a);this.request(this.cleanDoubleSlash(a+&quot;/scripts.json&quot;),function(c){this.log(&quot;loaded source: &quot;,a);this.libs[b].files=c;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>this.dataLoaded();}.bind(this));},dataLoaded:function(){var a=true;$each(this.libs,function(c,b){if(!this.libs[b].files){a=false;}},this);if(a){this.mapTree();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>this.mapLoaded=true;this.calculateLoaded();this.lastLoaded=this.getLoadedScripts().getLength();this.fireEvent(&quot;mapLoaded&quot;);}},calculateLoaded:function(){var a=function(b){this.scriptsState[b]=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>}.bind(this);if(this.options.loadedScripts){this.options.loadedScripts.each(a);}if(this.options.loadedSources){this.options.loadedSources.each(function(b){$each(this.libs[b].files,function(c){$each(c,function(e,d){a(d);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>},this);},this);},this);}},deps:{},pathMap:{},mapTree:function(){$each(this.libs,function(b,a){$each(b.files,function(c,d){$each(c,function(f,e){var g=a+&quot;:&quot;+d+&quot;:&quot;+e;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>if(this.deps[g]){return;}this.deps[g]=f.deps;this.pathMap[e]=g;},this);},this);},this);},getDepsForScript:function(a){return this.deps[this.pathMap[a]]||[];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>},calculateDependencies:function(a){var b=[];$splat(a).each(function(c){if(c==&quot;None&quot;||!c){return;}var d=this.getDepsForScript(c);if(!d){if(window.console&amp;&amp;console.warn){console.warn(&quot;dependencies not mapped: script: %o, map: %o, :deps: %o&quot;,c,this.pathMap,this.deps);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>}}else{d.each(function(e){if(e==c||e==&quot;None&quot;||!e){return;}if(!b.contains(e)){b.combine(this.calculateDependencies(e));}b.include(e);},this);}b.include(c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>},this);return b;},getPath:function(a){try{var f=this.pathMap[a].split(&quot;:&quot;);var d=this.libs[f[0]];var b=(d.path||d.scripts)+&quot;/&quot;;f.shift();return this.cleanDoubleSlash(b+f.join(&quot;/&quot;)+&quot;.js&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>}catch(c){return a;}},loadScripts:function(a){a=a.filter(function(b){if(!this.scriptsState[b]&amp;&amp;b!=&quot;None&quot;){this.scriptsState[b]=false;return true;}},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>if(a.length){a.each(function(b){this.loadScript(b);},this);}else{this.check();}},toLoad:[],loadScript:function(b){if(this.scriptsState[b]&amp;&amp;this.toLoad.length){this.loadScript(this.toLoad.shift());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>return;}else{if(this.loading){this.toLoad.push(b);return;}}var e=function(){this.loading=false;this.scriptLoaded(b);if(this.toLoad.length){this.loadScript(this.toLoad.shift());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>}}.bind(this);var d=function(){this.log(&quot;could not load: &quot;,a);}.bind(this);this.loading=true;var a=this.getPath(b);if(this.options.useScriptInjection){this.log(&quot;injecting script: &quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>var c=function(){this.log(&quot;loaded script: &quot;,a);e();}.bind(this);new Element(&quot;script&quot;,{src:a+(this.options.noCache?&quot;?noCache=&quot;+new Date().getTime():&quot;&quot;),events:{load:c,readystatechange:function(){if([&quot;loaded&quot;,&quot;complete&quot;].contains(this.readyState)){c();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>}},error:d}}).inject(this.options.target||document.head);}else{this.log(&quot;requesting script: &quot;,a);new Request({url:a,noCache:this.options.noCache,onComplete:function(f){this.log(&quot;loaded script: &quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>$exec(f);e();}.bind(this),onFailure:d,onException:d}).send();}},scriptsState:$H(),getLoadedScripts:function(){return this.scriptsState.filter(function(a){return a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>});},scriptLoaded:function(a){this.log(&quot;loaded script: &quot;,a);this.scriptsState[a]=true;this.check();var b=this.getLoadedScripts();var d=b.getLength();var c=this.scriptsState.getLength();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;scriptLoaded&quot;,{script:a,totalLoaded:(d/c*100).round(),currentLoaded:((d-this.lastLoaded)/(c-this.lastLoaded)*100).round(),loaded:b});if(d==c){this.lastLoaded=d;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>}},lastLoaded:0,check:function(){var a=[];this.required.each(function(c){var b=[];c.scripts.each(function(d){if(this.scriptsState[d]){b.push(d);}},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>if(c.onStep){c.onStep({percent:b.length/c.scripts.length*100,scripts:b});}if(c.scripts.length!=b.length){return;}c.callback();this.required.erase(c);this.fireEvent(&quot;requirementLoaded&quot;,[b,c]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>},this);}};$extend(Depender,new Events);$extend(Depender,new Options);$extend(Depender,new Log);Depender._setOptions=Depender.setOptions;Depender.setOptions=function(){Depender._setOptions.apply(Depender,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>if(this.options.log){Depender.enableLog();}return this;};Class.refactor=function(b,a){$each(a,function(e,d){var c=b.prototype[d];if(c&amp;&amp;(c=c._origin)&amp;&amp;typeof e==&quot;function&quot;){b.implement(d,function(){var f=this.previous;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>this.previous=c;var g=e.apply(this,arguments);this.previous=f;return g;});}else{b.implement(d,e);}});return b;};Class.Mutators.Binds=function(a){return a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>};Class.Mutators.initialize=function(a){return function(){$splat(this.Binds).each(function(b){var c=this[b];if(c){this[b]=c.bind(this);}},this);return a.apply(this,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>};};Class.Occlude=new Class({occlude:function(c,b){b=document.id(b||this.element);var a=b.retrieve(c||this.property);if(a&amp;&amp;!$defined(this.occluded)){return this.occluded=a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>}this.occluded=false;b.store(c||this.property,this);return this.occluded;}});(function(){var a={wait:function(b){return this.chain(function(){this.callChain.delay($pick(b,500),this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>}.bind(this));}};Chain.implement(a);if(window.Fx){Fx.implement(a);[&quot;Css&quot;,&quot;Tween&quot;,&quot;Elements&quot;].each(function(b){if(Fx[b]){Fx[b].implement(a);}});}Element.implement({chains:function(b){$splat($pick(b,[&quot;tween&quot;,&quot;morph&quot;,&quot;reveal&quot;])).each(function(c){c=this.get(c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>if(!c){return;}c.setOptions({link:&quot;chain&quot;});},this);return this;},pauseFx:function(c,b){this.chains(b).get($pick(b,&quot;tween&quot;)).wait(c);return this;}});})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>Array.implement({min:function(){return Math.min.apply(null,this);},max:function(){return Math.max.apply(null,this);},average:function(){return this.length?this.sum()/this.length:0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>},sum:function(){var a=0,b=this.length;if(b){do{a+=this[--b];}while(b);}return a;},unique:function(){return[].combine(this);}});(function(){var i=this.Date;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>if(!i.now){i.now=$time;}i.Methods={ms:&quot;Milliseconds&quot;,year:&quot;FullYear&quot;,min:&quot;Minutes&quot;,mo:&quot;Month&quot;,sec:&quot;Seconds&quot;,hr:&quot;Hours&quot;};[&quot;Date&quot;,&quot;Day&quot;,&quot;FullYear&quot;,&quot;Hours&quot;,&quot;Milliseconds&quot;,&quot;Minutes&quot;,&quot;Month&quot;,&quot;Seconds&quot;,&quot;Time&quot;,&quot;TimezoneOffset&quot;,&quot;Week&quot;,&quot;Timezone&quot;,&quot;GMTOffset&quot;,&quot;DayOfYear&quot;,&quot;LastMonth&quot;,&quot;LastDayOfMonth&quot;,&quot;UTCDate&quot;,&quot;UTCDay&quot;,&quot;UTCFullYear&quot;,&quot;AMPM&quot;,&quot;Ordinal&quot;,&quot;UTCHours&quot;,&quot;UTCMilliseconds&quot;,&quot;UTCMinutes&quot;,&quot;UTCMonth&quot;,&quot;UTCSeconds&quot;].each(function(p){i.Methods[p.toLowerCase()]=p;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>});var d=function(q,p){return new Array(p-String(q).length+1).join(&quot;0&quot;)+q;};i.implement({set:function(t,r){switch($type(t)){case&quot;object&quot;:for(var s in t){this.set(s,t[s]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>}break;case&quot;string&quot;:t=t.toLowerCase();var q=i.Methods;if(q[t]){this[&quot;set&quot;+q[t]](r);}}return this;},get:function(q){q=q.toLowerCase();var p=i.Methods;if(p[q]){return this[&quot;get&quot;+p[q]]();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>}return null;},clone:function(){return new i(this.get(&quot;time&quot;));},increment:function(p,r){p=p||&quot;day&quot;;r=$pick(r,1);switch(p){case&quot;year&quot;:return this.increment(&quot;month&quot;,r*12);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>case&quot;month&quot;:var q=this.get(&quot;date&quot;);this.set(&quot;date&quot;,1).set(&quot;mo&quot;,this.get(&quot;mo&quot;)+r);return this.set(&quot;date&quot;,q.min(this.get(&quot;lastdayofmonth&quot;)));case&quot;week&quot;:return this.increment(&quot;day&quot;,r*7);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>case&quot;day&quot;:return this.set(&quot;date&quot;,this.get(&quot;date&quot;)+r);}if(!i.units[p]){throw new Error(p+&quot; is not a supported interval&quot;);}return this.set(&quot;time&quot;,this.get(&quot;time&quot;)+r*i.units[p]());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>},decrement:function(p,q){return this.increment(p,-1*$pick(q,1));},isLeapYear:function(){return i.isLeapYear(this.get(&quot;year&quot;));},clearTime:function(){return this.set({hr:0,min:0,sec:0,ms:0});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>},diff:function(q,p){if($type(q)==&quot;string&quot;){q=i.parse(q);}return((q-this)/i.units[p||&quot;day&quot;](3,3)).toInt();},getLastDayOfMonth:function(){return i.daysInMonth(this.get(&quot;mo&quot;),this.get(&quot;year&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>},getDayOfYear:function(){return(i.UTC(this.get(&quot;year&quot;),this.get(&quot;mo&quot;),this.get(&quot;date&quot;)+1)-i.UTC(this.get(&quot;year&quot;),0,1))/i.units.day();},getWeek:function(){return(this.get(&quot;dayofyear&quot;)/7).ceil();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>},getOrdinal:function(p){return i.getMsg(&quot;ordinal&quot;,p||this.get(&quot;date&quot;));},getTimezone:function(){return this.toString().replace(/^.*? ([A-Z]{3}).[0-9]{4}.*$/,&quot;$1&quot;).replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,&quot;$1$2$3&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>},getGMTOffset:function(){var p=this.get(&quot;timezoneOffset&quot;);return((p&gt;0)?&quot;-&quot;:&quot;+&quot;)+d((p.abs()/60).floor(),2)+d(p%60,2);},setAMPM:function(p){p=p.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>var q=this.get(&quot;hr&quot;);if(q&gt;11&amp;&amp;p==&quot;AM&quot;){return this.decrement(&quot;hour&quot;,12);}else{if(q&lt;12&amp;&amp;p==&quot;PM&quot;){return this.increment(&quot;hour&quot;,12);}}return this;},getAMPM:function(){return(this.get(&quot;hr&quot;)&lt;12)?&quot;AM&quot;:&quot;PM&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>},parse:function(p){this.set(&quot;time&quot;,i.parse(p));return this;},isValid:function(p){return !!(p||this).valueOf();},format:function(p){if(!this.isValid()){return&quot;invalid date&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>}p=p||&quot;%x %X&quot;;p=k[p.toLowerCase()]||p;var q=this;return p.replace(/%([a-z%])/gi,function(s,r){switch(r){case&quot;a&quot;:return i.getMsg(&quot;days&quot;)[q.get(&quot;day&quot;)].substr(0,3);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>case&quot;A&quot;:return i.getMsg(&quot;days&quot;)[q.get(&quot;day&quot;)];case&quot;b&quot;:return i.getMsg(&quot;months&quot;)[q.get(&quot;month&quot;)].substr(0,3);case&quot;B&quot;:return i.getMsg(&quot;months&quot;)[q.get(&quot;month&quot;)];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>case&quot;c&quot;:return q.toString();case&quot;d&quot;:return d(q.get(&quot;date&quot;),2);case&quot;H&quot;:return d(q.get(&quot;hr&quot;),2);case&quot;I&quot;:return((q.get(&quot;hr&quot;)%12)||12);case&quot;j&quot;:return d(q.get(&quot;dayofyear&quot;),3);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>case&quot;m&quot;:return d((q.get(&quot;mo&quot;)+1),2);case&quot;M&quot;:return d(q.get(&quot;min&quot;),2);case&quot;o&quot;:return q.get(&quot;ordinal&quot;);case&quot;p&quot;:return i.getMsg(q.get(&quot;ampm&quot;));case&quot;S&quot;:return d(q.get(&quot;seconds&quot;),2);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>case&quot;U&quot;:return d(q.get(&quot;week&quot;),2);case&quot;w&quot;:return q.get(&quot;day&quot;);case&quot;x&quot;:return q.format(i.getMsg(&quot;shortDate&quot;));case&quot;X&quot;:return q.format(i.getMsg(&quot;shortTime&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>case&quot;y&quot;:return q.get(&quot;year&quot;).toString().substr(2);case&quot;Y&quot;:return q.get(&quot;year&quot;);case&quot;T&quot;:return q.get(&quot;GMTOffset&quot;);case&quot;Z&quot;:return q.get(&quot;Timezone&quot;);}return r;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>});},toISOString:function(){return this.format(&quot;iso8601&quot;);}});i.alias(&quot;toISOString&quot;,&quot;toJSON&quot;);i.alias(&quot;diff&quot;,&quot;compare&quot;);i.alias(&quot;format&quot;,&quot;strftime&quot;);var k={db:&quot;%Y-%m-%d %H:%M:%S&quot;,compact:&quot;%Y%m%dT%H%M%S&quot;,iso8601:&quot;%Y-%m-%dT%H:%M:%S%T&quot;,rfc822:&quot;%a, %d %b %Y %H:%M:%S %Z&quot;,&quot;short&quot;:&quot;%d %b %H:%M&quot;,&quot;long&quot;:&quot;%B %d, %Y %H:%M&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>var g=[];var e=i.parse;var n=function(s,u,r){var q=-1;var t=i.getMsg(s+&quot;s&quot;);switch($type(u)){case&quot;object&quot;:q=t[u.get(s)];break;case&quot;number&quot;:q=t[month-1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>if(!q){throw new Error(&quot;Invalid &quot;+s+&quot; index: &quot;+index);}break;case&quot;string&quot;:var p=t.filter(function(v){return this.test(v);},new RegExp(&quot;^&quot;+u,&quot;i&quot;));if(!p.length){throw new Error(&quot;Invalid &quot;+s+&quot; string&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>}if(p.length&gt;1){throw new Error(&quot;Ambiguous &quot;+s);}q=p[0];}return(r)?t.indexOf(q):q;};i.extend({getMsg:function(q,p){return MooTools.lang.get(&quot;Date&quot;,q,p);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>},units:{ms:$lambda(1),second:$lambda(1000),minute:$lambda(60000),hour:$lambda(3600000),day:$lambda(86400000),week:$lambda(608400000),month:function(q,p){var r=new i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>return i.daysInMonth($pick(q,r.get(&quot;mo&quot;)),$pick(p,r.get(&quot;year&quot;)))*86400000;},year:function(p){p=p||new i().get(&quot;year&quot;);return i.isLeapYear(p)?31622400000:31536000000;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>}},daysInMonth:function(q,p){return[31,i.isLeapYear(p)?29:28,31,30,31,30,31,31,30,31,30,31][q];},isLeapYear:function(p){return((p%4===0)&amp;&amp;(p%100!==0))||(p%400===0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>},parse:function(r){var q=$type(r);if(q==&quot;number&quot;){return new i(r);}if(q!=&quot;string&quot;){return r;}r=r.clean();if(!r.length){return null;}var p;g.some(function(t){var s=t.re.exec(r);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>return(s)?(p=t.handler(s)):false;});return p||new i(e(r));},parseDay:function(p,q){return n(&quot;day&quot;,p,q);},parseMonth:function(q,p){return n(&quot;month&quot;,q,p);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>},parseUTC:function(q){var p=new i(q);var r=i.UTC(p.get(&quot;year&quot;),p.get(&quot;mo&quot;),p.get(&quot;date&quot;),p.get(&quot;hr&quot;),p.get(&quot;min&quot;),p.get(&quot;sec&quot;));return new i(r);},orderIndex:function(p){return i.getMsg(&quot;dateOrder&quot;).indexOf(p)+1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>},defineFormat:function(p,q){k[p]=q;},defineFormats:function(p){for(var q in p){i.defineFormat(q,p[q]);}},parsePatterns:g,defineParser:function(p){g.push((p.re&amp;&amp;p.handler)?p:l(p));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>},defineParsers:function(){Array.flatten(arguments).each(i.defineParser);},define2DigitYearStart:function(p){h=p%100;m=p-h;}});var m=1900;var h=70;var j=function(p){return new RegExp(&quot;(?:&quot;+i.getMsg(p).map(function(q){return q.substr(0,3);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>}).join(&quot;|&quot;)+&quot;)[a-z]*&quot;);};var a=function(p){switch(p){case&quot;x&quot;:return((i.orderIndex(&quot;month&quot;)==1)?&quot;%m[.-/]%d&quot;:&quot;%d[.-/]%m&quot;)+&quot;([.-/]%y)?&quot;;case&quot;X&quot;:return&quot;%H([.:]%M)?([.:]%S([.:]%s)?)? ?%p? ?%T?&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>}return null;};var o={d:/[0-2]?[0-9]|3[01]/,H:/[01]?[0-9]|2[0-3]/,I:/0?[1-9]|1[0-2]/,M:/[0-5]?\d/,s:/\d+/,o:/[a-z]*/,p:/[ap]\.?m\.?/,y:/\d{2}|\d{4}/,Y:/\d{4}/,T:/Z|[+-]\d{2}(?::?\d{2})?/};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>o.m=o.I;o.S=o.M;var c;var b=function(p){c=p;o.a=o.A=j(&quot;days&quot;);o.b=o.B=j(&quot;months&quot;);g.each(function(r,q){if(r.format){g[q]=l(r.format);}});};var l=function(r){if(!c){return{format:r};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>}var p=[];var q=(r.source||r).replace(/%([a-z])/gi,function(t,s){return a(s)||t;}).replace(/\((?!\?)/g,&quot;(?:&quot;).replace(/ (?!\?|\*)/g,&quot;,? &quot;).replace(/%([a-z%])/gi,function(t,s){var u=o[s];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>if(!u){return s;}p.push(s);return&quot;(&quot;+u.source+&quot;)&quot;;}).replace(/\[a-z\]/gi,&quot;[a-z\\u00c0-\\uffff]&quot;);return{format:r,re:new RegExp(&quot;^&quot;+q+&quot;$&quot;,&quot;i&quot;),handler:function(u){u=u.slice(1).associate(p);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>var s=new i().clearTime();if(&quot;d&quot; in u){f.call(s,&quot;d&quot;,1);}if(&quot;m&quot; in u){f.call(s,&quot;m&quot;,1);}for(var t in u){f.call(s,t,u[t]);}return s;}};};var f=function(p,q){if(!q){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>}switch(p){case&quot;a&quot;:case&quot;A&quot;:return this.set(&quot;day&quot;,i.parseDay(q,true));case&quot;b&quot;:case&quot;B&quot;:return this.set(&quot;mo&quot;,i.parseMonth(q,true));case&quot;d&quot;:return this.set(&quot;date&quot;,q);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>case&quot;H&quot;:case&quot;I&quot;:return this.set(&quot;hr&quot;,q);case&quot;m&quot;:return this.set(&quot;mo&quot;,q-1);case&quot;M&quot;:return this.set(&quot;min&quot;,q);case&quot;p&quot;:return this.set(&quot;ampm&quot;,q.replace(/\./g,&quot;&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>case&quot;S&quot;:return this.set(&quot;sec&quot;,q);case&quot;s&quot;:return this.set(&quot;ms&quot;,(&quot;0.&quot;+q)*1000);case&quot;w&quot;:return this.set(&quot;day&quot;,q);case&quot;Y&quot;:return this.set(&quot;year&quot;,q);case&quot;y&quot;:q=+q;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>if(q&lt;100){q+=m+(q&lt;h?100:0);}return this.set(&quot;year&quot;,q);case&quot;T&quot;:if(q==&quot;Z&quot;){q=&quot;+00&quot;;}var r=q.match(/([+-])(\d{2}):?(\d{2})?/);r=(r[1]+&quot;1&quot;)*(r[2]*60+(+r[3]||0))+this.getTimezoneOffset();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>return this.set(&quot;time&quot;,this-r*60000);}return this;};i.defineParsers(&quot;%Y([-./]%m([-./]%d((T| )%X)?)?)?&quot;,&quot;%Y%m%d(T%H(%M%S?)?)?&quot;,&quot;%x( %X)?&quot;,&quot;%d%o( %b( %Y)?)?( %X)?&quot;,&quot;%b( %d%o)?( %Y)?( %X)?&quot;,&quot;%Y %b( %d%o( %X)?)?&quot;,&quot;%o %b %d %X %T %Y&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>MooTools.lang.addEvent(&quot;langChange&quot;,function(p){if(MooTools.lang.get(&quot;Date&quot;)){b(p);}}).fireEvent(&quot;langChange&quot;,MooTools.lang.getCurrentLanguage());})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>Date.implement({timeDiffInWords:function(a){return Date.distanceOfTimeInWords(this,a||new Date);},timeDiff:function(g,b){if(g==null){g=new Date;}var f=((g-this)/1000).toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>if(!f){return&quot;0s&quot;;}var a={s:60,m:60,h:24,d:365,y:0};var e,d=[];for(var c in a){if(!f){break;}if((e=a[c])){d.unshift((f%e)+c);f=(f/e).toInt();}else{d.unshift(f+c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>}}return d.join(b||&quot;:&quot;);}});Date.alias(&quot;timeDiffInWords&quot;,&quot;timeAgoInWords&quot;);Date.extend({distanceOfTimeInWords:function(b,a){return Date.getTimePhrase(((a-b)/1000).toInt());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>},getTimePhrase:function(f){var d=(f&lt;0)?&quot;Until&quot;:&quot;Ago&quot;;if(f&lt;0){f*=-1;}var b={minute:60,hour:60,day:24,week:7,month:52/12,year:12,eon:Infinity};var e=&quot;lessThanMinute&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>for(var c in b){var a=b[c];if(f&lt;1.5*a){if(f&gt;0.75*a){e=c;}break;}f/=a;e=c+&quot;s&quot;;}return Date.getMsg(e+d).substitute({delta:f.round()});}});Date.defineParsers({re:/^(?:tod|tom|yes)/i,handler:function(a){var b=new Date().clearTime();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>switch(a[0]){case&quot;tom&quot;:return b.increment();case&quot;yes&quot;:return b.decrement();default:return b;}}},{re:/^(next|last) ([a-z]+)$/i,handler:function(e){var f=new Date().clearTime();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>var b=f.getDay();var c=Date.parseDay(e[2],true);var a=c-b;if(c&lt;=b){a+=7;}if(e[1]==&quot;last&quot;){a-=7;}return f.set(&quot;date&quot;,f.getDate()+a);}});Hash.implement({getFromPath:function(a){var b=this.getClean();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>a.replace(/\[([^\]]+)\]|\.([^.[]+)|[^[.]+/g,function(c){if(!b){return null;}var d=arguments[2]||arguments[1]||arguments[0];b=(d in b)?b[d]:null;return c;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>});return b;},cleanValues:function(a){a=a||$defined;this.each(function(c,b){if(!a(c)){this.erase(b);}},this);return this;},run:function(){var a=arguments;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>this.each(function(c,b){if($type(c)==&quot;function&quot;){c.run(a);}});}});(function(){var b=[&quot;À&quot;,&quot;à&quot;,&quot;Á&quot;,&quot;á&quot;,&quot;Â&quot;,&quot;â&quot;,&quot;Ã&quot;,&quot;ã&quot;,&quot;Ä&quot;,&quot;ä&quot;,&quot;Å&quot;,&quot;å&quot;,&quot;Ă&quot;,&quot;ă&quot;,&quot;Ą&quot;,&quot;ą&quot;,&quot;Ć&quot;,&quot;ć&quot;,&quot;Č&quot;,&quot;č&quot;,&quot;Ç&quot;,&quot;ç&quot;,&quot;Ď&quot;,&quot;ď&quot;,&quot;Đ&quot;,&quot;đ&quot;,&quot;È&quot;,&quot;è&quot;,&quot;É&quot;,&quot;é&quot;,&quot;Ê&quot;,&quot;ê&quot;,&quot;Ë&quot;,&quot;ë&quot;,&quot;Ě&quot;,&quot;ě&quot;,&quot;Ę&quot;,&quot;ę&quot;,&quot;Ğ&quot;,&quot;ğ&quot;,&quot;Ì&quot;,&quot;ì&quot;,&quot;Í&quot;,&quot;í&quot;,&quot;Î&quot;,&quot;î&quot;,&quot;Ï&quot;,&quot;ï&quot;,&quot;Ĺ&quot;,&quot;ĺ&quot;,&quot;Ľ&quot;,&quot;ľ&quot;,&quot;Ł&quot;,&quot;ł&quot;,&quot;Ñ&quot;,&quot;ñ&quot;,&quot;Ň&quot;,&quot;ň&quot;,&quot;Ń&quot;,&quot;ń&quot;,&quot;Ò&quot;,&quot;ò&quot;,&quot;Ó&quot;,&quot;ó&quot;,&quot;Ô&quot;,&quot;ô&quot;,&quot;Õ&quot;,&quot;õ&quot;,&quot;Ö&quot;,&quot;ö&quot;,&quot;Ø&quot;,&quot;ø&quot;,&quot;ő&quot;,&quot;Ř&quot;,&quot;ř&quot;,&quot;Ŕ&quot;,&quot;ŕ&quot;,&quot;Š&quot;,&quot;š&quot;,&quot;Ş&quot;,&quot;ş&quot;,&quot;Ś&quot;,&quot;ś&quot;,&quot;Ť&quot;,&quot;ť&quot;,&quot;Ť&quot;,&quot;ť&quot;,&quot;Ţ&quot;,&quot;ţ&quot;,&quot;Ù&quot;,&quot;ù&quot;,&quot;Ú&quot;,&quot;ú&quot;,&quot;Û&quot;,&quot;û&quot;,&quot;Ü&quot;,&quot;ü&quot;,&quot;Ů&quot;,&quot;ů&quot;,&quot;Ÿ&quot;,&quot;ÿ&quot;,&quot;ý&quot;,&quot;Ý&quot;,&quot;Ž&quot;,&quot;ž&quot;,&quot;Ź&quot;,&quot;ź&quot;,&quot;Ż&quot;,&quot;ż&quot;,&quot;Þ&quot;,&quot;þ&quot;,&quot;Ð&quot;,&quot;ð&quot;,&quot;ß&quot;,&quot;Œ&quot;,&quot;œ&quot;,&quot;Æ&quot;,&quot;æ&quot;,&quot;µ&quot;];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>var a=[&quot;A&quot;,&quot;a&quot;,&quot;A&quot;,&quot;a&quot;,&quot;A&quot;,&quot;a&quot;,&quot;A&quot;,&quot;a&quot;,&quot;Ae&quot;,&quot;ae&quot;,&quot;A&quot;,&quot;a&quot;,&quot;A&quot;,&quot;a&quot;,&quot;A&quot;,&quot;a&quot;,&quot;C&quot;,&quot;c&quot;,&quot;C&quot;,&quot;c&quot;,&quot;C&quot;,&quot;c&quot;,&quot;D&quot;,&quot;d&quot;,&quot;D&quot;,&quot;d&quot;,&quot;E&quot;,&quot;e&quot;,&quot;E&quot;,&quot;e&quot;,&quot;E&quot;,&quot;e&quot;,&quot;E&quot;,&quot;e&quot;,&quot;E&quot;,&quot;e&quot;,&quot;E&quot;,&quot;e&quot;,&quot;G&quot;,&quot;g&quot;,&quot;I&quot;,&quot;i&quot;,&quot;I&quot;,&quot;i&quot;,&quot;I&quot;,&quot;i&quot;,&quot;I&quot;,&quot;i&quot;,&quot;L&quot;,&quot;l&quot;,&quot;L&quot;,&quot;l&quot;,&quot;L&quot;,&quot;l&quot;,&quot;N&quot;,&quot;n&quot;,&quot;N&quot;,&quot;n&quot;,&quot;N&quot;,&quot;n&quot;,&quot;O&quot;,&quot;o&quot;,&quot;O&quot;,&quot;o&quot;,&quot;O&quot;,&quot;o&quot;,&quot;O&quot;,&quot;o&quot;,&quot;Oe&quot;,&quot;oe&quot;,&quot;O&quot;,&quot;o&quot;,&quot;o&quot;,&quot;R&quot;,&quot;r&quot;,&quot;R&quot;,&quot;r&quot;,&quot;S&quot;,&quot;s&quot;,&quot;S&quot;,&quot;s&quot;,&quot;S&quot;,&quot;s&quot;,&quot;T&quot;,&quot;t&quot;,&quot;T&quot;,&quot;t&quot;,&quot;T&quot;,&quot;t&quot;,&quot;U&quot;,&quot;u&quot;,&quot;U&quot;,&quot;u&quot;,&quot;U&quot;,&quot;u&quot;,&quot;Ue&quot;,&quot;ue&quot;,&quot;U&quot;,&quot;u&quot;,&quot;Y&quot;,&quot;y&quot;,&quot;Y&quot;,&quot;y&quot;,&quot;Z&quot;,&quot;z&quot;,&quot;Z&quot;,&quot;z&quot;,&quot;Z&quot;,&quot;z&quot;,&quot;TH&quot;,&quot;th&quot;,&quot;DH&quot;,&quot;dh&quot;,&quot;ss&quot;,&quot;OE&quot;,&quot;oe&quot;,&quot;AE&quot;,&quot;ae&quot;,&quot;u&quot;];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>var d={&quot;[\xa0\u2002\u2003\u2009]&quot;:&quot; &quot;,&quot;\xb7&quot;:&quot;*&quot;,&quot;[\u2018\u2019]&quot;:&quot;'&quot;,&quot;[\u201c\u201d]&quot;:'&quot;',&quot;\u2026&quot;:&quot;...&quot;,&quot;\u2013&quot;:&quot;-&quot;,&quot;\u2014&quot;:&quot;--&quot;,&quot;\uFFFD&quot;:&quot;&amp;raquo;&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>var c=function(e,f){e=e||&quot;&quot;;var g=f?&quot;&lt;&quot;+e+&quot;[^&gt;]*&gt;([\\s\\S]*?)&lt;/&quot;+e+&quot;&gt;&quot;:&quot;&lt;/?&quot;+e+&quot;([^&gt;]+)?&gt;&quot;;reg=new RegExp(g,&quot;gi&quot;);return reg;};String.implement({standardize:function(){var e=this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>b.each(function(g,f){e=e.replace(new RegExp(g,&quot;g&quot;),a[f]);});return e;},repeat:function(e){return new Array(e+1).join(this);},pad:function(f,h,e){if(this.length&gt;=f){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>}var g=(h==null?&quot; &quot;:&quot;&quot;+h).repeat(f-this.length).substr(0,f-this.length);if(!e||e==&quot;right&quot;){return this+g;}if(e==&quot;left&quot;){return g+this;}return g.substr(0,(g.length/2).floor())+this+g.substr(0,(g.length/2).ceil());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>},getTags:function(e,f){return this.match(c(e,f))||[];},stripTags:function(e,f){return this.replace(c(e,f),&quot;&quot;);},tidy:function(){var e=this.toString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>$each(d,function(g,f){e=e.replace(new RegExp(f,&quot;g&quot;),g);});return e;}});})();String.implement({parseQueryString:function(){var b=this.split(/[&amp;;]/),a={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>if(b.length){b.each(function(g){var c=g.indexOf(&quot;=&quot;),d=c&lt;0?[&quot;&quot;]:g.substr(0,c).match(/[^\]\[]+/g),e=decodeURIComponent(g.substr(c+1)),f=a;d.each(function(j,h){var k=f[j];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>if(h&lt;d.length-1){f=f[j]=k||{};}else{if($type(k)==&quot;array&quot;){k.push(e);}else{f[j]=$defined(k)?[k,e]:e;}}});});}return a;},cleanQueryString:function(a){return this.split(&quot;&amp;&quot;).filter(function(e){var b=e.indexOf(&quot;=&quot;),c=b&lt;0?&quot;&quot;:e.substr(0,b),d=e.substr(b+1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>return a?a.run([c,d]):$chk(d);}).join(&quot;&amp;&quot;);}});var URI=new Class({Implements:Options,options:{},regex:/^(?:(\w+):)?(?:\/\/(?:(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)?(\.\.?$|(?:[^?#\/]*\/)*)([^?#]*)(?:\?([^#]*))?(?:#(.*))?/,parts:[&quot;scheme&quot;,&quot;user&quot;,&quot;password&quot;,&quot;host&quot;,&quot;port&quot;,&quot;directory&quot;,&quot;file&quot;,&quot;query&quot;,&quot;fragment&quot;],schemes:{http:80,https:443,ftp:21,rtsp:554,mms:1755,file:0},initialize:function(b,a){this.setOptions(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>var c=this.options.base||URI.base;if(!b){b=c;}if(b&amp;&amp;b.parsed){this.parsed=$unlink(b.parsed);}else{this.set(&quot;value&quot;,b.href||b.toString(),c?new URI(c):false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>}},parse:function(c,b){var a=c.match(this.regex);if(!a){return false;}a.shift();return this.merge(a.associate(this.parts),b);},merge:function(b,a){if((!b||!b.scheme)&amp;&amp;(!a||!a.scheme)){return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>}if(a){this.parts.every(function(c){if(b[c]){return false;}b[c]=a[c]||&quot;&quot;;return true;});}b.port=b.port||this.schemes[b.scheme.toLowerCase()];b.directory=b.directory?this.parseDirectory(b.directory,a?a.directory:&quot;&quot;):&quot;/&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>return b;},parseDirectory:function(b,c){b=(b.substr(0,1)==&quot;/&quot;?&quot;&quot;:(c||&quot;/&quot;))+b;if(!b.test(URI.regs.directoryDot)){return b;}var a=[];b.replace(URI.regs.endSlash,&quot;&quot;).split(&quot;/&quot;).each(function(d){if(d==&quot;..&quot;&amp;&amp;a.length&gt;0){a.pop();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>}else{if(d!=&quot;.&quot;){a.push(d);}}});return a.join(&quot;/&quot;)+&quot;/&quot;;},combine:function(a){return a.value||a.scheme+&quot;://&quot;+(a.user?a.user+(a.password?&quot;:&quot;+a.password:&quot;&quot;)+&quot;@&quot;:&quot;&quot;)+(a.host||&quot;&quot;)+(a.port&amp;&amp;a.port!=this.schemes[a.scheme]?&quot;:&quot;+a.port:&quot;&quot;)+(a.directory||&quot;/&quot;)+(a.file||&quot;&quot;)+(a.query?&quot;?&quot;+a.query:&quot;&quot;)+(a.fragment?&quot;#&quot;+a.fragment:&quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>},set:function(b,d,c){if(b==&quot;value&quot;){var a=d.match(URI.regs.scheme);if(a){a=a[1];}if(a&amp;&amp;!$defined(this.schemes[a.toLowerCase()])){this.parsed={scheme:a,value:d};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>}else{this.parsed=this.parse(d,(c||this).parsed)||(a?{scheme:a,value:d}:{value:d});}}else{if(b==&quot;data&quot;){this.setData(d);}else{this.parsed[b]=d;}}return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>},get:function(a,b){switch(a){case&quot;value&quot;:return this.combine(this.parsed,b?b.parsed:false);case&quot;data&quot;:return this.getData();}return this.parsed[a]||&quot;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>},go:function(){document.location.href=this.toString();},toURI:function(){return this;},getData:function(c,b){var a=this.get(b||&quot;query&quot;);if(!$chk(a)){return c?null:{};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>}var d=a.parseQueryString();return c?d[c]:d;},setData:function(a,c,b){if(typeof a==&quot;string&quot;){a=this.getData();a[arguments[0]]=arguments[1];}else{if(c){a=$merge(this.getData(),a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>}}return this.set(b||&quot;query&quot;,Hash.toQueryString(a));},clearData:function(a){return this.set(a||&quot;query&quot;,&quot;&quot;);}});URI.prototype.toString=URI.prototype.valueOf=function(){return this.get(&quot;value&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>};URI.regs={endSlash:/\/$/,scheme:/^(\w+):/,directoryDot:/\.\/|\.$/};URI.base=new URI(document.getElements(&quot;base[href]&quot;,true).getLast(),{base:document.location});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>String.implement({toURI:function(a){return new URI(this,a);}});URI=Class.refactor(URI,{combine:function(f,e){if(!e||f.scheme!=e.scheme||f.host!=e.host||f.port!=e.port){return this.previous.apply(this,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>}var a=f.file+(f.query?&quot;?&quot;+f.query:&quot;&quot;)+(f.fragment?&quot;#&quot;+f.fragment:&quot;&quot;);if(!e.directory){return(f.directory||(f.file?&quot;&quot;:&quot;./&quot;))+a;}var d=e.directory.split(&quot;/&quot;),c=f.directory.split(&quot;/&quot;),g=&quot;&quot;,h;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>var b=0;for(h=0;h&lt;d.length&amp;&amp;h&lt;c.length&amp;&amp;d[h]==c[h];h++){}for(b=0;b&lt;d.length-h-1;b++){g+=&quot;../&quot;;}for(b=h;b&lt;c.length-1;b++){g+=c[b]+&quot;/&quot;;}return(g||(f.file?&quot;&quot;:&quot;./&quot;))+a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>},toAbsolute:function(a){a=new URI(a);if(a){a.set(&quot;directory&quot;,&quot;&quot;).set(&quot;file&quot;,&quot;&quot;);}return this.toRelative(a);},toRelative:function(a){return this.get(&quot;value&quot;,new URI(a));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>}});Element.implement({tidy:function(){this.set(&quot;value&quot;,this.get(&quot;value&quot;).tidy());},getTextInRange:function(b,a){return this.get(&quot;value&quot;).substring(b,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>},getSelectedText:function(){if(this.setSelectionRange){return this.getTextInRange(this.getSelectionStart(),this.getSelectionEnd());}return document.selection.createRange().text;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>},getSelectedRange:function(){if($defined(this.selectionStart)){return{start:this.selectionStart,end:this.selectionEnd};}var e={start:0,end:0};var a=this.getDocument().selection.createRange();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>if(!a||a.parentElement()!=this){return e;}var c=a.duplicate();if(this.type==&quot;text&quot;){e.start=0-c.moveStart(&quot;character&quot;,-100000);e.end=e.start+a.text.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>}else{var b=this.get(&quot;value&quot;);var d=b.length;c.moveToElementText(this);c.setEndPoint(&quot;StartToEnd&quot;,a);if(c.text.length){d-=b.match(/[\n\r]*$/)[0].length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>}e.end=d-c.text.length;c.setEndPoint(&quot;StartToStart&quot;,a);e.start=d-c.text.length;}return e;},getSelectionStart:function(){return this.getSelectedRange().start;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>},getSelectionEnd:function(){return this.getSelectedRange().end;},setCaretPosition:function(a){if(a==&quot;end&quot;){a=this.get(&quot;value&quot;).length;}this.selectRange(a,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>return this;},getCaretPosition:function(){return this.getSelectedRange().start;},selectRange:function(e,a){if(this.setSelectionRange){this.focus();this.setSelectionRange(e,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>}else{var c=this.get(&quot;value&quot;);var d=c.substr(e,a-e).replace(/\r/g,&quot;&quot;).length;e=c.substr(0,e).replace(/\r/g,&quot;&quot;).length;var b=this.createTextRange();b.collapse(true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>b.moveEnd(&quot;character&quot;,e+d);b.moveStart(&quot;character&quot;,e);b.select();}return this;},insertAtCursor:function(b,a){var d=this.getSelectedRange();var c=this.get(&quot;value&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>this.set(&quot;value&quot;,c.substring(0,d.start)+b+c.substring(d.end,c.length));if($pick(a,true)){this.selectRange(d.start,d.start+b.length);}else{this.setCaretPosition(d.start+b.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>}return this;},insertAroundCursor:function(b,a){b=$extend({before:&quot;&quot;,defaultMiddle:&quot;&quot;,after:&quot;&quot;},b);var c=this.getSelectedText()||b.defaultMiddle;var g=this.getSelectedRange();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>var f=this.get(&quot;value&quot;);if(g.start==g.end){this.set(&quot;value&quot;,f.substring(0,g.start)+b.before+c+b.after+f.substring(g.end,f.length));this.selectRange(g.start+b.before.length,g.end+b.before.length+c.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>}else{var d=f.substring(g.start,g.end);this.set(&quot;value&quot;,f.substring(0,g.start)+b.before+d+b.after+f.substring(g.end,f.length));var e=g.start+b.before.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>if($pick(a,true)){this.selectRange(e,e+d.length);}else{this.setCaretPosition(e+f.length);}}return this;}});Elements.from=function(e,d){if($pick(d,true)){e=e.stripScripts();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>}var b,c=e.match(/^\s*&lt;(t[dhr]|tbody|tfoot|thead)/i);if(c){b=new Element(&quot;table&quot;);var a=c[1].toLowerCase();if([&quot;td&quot;,&quot;th&quot;,&quot;tr&quot;].contains(a)){b=new Element(&quot;tbody&quot;).inject(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>if(a!=&quot;tr&quot;){b=new Element(&quot;tr&quot;).inject(b);}}}return(b||new Element(&quot;div&quot;)).set(&quot;html&quot;,e).getChildren();};(function(){var d=/(.*?):relay\(([^)]+)\)$/,c=/[+&gt;~\s]/,f=function(g){var h=g.match(d);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>return !h?{event:g}:{event:h[1],selector:h[2]};},b=function(m,g){var k=m.target;if(c.test(g=g.trim())){var j=this.getElements(g);for(var h=j.length;h--;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>){var l=j[h];if(k==l||l.hasChild(k)){return l;}}}else{for(;k&amp;&amp;k!=this;k=k.parentNode){if(Element.match(k,g)){return document.id(k);}}}return null;};var a=Element.prototype.addEvent,e=Element.prototype.removeEvent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>Element.implement({addEvent:function(j,i){var k=f(j);if(k.selector){var h=this.retrieve(&quot;$moo:delegateMonitors&quot;,{});if(!h[j]){var g=function(m){var l=b.call(this,m,k.selector);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>if(l){this.fireEvent(j,[m,l],0,l);}}.bind(this);h[j]=g;a.call(this,k.event,g);}}return a.apply(this,arguments);},removeEvent:function(j,i){var k=f(j);if(k.selector){var h=this.retrieve(&quot;events&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>if(!h||!h[j]||(i&amp;&amp;!h[j].keys.contains(i))){return this;}if(i){e.apply(this,[j,i]);}else{e.apply(this,j);}h=this.retrieve(&quot;events&quot;);if(h&amp;&amp;h[j]&amp;&amp;h[j].length==0){var g=this.retrieve(&quot;$moo:delegateMonitors&quot;,{});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>e.apply(this,[k.event,g[j]]);delete g[j];}return this;}return e.apply(this,arguments);},fireEvent:function(j,h,g,k){var i=this.retrieve(&quot;events&quot;);if(!i||!i[j]){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>}i[j].keys.each(function(l){l.create({bind:k||this,delay:g,arguments:h})();},this);return this;}});})();Element.implement({measure:function(e){var g=function(h){return !!(!h||h.offsetHeight||h.offsetWidth);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>};if(g(this)){return e.apply(this);}var d=this.getParent(),f=[],b=[];while(!g(d)&amp;&amp;d!=document.body){b.push(d.expose());d=d.getParent();}var c=this.expose();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>var a=e.apply(this);c();b.each(function(h){h();});return a;},expose:function(){if(this.getStyle(&quot;display&quot;)!=&quot;none&quot;){return $empty;}var a=this.style.cssText;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>this.setStyles({display:&quot;block&quot;,position:&quot;absolute&quot;,visibility:&quot;hidden&quot;});return function(){this.style.cssText=a;}.bind(this);},getDimensions:function(a){a=$merge({computeSize:false},a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>var f={};var d=function(g,e){return(e.computeSize)?g.getComputedSize(e):g.getSize();};var b=this.getParent(&quot;body&quot;);if(b&amp;&amp;this.getStyle(&quot;display&quot;)==&quot;none&quot;){f=this.measure(function(){return d(this,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>});}else{if(b){try{f=d(this,a);}catch(c){}}else{f={x:0,y:0};}}return $chk(f.x)?$extend(f,{width:f.x,height:f.y}):$extend(f,{x:f.width,y:f.height});},getComputedSize:function(a){a=$merge({styles:[&quot;padding&quot;,&quot;border&quot;],plains:{height:[&quot;top&quot;,&quot;bottom&quot;],width:[&quot;left&quot;,&quot;right&quot;]},mode:&quot;both&quot;},a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>var c={width:0,height:0};switch(a.mode){case&quot;vertical&quot;:delete c.width;delete a.plains.width;break;case&quot;horizontal&quot;:delete c.height;delete a.plains.height;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>break;}var b=[];$each(a.plains,function(g,f){g.each(function(h){a.styles.each(function(i){b.push((i==&quot;border&quot;)?i+&quot;-&quot;+h+&quot;-width&quot;:i+&quot;-&quot;+h);});});});var e={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>b.each(function(f){e[f]=this.getComputedStyle(f);},this);var d=[];$each(a.plains,function(g,f){var h=f.capitalize();c[&quot;total&quot;+h]=c[&quot;computed&quot;+h]=0;g.each(function(i){c[&quot;computed&quot;+i.capitalize()]=0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>b.each(function(k,j){if(k.test(i)){e[k]=e[k].toInt()||0;c[&quot;total&quot;+h]=c[&quot;total&quot;+h]+e[k];c[&quot;computed&quot;+i.capitalize()]=c[&quot;computed&quot;+i.capitalize()]+e[k];}if(k.test(i)&amp;&amp;f!=k&amp;&amp;(k.test(&quot;border&quot;)||k.test(&quot;padding&quot;))&amp;&amp;!d.contains(k)){d.push(k);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>c[&quot;computed&quot;+h]=c[&quot;computed&quot;+h]-e[k];}});});});[&quot;Width&quot;,&quot;Height&quot;].each(function(g){var f=g.toLowerCase();if(!$chk(c[f])){return;}c[f]=c[f]+this[&quot;offset&quot;+g]+c[&quot;computed&quot;+g];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>c[&quot;total&quot;+g]=c[f]+c[&quot;total&quot;+g];delete c[&quot;computed&quot;+g];},this);return $extend(e,c);}});(function(){var a=false;window.addEvent(&quot;domready&quot;,function(){var b=new Element(&quot;div&quot;).setStyles({position:&quot;fixed&quot;,top:0,right:0}).inject(document.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>a=(b.offsetTop===0);b.dispose();});Element.implement({pin:function(d){if(this.getStyle(&quot;display&quot;)==&quot;none&quot;){return null;}var f,b=window.getScroll();if(d!==false){f=this.getPosition();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>if(!this.retrieve(&quot;pinned&quot;)){var h={top:f.y-b.y,left:f.x-b.x};if(a){this.setStyle(&quot;position&quot;,&quot;fixed&quot;).setStyles(h);}else{this.store(&quot;pinnedByJS&quot;,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>this.setStyles({position:&quot;absolute&quot;,top:f.y,left:f.x}).addClass(&quot;isPinned&quot;);this.store(&quot;scrollFixer&quot;,(function(){if(this.retrieve(&quot;pinned&quot;)){var i=window.getScroll();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>}this.setStyles({top:h.top.toInt()+i.y,left:h.left.toInt()+i.x});}).bind(this));window.addEvent(&quot;scroll&quot;,this.retrieve(&quot;scrollFixer&quot;));}this.store(&quot;pinned&quot;,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>}}else{var g;if(!Browser.Engine.trident){var e=this.getParent();g=(e.getComputedStyle(&quot;position&quot;)!=&quot;static&quot;?e:e.getOffsetParent());}f=this.getPosition(g);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>this.store(&quot;pinned&quot;,false);var c;if(a&amp;&amp;!this.retrieve(&quot;pinnedByJS&quot;)){c={top:f.y+b.y,left:f.x+b.x};}else{this.store(&quot;pinnedByJS&quot;,false);window.removeEvent(&quot;scroll&quot;,this.retrieve(&quot;scrollFixer&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>c={top:f.y,left:f.x};}this.setStyles($merge(c,{position:&quot;absolute&quot;})).removeClass(&quot;isPinned&quot;);}return this;},unpin:function(){return this.pin(false);},togglepin:function(){this.pin(!this.retrieve(&quot;pinned&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>}});})();(function(){var a=Element.prototype.position;Element.implement({position:function(h){if(h&amp;&amp;($defined(h.x)||$defined(h.y))){return a?a.apply(this,arguments):this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>}$each(h||{},function(w,u){if(!$defined(w)){delete h[u];}});h=$merge({relativeTo:document.body,position:{x:&quot;center&quot;,y:&quot;center&quot;},edge:false,offset:{x:0,y:0},returnPos:false,relFixedPosition:false,ignoreMargins:false,ignoreScroll:false,allowNegative:false},h);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>var s={x:0,y:0},f=false;var c=this.measure(function(){return document.id(this.getOffsetParent());});if(c&amp;&amp;c!=this.getDocument().body){s=c.measure(function(){return this.getPosition();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>});f=c!=document.id(h.relativeTo);h.offset.x=h.offset.x-s.x;h.offset.y=h.offset.y-s.y;}var t=function(u){if($type(u)!=&quot;string&quot;){return u;}u=u.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>var v={};if(u.test(&quot;left&quot;)){v.x=&quot;left&quot;;}else{if(u.test(&quot;right&quot;)){v.x=&quot;right&quot;;}else{v.x=&quot;center&quot;;}}if(u.test(&quot;upper&quot;)||u.test(&quot;top&quot;)){v.y=&quot;top&quot;;}else{if(u.test(&quot;bottom&quot;)){v.y=&quot;bottom&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>}else{v.y=&quot;center&quot;;}}return v;};h.edge=t(h.edge);h.position=t(h.position);if(!h.edge){if(h.position.x==&quot;center&quot;&amp;&amp;h.position.y==&quot;center&quot;){h.edge={x:&quot;center&quot;,y:&quot;center&quot;};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>}else{h.edge={x:&quot;left&quot;,y:&quot;top&quot;};}}this.setStyle(&quot;position&quot;,&quot;absolute&quot;);var g=document.id(h.relativeTo)||document.body,d=g==document.body?window.getScroll():g.getPosition(),n=d.y,i=d.x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>var e=g.getScrolls();n+=e.y;i+=e.x;var o=this.getDimensions({computeSize:true,styles:[&quot;padding&quot;,&quot;border&quot;,&quot;margin&quot;]});var k={},p=h.offset.y,r=h.offset.x,l=window.getSize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>switch(h.position.x){case&quot;left&quot;:k.x=i+r;break;case&quot;right&quot;:k.x=i+r+g.offsetWidth;break;default:k.x=i+((g==document.body?l.x:g.offsetWidth)/2)+r;break;}switch(h.position.y){case&quot;top&quot;:k.y=n+p;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>break;case&quot;bottom&quot;:k.y=n+p+g.offsetHeight;break;default:k.y=n+((g==document.body?l.y:g.offsetHeight)/2)+p;break;}if(h.edge){var b={};switch(h.edge.x){case&quot;left&quot;:b.x=0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>break;case&quot;right&quot;:b.x=-o.x-o.computedRight-o.computedLeft;break;default:b.x=-(o.totalWidth/2);break;}switch(h.edge.y){case&quot;top&quot;:b.y=0;break;case&quot;bottom&quot;:b.y=-o.y-o.computedTop-o.computedBottom;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>break;default:b.y=-(o.totalHeight/2);break;}k.x+=b.x;k.y+=b.y;}k={left:((k.x&gt;=0||f||h.allowNegative)?k.x:0).toInt(),top:((k.y&gt;=0||f||h.allowNegative)?k.y:0).toInt()};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>var j={left:&quot;x&quot;,top:&quot;y&quot;};[&quot;minimum&quot;,&quot;maximum&quot;].each(function(u){[&quot;left&quot;,&quot;top&quot;].each(function(v){var w=h[u]?h[u][j[v]]:null;if(w!=null&amp;&amp;k[v]&lt;w){k[v]=w;}});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>});if(g.getStyle(&quot;position&quot;)==&quot;fixed&quot;||h.relFixedPosition){var m=window.getScroll();k.top+=m.y;k.left+=m.x;}if(h.ignoreScroll){var q=g.getScroll();k.top-=q.y;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>k.left-=q.x;}if(h.ignoreMargins){k.left+=(h.edge.x==&quot;right&quot;?o[&quot;margin-right&quot;]:h.edge.x==&quot;center&quot;?-o[&quot;margin-left&quot;]+((o[&quot;margin-right&quot;]+o[&quot;margin-left&quot;])/2):-o[&quot;margin-left&quot;]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>k.top+=(h.edge.y==&quot;bottom&quot;?o[&quot;margin-bottom&quot;]:h.edge.y==&quot;center&quot;?-o[&quot;margin-top&quot;]+((o[&quot;margin-bottom&quot;]+o[&quot;margin-top&quot;])/2):-o[&quot;margin-top&quot;]);}k.left=Math.ceil(k.left);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>k.top=Math.ceil(k.top);if(h.returnPos){return k;}else{this.setStyles(k);}return this;}});})();Element.implement({isDisplayed:function(){return this.getStyle(&quot;display&quot;)!=&quot;none&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>},isVisible:function(){var a=this.offsetWidth,b=this.offsetHeight;return(a==0&amp;&amp;b==0)?false:(a&gt;0&amp;&amp;b&gt;0)?true:this.isDisplayed();},toggle:function(){return this[this.isDisplayed()?&quot;hide&quot;:&quot;show&quot;]();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>},hide:function(){var b;try{if((b=this.getStyle(&quot;display&quot;))==&quot;none&quot;){b=null;}}catch(a){}return this.store(&quot;originalDisplay&quot;,b||&quot;block&quot;).setStyle(&quot;display&quot;,&quot;none&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>},show:function(a){return this.setStyle(&quot;display&quot;,a||this.retrieve(&quot;originalDisplay&quot;)||&quot;block&quot;);},swapClass:function(a,b){return this.removeClass(a).addClass(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>}});if(!window.Form){window.Form={};}(function(){Form.Request=new Class({Binds:[&quot;onSubmit&quot;,&quot;onFormValidate&quot;],Implements:[Options,Events,Class.Occlude],options:{requestOptions:{evalScripts:true,useSpinner:true,emulation:false,link:&quot;ignore&quot;},extraData:{},resetForm:true},property:&quot;form.request&quot;,initialize:function(b,c,a){this.element=document.id(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>if(this.occlude()){return this.occluded;}this.update=document.id(c);this.setOptions(a);this.makeRequest();if(this.options.resetForm){this.request.addEvent(&quot;success&quot;,function(){$try(function(){this.element.reset();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>}.bind(this));if(window.OverText){OverText.update();}}.bind(this));}this.attach();},toElement:function(){return this.element;},makeRequest:function(){this.request=new Request.HTML($merge({url:this.element.get(&quot;action&quot;),update:this.update,emulation:false,spinnerTarget:this.element,method:this.element.get(&quot;method&quot;)||&quot;post&quot;},this.options.requestOptions)).addEvents({success:function(b,a){[&quot;success&quot;,&quot;complete&quot;].each(function(c){this.fireEvent(c,[this.update,b,a]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>},this);}.bind(this),failure:function(a){this.fireEvent(&quot;failure&quot;,a);}.bind(this),exception:function(){this.fireEvent(&quot;failure&quot;,xhr);}.bind(this)});},attach:function(a){a=$pick(a,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>method=a?&quot;addEvent&quot;:&quot;removeEvent&quot;;var b=this.element.retrieve(&quot;validator&quot;);if(b){b[method](&quot;onFormValidate&quot;,this.onFormValidate);}if(!b||!a){this.element[method](&quot;submit&quot;,this.onSubmit);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>}},detach:function(){this.attach(false);},enable:function(){this.attach();},disable:function(){this.detach();},onFormValidate:function(b,a,c){if(b||!fv.options.stopOnFailure){if(c&amp;&amp;c.stop){c.stop();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>}this.send();}},onSubmit:function(a){if(this.element.retrieve(&quot;validator&quot;)){this.detach();this.addFormEvent();return;}a.stop();this.send();},send:function(){var b=this.element.toQueryString().trim();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>var a=$H(this.options.extraData).toQueryString();if(b){b+=&quot;&amp;&quot;+a;}else{b=a;}this.fireEvent(&quot;send&quot;,[this.element,b]);this.request.send({data:b});return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>}});Element.Properties.formRequest={set:function(){var a=Array.link(arguments,{options:Object.type,update:Element.type,updateId:String.type});var c=a.update||a.updateId;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>var b=this.retrieve(&quot;form.request&quot;);if(c){if(b){b.update=document.id(c);}this.store(&quot;form.request:update&quot;,c);}if(a.options){if(b){b.setOptions(a.options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>}this.store(&quot;form.request:options&quot;,a.options);}return this;},get:function(){var a=Array.link(arguments,{options:Object.type,update:Element.type,updateId:String.type});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>var b=a.update||a.updateId;if(a.options||b||!this.retrieve(&quot;form.request&quot;)){if(a.options||!this.retrieve(&quot;form.request:options&quot;)){this.set(&quot;form.request&quot;,a.options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>}if(b){this.set(&quot;form.request&quot;,b);}this.store(&quot;form.request&quot;,new Form.Request(this,this.retrieve(&quot;form.request:update&quot;),this.retrieve(&quot;form.request:options&quot;)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>}return this.retrieve(&quot;form.request&quot;);}};Element.implement({formUpdate:function(b,a){this.get(&quot;form.request&quot;,b,a).send();return this;}});})();Form.Request.Append=new Class({Extends:Form.Request,options:{useReveal:true,revealOptions:{},inject:&quot;bottom&quot;},makeRequest:function(){this.request=new Request.HTML($merge({url:this.element.get(&quot;action&quot;),method:this.element.get(&quot;method&quot;)||&quot;post&quot;,spinnerTarget:this.element},this.options.requestOptions,{evalScripts:false})).addEvents({success:function(b,g,f,a){var c;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>var d=Elements.from(f);if(d.length==1){c=d[0];}else{c=new Element(&quot;div&quot;,{styles:{display:&quot;none&quot;}}).adopt(d);}c.inject(this.update,this.options.inject);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>if(this.options.requestOptions.evalScripts){$exec(a);}this.fireEvent(&quot;beforeEffect&quot;,c);var e=function(){this.fireEvent(&quot;success&quot;,[c,this.update,b,g,f,a]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>}.bind(this);if(this.options.useReveal){c.get(&quot;reveal&quot;,this.options.revealOptions).chain(e);c.reveal();}else{e();}}.bind(this),failure:function(a){this.fireEvent(&quot;failure&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>}.bind(this)});}});if(!window.Form){window.Form={};}var InputValidator=new Class({Implements:[Options],options:{errorMsg:&quot;Validation failed.&quot;,test:function(a){return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>}},initialize:function(b,a){this.setOptions(a);this.className=b;},test:function(b,a){if(document.id(b)){return this.options.test(document.id(b),a||this.getProps(b));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>}else{return false;}},getError:function(c,a){var b=this.options.errorMsg;if($type(b)==&quot;function&quot;){b=b(document.id(c),a||this.getProps(c));}return b;},getProps:function(a){if(!document.id(a)){return{};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>}return a.get(&quot;validatorProps&quot;);}});Element.Properties.validatorProps={set:function(a){return this.eliminate(&quot;validatorProps&quot;).store(&quot;validatorProps&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>},get:function(a){if(a){this.set(a);}if(this.retrieve(&quot;validatorProps&quot;)){return this.retrieve(&quot;validatorProps&quot;);}if(this.getProperty(&quot;validatorProps&quot;)){try{this.store(&quot;validatorProps&quot;,JSON.decode(this.getProperty(&quot;validatorProps&quot;)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>}catch(c){return{};}}else{var b=this.get(&quot;class&quot;).split(&quot; &quot;).filter(function(d){return d.test(&quot;:&quot;);});if(!b.length){this.store(&quot;validatorProps&quot;,{});}else{a={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>b.each(function(d){var f=d.split(&quot;:&quot;);if(f[1]){try{a[f[0]]=JSON.decode(f[1]);}catch(g){}}});this.store(&quot;validatorProps&quot;,a);}}return this.retrieve(&quot;validatorProps&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>}};Form.Validator=new Class({Implements:[Options,Events],Binds:[&quot;onSubmit&quot;],options:{fieldSelectors:&quot;input, select, textarea&quot;,ignoreHidden:true,ignoreDisabled:true,useTitles:false,evaluateOnSubmit:true,evaluateFieldsOnBlur:true,evaluateFieldsOnChange:true,serial:true,stopOnFailure:true,warningPrefix:function(){return Form.Validator.getMsg(&quot;warningPrefix&quot;)||&quot;Warning: &quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>},errorPrefix:function(){return Form.Validator.getMsg(&quot;errorPrefix&quot;)||&quot;Error: &quot;;}},initialize:function(b,a){this.setOptions(a);this.element=document.id(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>this.element.store(&quot;validator&quot;,this);this.warningPrefix=$lambda(this.options.warningPrefix)();this.errorPrefix=$lambda(this.options.errorPrefix)();if(this.options.evaluateOnSubmit){this.element.addEvent(&quot;submit&quot;,this.onSubmit);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.evaluateFieldsOnBlur||this.options.evaluateFieldsOnChange){this.watchFields(this.getFields());}},toElement:function(){return this.element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>},getFields:function(){return(this.fields=this.element.getElements(this.options.fieldSelectors));},watchFields:function(a){a.each(function(b){if(this.options.evaluateFieldsOnBlur){b.addEvent(&quot;blur&quot;,this.validationMonitor.pass([b,false],this));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.evaluateFieldsOnChange){b.addEvent(&quot;change&quot;,this.validationMonitor.pass([b,true],this));}},this);},validationMonitor:function(){$clear(this.timer);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>this.timer=this.validateField.delay(50,this,arguments);},onSubmit:function(a){if(!this.validate(a)&amp;&amp;a){a.preventDefault();}else{this.reset();}},reset:function(){this.getFields().each(this.resetField,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>return this;},validate:function(b){var a=this.getFields().map(function(c){return this.validateField(c,true);},this).every(function(c){return c;});this.fireEvent(&quot;formValidate&quot;,[a,this.element,b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>if(this.options.stopOnFailure&amp;&amp;!a&amp;&amp;b){b.preventDefault();}return a;},validateField:function(i,a){if(this.paused){return true;}i=document.id(i);var d=!i.hasClass(&quot;validation-failed&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>var f,h;if(this.options.serial&amp;&amp;!a){f=this.element.getElement(&quot;.validation-failed&quot;);h=this.element.getElement(&quot;.warning&quot;);}if(i&amp;&amp;(!f||a||i.hasClass(&quot;validation-failed&quot;)||(f&amp;&amp;!this.options.serial))){var c=i.className.split(&quot; &quot;).some(function(j){return this.getValidator(j);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>},this);var g=[];i.className.split(&quot; &quot;).each(function(j){if(j&amp;&amp;!this.test(j,i)){g.include(j);}},this);d=g.length===0;if(c&amp;&amp;!i.hasClass(&quot;warnOnly&quot;)){if(d){i.addClass(&quot;validation-passed&quot;).removeClass(&quot;validation-failed&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;elementPass&quot;,i);}else{i.addClass(&quot;validation-failed&quot;).removeClass(&quot;validation-passed&quot;);this.fireEvent(&quot;elementFail&quot;,[i,g]);}}if(!h){var e=i.className.split(&quot; &quot;).some(function(j){if(j.test(&quot;^warn-&quot;)||i.hasClass(&quot;warnOnly&quot;)){return this.getValidator(j.replace(/^warn-/,&quot;&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>}else{return null;}},this);i.removeClass(&quot;warning&quot;);var b=i.className.split(&quot; &quot;).map(function(j){if(j.test(&quot;^warn-&quot;)||i.hasClass(&quot;warnOnly&quot;)){return this.test(j.replace(/^warn-/,&quot;&quot;),i,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>}else{return null;}},this);}}return d;},test:function(b,d,e){d=document.id(d);if((this.options.ignoreHidden&amp;&amp;!d.isVisible())||(this.options.ignoreDisabled&amp;&amp;d.get(&quot;disabled&quot;))){return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>}var a=this.getValidator(b);if(d.hasClass(&quot;ignoreValidation&quot;)){return true;}e=$pick(e,false);if(d.hasClass(&quot;warnOnly&quot;)){e=true;}var c=a?a.test(d):true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>if(a&amp;&amp;d.isVisible()){this.fireEvent(&quot;elementValidate&quot;,[c,d,b,e]);}if(e){return true;}return c;},resetField:function(a){a=document.id(a);if(a){a.className.split(&quot; &quot;).each(function(b){if(b.test(&quot;^warn-&quot;)){b=b.replace(/^warn-/,&quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>}a.removeClass(&quot;validation-failed&quot;);a.removeClass(&quot;warning&quot;);a.removeClass(&quot;validation-passed&quot;);},this);}return this;},stop:function(){this.paused=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>return this;},start:function(){this.paused=false;return this;},ignoreField:function(a,b){a=document.id(a);if(a){this.enforceField(a);if(b){a.addClass(&quot;warnOnly&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>}else{a.addClass(&quot;ignoreValidation&quot;);}}return this;},enforceField:function(a){a=document.id(a);if(a){a.removeClass(&quot;warnOnly&quot;).removeClass(&quot;ignoreValidation&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>}return this;}});Form.Validator.getMsg=function(a){return MooTools.lang.get(&quot;Form.Validator&quot;,a);};Form.Validator.adders={validators:{},add:function(b,a){this.validators[b]=new InputValidator(b,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>if(!this.initialize){this.implement({validators:this.validators});}},addAllThese:function(a){$A(a).each(function(b){this.add(b[0],b[1]);},this);},getValidator:function(a){return this.validators[a.split(&quot;:&quot;)[0]];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>}};$extend(Form.Validator,Form.Validator.adders);Form.Validator.implement(Form.Validator.adders);Form.Validator.add(&quot;IsEmpty&quot;,{errorMsg:false,test:function(a){if(a.type==&quot;select-one&quot;||a.type==&quot;select&quot;){return !(a.selectedIndex&gt;=0&amp;&amp;a.options[a.selectedIndex].value!=&quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>}else{return((a.get(&quot;value&quot;)==null)||(a.get(&quot;value&quot;).length==0));}}});Form.Validator.addAllThese([[&quot;required&quot;,{errorMsg:function(){return Form.Validator.getMsg(&quot;required&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>},test:function(a){return !Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a);}}],[&quot;minLength&quot;,{errorMsg:function(a,b){if($type(b.minLength)){return Form.Validator.getMsg(&quot;minLength&quot;).substitute({minLength:b.minLength,length:a.get(&quot;value&quot;).length});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>}else{return&quot;&quot;;}},test:function(a,b){if($type(b.minLength)){return(a.get(&quot;value&quot;).length&gt;=$pick(b.minLength,0));}else{return true;}}}],[&quot;maxLength&quot;,{errorMsg:function(a,b){if($type(b.maxLength)){return Form.Validator.getMsg(&quot;maxLength&quot;).substitute({maxLength:b.maxLength,length:a.get(&quot;value&quot;).length});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>}else{return&quot;&quot;;}},test:function(a,b){return(a.get(&quot;value&quot;).length&lt;=$pick(b.maxLength,10000));}}],[&quot;validate-integer&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;integer&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||(/^(-?[1-9]\d*|0)$/).test(a.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-numeric&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;numeric&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||(/^-?(?:0$0(?=\d*\.)|[1-9]|0)\d*(\.\d+)?$/).test(a.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-digits&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;digits&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||(/^[\d() .:\-\+#]+$/.test(a.get(&quot;value&quot;)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-alpha&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;alpha&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||(/^[a-zA-Z]+$/).test(a.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-alphanum&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;alphanum&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||!(/\W/).test(a.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-date&quot;,{errorMsg:function(a,b){if(Date.parse){var c=b.dateFormat||&quot;%x&quot;;return Form.Validator.getMsg(&quot;dateSuchAs&quot;).substitute({date:new Date().format(c)});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>}else{return Form.Validator.getMsg(&quot;dateInFormatMDY&quot;);}},test:function(a,b){if(Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)){return true;}var g;if(Date.parse){var f=b.dateFormat||&quot;%x&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>g=Date.parse(a.get(&quot;value&quot;));var e=g.format(f);if(e!=&quot;invalid date&quot;){a.set(&quot;value&quot;,e);}return !isNaN(g);}else{var c=/^(\d{2})\/(\d{2})\/(\d{4})$/;if(!c.test(a.get(&quot;value&quot;))){return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>}g=new Date(a.get(&quot;value&quot;).replace(c,&quot;$1/$2/$3&quot;));return(parseInt(RegExp.$1,10)==(1+g.getMonth()))&amp;&amp;(parseInt(RegExp.$2,10)==g.getDate())&amp;&amp;(parseInt(RegExp.$3,10)==g.getFullYear());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>}}}],[&quot;validate-email&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;email&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i).test(a.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-url&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;url&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||(/^(https?|ftp|rmtp|mms):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i).test(a.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-currency-dollar&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;currencyDollar&quot;),test:function(a){return Form.Validator.getValidator(&quot;IsEmpty&quot;).test(a)||(/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/).test(a.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-one-required&quot;,{errorMsg:Form.Validator.getMsg.pass(&quot;oneRequired&quot;),test:function(a,b){var c=document.id(b[&quot;validate-one-required&quot;])||a.getParent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>return c.getElements(&quot;input&quot;).some(function(d){if([&quot;checkbox&quot;,&quot;radio&quot;].contains(d.get(&quot;type&quot;))){return d.get(&quot;checked&quot;);}return d.get(&quot;value&quot;);});}}]]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>Element.Properties.validator={set:function(a){var b=this.retrieve(&quot;validator&quot;);if(b){b.setOptions(a);}return this.store(&quot;validator:options&quot;);},get:function(a){if(a||!this.retrieve(&quot;validator&quot;)){if(a||!this.retrieve(&quot;validator:options&quot;)){this.set(&quot;validator&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>}this.store(&quot;validator&quot;,new Form.Validator(this,this.retrieve(&quot;validator:options&quot;)));}return this.retrieve(&quot;validator&quot;);}};Element.implement({validate:function(a){this.set(&quot;validator&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>return this.get(&quot;validator&quot;,a).validate();}});var FormValidator=Form.Validator;Form.Validator.Inline=new Class({Extends:Form.Validator,options:{scrollToErrorsOnSubmit:true,scrollFxOptions:{transition:&quot;quad:out&quot;,offset:{y:-20}}},initialize:function(b,a){this.parent(b,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>this.addEvent(&quot;onElementValidate&quot;,function(g,f,e,h){var d=this.getValidator(e);if(!g&amp;&amp;d.getError(f)){if(h){f.addClass(&quot;warning&quot;);}var c=this.makeAdvice(e,f,d.getError(f),h);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>this.insertAdvice(c,f);this.showAdvice(e,f);}else{this.hideAdvice(e,f);}});},makeAdvice:function(d,f,c,g){var e=(g)?this.warningPrefix:this.errorPrefix;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>e+=(this.options.useTitles)?f.title||c:c;var a=(g)?&quot;warning-advice&quot;:&quot;validation-advice&quot;;var b=this.getAdvice(d,f);if(b){b=b.set(&quot;html&quot;,e);}else{b=new Element(&quot;div&quot;,{html:e,styles:{display:&quot;none&quot;},id:&quot;advice-&quot;+d+&quot;-&quot;+this.getFieldId(f)}).addClass(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>}f.store(&quot;advice-&quot;+d,b);return b;},getFieldId:function(a){return a.id?a.id:a.id=&quot;input_&quot;+a.name;},showAdvice:function(b,c){var a=this.getAdvice(b,c);if(a&amp;&amp;!c.retrieve(this.getPropName(b))&amp;&amp;(a.getStyle(&quot;display&quot;)==&quot;none&quot;||a.getStyle(&quot;visiblity&quot;)==&quot;hidden&quot;||a.getStyle(&quot;opacity&quot;)==0)){c.store(this.getPropName(b),true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">261</th>
  <td class="line-code diff_in">
    <pre>if(a.reveal){a.reveal();}else{a.setStyle(&quot;display&quot;,&quot;block&quot;);}}},hideAdvice:function(b,c){var a=this.getAdvice(b,c);if(a&amp;&amp;c.retrieve(this.getPropName(b))){c.store(this.getPropName(b),false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">262</th>
  <td class="line-code diff_in">
    <pre>if(a.dissolve){a.dissolve();}else{a.setStyle(&quot;display&quot;,&quot;none&quot;);}}},getPropName:function(a){return&quot;advice&quot;+a;},resetField:function(a){a=document.id(a);if(!a){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>}this.parent(a);a.className.split(&quot; &quot;).each(function(b){this.hideAdvice(b,a);},this);return this;},getAllAdviceMessages:function(d,c){var b=[];if(d.hasClass(&quot;ignoreValidation&quot;)&amp;&amp;!c){return b;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>}var a=d.className.split(&quot; &quot;).some(function(g){var e=g.test(&quot;^warn-&quot;)||d.hasClass(&quot;warnOnly&quot;);if(e){g=g.replace(/^warn-/,&quot;&quot;);}var f=this.getValidator(g);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>if(!f){return;}b.push({message:f.getError(d),warnOnly:e,passed:f.test(),validator:f});},this);return b;},getAdvice:function(a,b){return b.retrieve(&quot;advice-&quot;+a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>},insertAdvice:function(a,c){var b=c.get(&quot;validatorProps&quot;);if(!b.msgPos||!document.id(b.msgPos)){if(c.type.toLowerCase()==&quot;radio&quot;){c.getParent().adopt(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>}else{a.inject(document.id(c),&quot;after&quot;);}}else{document.id(b.msgPos).grab(a);}},validateField:function(f,e){var a=this.parent(f,e);if(this.options.scrollToErrorsOnSubmit&amp;&amp;!a){var b=document.id(this).getElement(&quot;.validation-failed&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">268</th>
  <td class="line-code diff_in">
    <pre>var c=document.id(this).getParent();while(c!=document.body&amp;&amp;c.getScrollSize().y==c.getSize().y){c=c.getParent();}var d=c.retrieve(&quot;fvScroller&quot;);if(!d&amp;&amp;window.Fx&amp;&amp;Fx.Scroll){d=new Fx.Scroll(c,this.options.scrollFxOptions);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">269</th>
  <td class="line-code diff_in">
    <pre>c.store(&quot;fvScroller&quot;,d);}if(b){if(d){d.toElement(b);}else{c.scrollTo(c.getScroll().x,b.getPosition(c).y-20);}}}return a;}});Form.Validator.addAllThese([[&quot;validate-enforce-oncheck&quot;,{test:function(a,b){if(a.checked){var c=a.getParent(&quot;form&quot;).retrieve(&quot;validator&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">270</th>
  <td class="line-code diff_in">
    <pre>if(!c){return true;}(b.toEnforce||document.id(b.enforceChildrenOf).getElements(&quot;input, select, textarea&quot;)).map(function(d){c.enforceField(d);});}return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">271</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-ignore-oncheck&quot;,{test:function(a,b){if(a.checked){var c=a.getParent(&quot;form&quot;).retrieve(&quot;validator&quot;);if(!c){return true;}(b.toIgnore||document.id(b.ignoreChildrenOf).getElements(&quot;input, select, textarea&quot;)).each(function(d){c.ignoreField(d);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">272</th>
  <td class="line-code diff_in">
    <pre>c.resetField(d);});}return true;}}],[&quot;validate-nospace&quot;,{errorMsg:function(){return Form.Validator.getMsg(&quot;noSpace&quot;);},test:function(a,b){return !a.get(&quot;value&quot;).test(/\s/);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">273</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-toggle-oncheck&quot;,{test:function(b,c){var d=b.getParent(&quot;form&quot;).retrieve(&quot;validator&quot;);if(!d){return true;}var a=c.toToggle||document.id(c.toToggleChildrenOf).getElements(&quot;input, select, textarea&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">274</th>
  <td class="line-code diff_in">
    <pre>if(!b.checked){a.each(function(e){d.ignoreField(e);d.resetField(e);});}else{a.each(function(e){d.enforceField(e);});}return true;}}],[&quot;validate-reqchk-bynode&quot;,{errorMsg:function(){return Form.Validator.getMsg(&quot;reqChkByNode&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">275</th>
  <td class="line-code diff_in">
    <pre>},test:function(a,b){return(document.id(b.nodeId).getElements(b.selector||&quot;input[type=checkbox], input[type=radio]&quot;)).some(function(c){return c.checked;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">276</th>
  <td class="line-code diff_in">
    <pre>});}}],[&quot;validate-required-check&quot;,{errorMsg:function(a,b){return b.useTitle?a.get(&quot;title&quot;):Form.Validator.getMsg(&quot;requiredChk&quot;);},test:function(a,b){return !!a.checked;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">277</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-reqchk-byname&quot;,{errorMsg:function(a,b){return Form.Validator.getMsg(&quot;reqChkByName&quot;).substitute({label:b.label||a.get(&quot;type&quot;)});},test:function(b,d){var c=d.groupName||b.get(&quot;name&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">278</th>
  <td class="line-code diff_in">
    <pre>var a=$$(document.getElementsByName(c)).some(function(g,f){return g.checked;});var e=b.getParent(&quot;form&quot;).retrieve(&quot;validator&quot;);if(a&amp;&amp;e){e.resetField(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">279</th>
  <td class="line-code diff_in">
    <pre>}return a;}}],[&quot;validate-match&quot;,{errorMsg:function(a,b){return Form.Validator.getMsg(&quot;match&quot;).substitute({matchName:b.matchName||document.id(b.matchInput).get(&quot;name&quot;)});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">280</th>
  <td class="line-code diff_in">
    <pre>},test:function(b,c){var d=b.get(&quot;value&quot;);var a=document.id(c.matchInput)&amp;&amp;document.id(c.matchInput).get(&quot;value&quot;);return d&amp;&amp;a?d==a:true;}}],[&quot;validate-after-date&quot;,{errorMsg:function(a,b){return Form.Validator.getMsg(&quot;afterDate&quot;).substitute({label:b.afterLabel||(b.afterElement?Form.Validator.getMsg(&quot;startDate&quot;):Form.Validator.getMsg(&quot;currentDate&quot;))});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">281</th>
  <td class="line-code diff_in">
    <pre>},test:function(b,c){var d=document.id(c.afterElement)?Date.parse(document.id(c.afterElement).get(&quot;value&quot;)):new Date();var a=Date.parse(b.get(&quot;value&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">282</th>
  <td class="line-code diff_in">
    <pre>return a&amp;&amp;d?a&gt;=d:true;}}],[&quot;validate-before-date&quot;,{errorMsg:function(a,b){return Form.Validator.getMsg(&quot;beforeDate&quot;).substitute({label:b.beforeLabel||(b.beforeElement?Form.Validator.getMsg(&quot;endDate&quot;):Form.Validator.getMsg(&quot;currentDate&quot;))});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">283</th>
  <td class="line-code diff_in">
    <pre>},test:function(b,c){var d=Date.parse(b.get(&quot;value&quot;));var a=document.id(c.beforeElement)?Date.parse(document.id(c.beforeElement).get(&quot;value&quot;)):new Date();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">284</th>
  <td class="line-code diff_in">
    <pre>return a&amp;&amp;d?a&gt;=d:true;}}],[&quot;validate-custom-required&quot;,{errorMsg:function(){return Form.Validator.getMsg(&quot;required&quot;);},test:function(a,b){return a.get(&quot;value&quot;)!=b.emptyValue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">285</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-same-month&quot;,{errorMsg:function(a,b){var c=document.id(b.sameMonthAs)&amp;&amp;document.id(b.sameMonthAs).get(&quot;value&quot;);var d=a.get(&quot;value&quot;);if(d!=&quot;&quot;){return Form.Validator.getMsg(c?&quot;sameMonth&quot;:&quot;startMonth&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">286</th>
  <td class="line-code diff_in">
    <pre>}},test:function(a,b){var d=Date.parse(a.get(&quot;value&quot;));var c=Date.parse(document.id(b.sameMonthAs)&amp;&amp;document.id(b.sameMonthAs).get(&quot;value&quot;));return d&amp;&amp;c?d.format(&quot;%B&quot;)==c.format(&quot;%B&quot;):true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">287</th>
  <td class="line-code diff_in">
    <pre>}}],[&quot;validate-cc-num&quot;,{errorMsg:function(a){var b=a.get(&quot;value&quot;).ccNum.replace(/[^0-9]/g,&quot;&quot;);return Form.Validator.getMsg(&quot;creditcard&quot;).substitute({length:b.length});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">288</th>
  <td class="line-code diff_in">
    <pre>},test:function(c){if(Form.Validator.getValidator(&quot;IsEmpty&quot;).test(c)){return true;}var g=c.get(&quot;value&quot;);g=g.replace(/[^0-9]/g,&quot;&quot;);var a=false;if(g.test(/^4[0-9]{12}([0-9]{3})?$/)){a=&quot;Visa&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">289</th>
  <td class="line-code diff_in">
    <pre>}else{if(g.test(/^5[1-5]([0-9]{14})$/)){a=&quot;Master Card&quot;;}else{if(g.test(/^3[47][0-9]{13}$/)){a=&quot;American Express&quot;;}else{if(g.test(/^6011[0-9]{12}$/)){a=&quot;Discover&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">290</th>
  <td class="line-code diff_in">
    <pre>}}}}if(a){var d=0;var e=0;for(var b=g.length-1;b&gt;=0;--b){e=g.charAt(b).toInt();if(e==0){continue;}if((g.length-b)%2==0){e+=e;}if(e&gt;9){e=e.toString().charAt(0).toInt()+e.toString().charAt(1).toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">291</th>
  <td class="line-code diff_in">
    <pre>}d+=e;}if((d%10)==0){return true;}}var f=&quot;&quot;;while(g!=&quot;&quot;){f+=&quot; &quot;+g.substr(0,4);g=g.substr(4);}c.getParent(&quot;form&quot;).retrieve(&quot;validator&quot;).ignoreField(c);c.set(&quot;value&quot;,f.clean());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">292</th>
  <td class="line-code diff_in">
    <pre>c.getParent(&quot;form&quot;).retrieve(&quot;validator&quot;).enforceField(c);return false;}}]]);var OverText=new Class({Implements:[Options,Events,Class.Occlude],Binds:[&quot;reposition&quot;,&quot;assert&quot;,&quot;focus&quot;,&quot;hide&quot;],options:{element:&quot;label&quot;,positionOptions:{position:&quot;upperLeft&quot;,edge:&quot;upperLeft&quot;,offset:{x:4,y:2}},poll:false,pollInterval:250,wrap:false},property:&quot;OverText&quot;,initialize:function(b,a){this.element=document.id(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">293</th>
  <td class="line-code diff_in">
    <pre>if(this.occlude()){return this.occluded;}this.setOptions(a);this.attach(this.element);OverText.instances.push(this);if(this.options.poll){this.poll();}return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">294</th>
  <td class="line-code diff_in">
    <pre>},toElement:function(){return this.element;},attach:function(){var a=this.options.textOverride||this.element.get(&quot;alt&quot;)||this.element.get(&quot;title&quot;);if(!a){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">295</th>
  <td class="line-code diff_in">
    <pre>}this.text=new Element(this.options.element,{&quot;class&quot;:&quot;overTxtLabel&quot;,styles:{lineHeight:&quot;normal&quot;,position:&quot;absolute&quot;,cursor:&quot;text&quot;},html:a,events:{click:this.hide.pass(this.options.element==&quot;label&quot;,this)}}).inject(this.element,&quot;after&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">296</th>
  <td class="line-code diff_in">
    <pre>if(this.options.element==&quot;label&quot;){if(!this.element.get(&quot;id&quot;)){this.element.set(&quot;id&quot;,&quot;input_&quot;+new Date().getTime());}this.text.set(&quot;for&quot;,this.element.get(&quot;id&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">297</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.wrap){this.textHolder=new Element(&quot;div&quot;,{styles:{lineHeight:&quot;normal&quot;,position:&quot;relative&quot;},&quot;class&quot;:&quot;overTxtWrapper&quot;}).adopt(this.text).inject(this.element,&quot;before&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">298</th>
  <td class="line-code diff_in">
    <pre>}this.element.addEvents({focus:this.focus,blur:this.assert,change:this.assert}).store(&quot;OverTextDiv&quot;,this.text);window.addEvent(&quot;resize&quot;,this.reposition.bind(this));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">299</th>
  <td class="line-code diff_in">
    <pre>this.assert(true);this.reposition();},wrap:function(){if(this.options.element==&quot;label&quot;){if(!this.element.get(&quot;id&quot;)){this.element.set(&quot;id&quot;,&quot;input_&quot;+new Date().getTime());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">300</th>
  <td class="line-code diff_in">
    <pre>}this.text.set(&quot;for&quot;,this.element.get(&quot;id&quot;));}},startPolling:function(){this.pollingPaused=false;return this.poll();},poll:function(a){if(this.poller&amp;&amp;!a){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">301</th>
  <td class="line-code diff_in">
    <pre>}var b=function(){if(!this.pollingPaused){this.assert(true);}}.bind(this);if(a){$clear(this.poller);}else{this.poller=b.periodical(this.options.pollInterval,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">302</th>
  <td class="line-code diff_in">
    <pre>}return this;},stopPolling:function(){this.pollingPaused=true;return this.poll(true);},focus:function(){if(this.text&amp;&amp;(!this.text.isDisplayed()||this.element.get(&quot;disabled&quot;))){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">303</th>
  <td class="line-code diff_in">
    <pre>}this.hide();},hide:function(c,a){if(this.text&amp;&amp;(this.text.isDisplayed()&amp;&amp;(!this.element.get(&quot;disabled&quot;)||a))){this.text.hide();this.fireEvent(&quot;textHide&quot;,[this.text,this.element]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">304</th>
  <td class="line-code diff_in">
    <pre>this.pollingPaused=true;try{if(!c){this.element.fireEvent(&quot;focus&quot;);}this.element.focus();}catch(b){}}return this;},show:function(){if(this.text&amp;&amp;!this.text.isDisplayed()){this.text.show();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">305</th>
  <td class="line-code diff_in">
    <pre>this.reposition();this.fireEvent(&quot;textShow&quot;,[this.text,this.element]);this.pollingPaused=false;}return this;},assert:function(a){this[this.test()?&quot;show&quot;:&quot;hide&quot;](a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">306</th>
  <td class="line-code diff_in">
    <pre>},test:function(){var a=this.element.get(&quot;value&quot;);return !a;},reposition:function(){this.assert(true);if(!this.element.isVisible()){return this.stopPolling().hide();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">307</th>
  <td class="line-code diff_in">
    <pre>}if(this.text&amp;&amp;this.test()){this.text.position($merge(this.options.positionOptions,{relativeTo:this.element}));}return this;}});OverText.instances=[];$extend(OverText,{each:function(a){return OverText.instances.map(function(c,b){if(c.element&amp;&amp;c.text){return a.apply(OverText,[c,b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">308</th>
  <td class="line-code diff_in">
    <pre>}return null;});},update:function(){return OverText.each(function(a){return a.reposition();});},hideAll:function(){return OverText.each(function(a){return a.hide(true,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">309</th>
  <td class="line-code diff_in">
    <pre>});},showAll:function(){return OverText.each(function(a){return a.show();});}});if(window.Fx&amp;&amp;Fx.Reveal){Fx.Reveal.implement({hideInputs:Browser.Engine.trident?&quot;select, input, textarea, object, embed, .overTxtLabel&quot;:false});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">310</th>
  <td class="line-code diff_in">
    <pre>}Fx.Elements=new Class({Extends:Fx.CSS,initialize:function(b,a){this.elements=this.subject=$$(b);this.parent(a);},compute:function(g,h,j){var c={};for(var d in g){var a=g[d],e=h[d],f=c[d]={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">311</th>
  <td class="line-code diff_in">
    <pre>for(var b in a){f[b]=this.parent(a[b],e[b],j);}}return c;},set:function(b){for(var c in b){var a=b[c];for(var d in a){this.render(this.elements[c],d,a[d],this.options.unit);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">312</th>
  <td class="line-code diff_in">
    <pre>}}return this;},start:function(c){if(!this.check(c)){return this;}var h={},j={};for(var d in c){var f=c[d],a=h[d]={},g=j[d]={};for(var b in f){var e=this.prepare(this.elements[d],b,f[b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">313</th>
  <td class="line-code diff_in">
    <pre>a[b]=e.from;g[b]=e.to;}}return this.parent(h,j);}});var Accordion=Fx.Accordion=new Class({Extends:Fx.Elements,options:{display:0,show:false,height:true,width:false,opacity:true,alwaysHide:false,trigger:&quot;click&quot;,initialDisplayFx:true,returnHeightToAuto:true},initialize:function(){var c=Array.link(arguments,{container:Element.type,options:Object.type,togglers:$defined,elements:$defined});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">314</th>
  <td class="line-code diff_in">
    <pre>this.parent(c.elements,c.options);this.togglers=$$(c.togglers);this.container=document.id(c.container);this.previous=-1;this.internalChain=new Chain();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">315</th>
  <td class="line-code diff_in">
    <pre>if(this.options.alwaysHide){this.options.wait=true;}if($chk(this.options.show)){this.options.display=false;this.previous=this.options.show;}if(this.options.start){this.options.display=false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">316</th>
  <td class="line-code diff_in">
    <pre>this.options.show=false;}this.effects={};if(this.options.opacity){this.effects.opacity=&quot;fullOpacity&quot;;}if(this.options.width){this.effects.width=this.options.fixedWidth?&quot;fullWidth&quot;:&quot;offsetWidth&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">317</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.height){this.effects.height=this.options.fixedHeight?&quot;fullHeight&quot;:&quot;scrollHeight&quot;;}for(var b=0,a=this.togglers.length;b&lt;a;b++){this.addSection(this.togglers[b],this.elements[b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">318</th>
  <td class="line-code diff_in">
    <pre>}this.elements.each(function(e,d){if(this.options.show===d){this.fireEvent(&quot;active&quot;,[this.togglers[d],e]);}else{for(var f in this.effects){e.setStyle(f,0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">319</th>
  <td class="line-code diff_in">
    <pre>}}},this);if($chk(this.options.display)){this.display(this.options.display,this.options.initialDisplayFx);}this.addEvent(&quot;complete&quot;,this.internalChain.callChain.bind(this.internalChain));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>},addSection:function(e,c){e=document.id(e);c=document.id(c);var f=this.togglers.contains(e);this.togglers.include(e);this.elements.include(c);var a=this.togglers.indexOf(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>var b=this.display.bind(this,a);e.store(&quot;accordion:display&quot;,b);e.addEvent(this.options.trigger,b);if(this.options.height){c.setStyles({&quot;padding-top&quot;:0,&quot;border-top&quot;:&quot;none&quot;,&quot;padding-bottom&quot;:0,&quot;border-bottom&quot;:&quot;none&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">322</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.width){c.setStyles({&quot;padding-left&quot;:0,&quot;border-left&quot;:&quot;none&quot;,&quot;padding-right&quot;:0,&quot;border-right&quot;:&quot;none&quot;});}c.fullOpacity=1;if(this.options.fixedWidth){c.fullWidth=this.options.fixedWidth;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">323</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.fixedHeight){c.fullHeight=this.options.fixedHeight;}c.setStyle(&quot;overflow&quot;,&quot;hidden&quot;);if(!f){for(var d in this.effects){c.setStyle(d,0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">324</th>
  <td class="line-code diff_in">
    <pre>}}return this;},detach:function(){this.togglers.each(function(a){a.removeEvent(this.options.trigger,a.retrieve(&quot;accordion:display&quot;));},this);},display:function(a,b){if(!this.check(a,b)){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">325</th>
  <td class="line-code diff_in">
    <pre>}b=$pick(b,true);if(this.options.returnHeightToAuto){var d=this.elements[this.previous];if(d&amp;&amp;!this.selfHidden){for(var c in this.effects){d.setStyle(c,d[this.effects[c]]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">326</th>
  <td class="line-code diff_in">
    <pre>}}}a=($type(a)==&quot;element&quot;)?this.elements.indexOf(a):a;if((this.timer&amp;&amp;this.options.wait)||(a===this.previous&amp;&amp;!this.options.alwaysHide)){return this;}this.previous=a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">327</th>
  <td class="line-code diff_in">
    <pre>var e={};this.elements.each(function(h,g){e[g]={};var f;if(g!=a){f=true;}else{if(this.options.alwaysHide&amp;&amp;((h.offsetHeight&gt;0&amp;&amp;this.options.height)||h.offsetWidth&gt;0&amp;&amp;this.options.width)){f=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">328</th>
  <td class="line-code diff_in">
    <pre>this.selfHidden=true;}}this.fireEvent(f?&quot;background&quot;:&quot;active&quot;,[this.togglers[g],h]);for(var j in this.effects){e[g][j]=f?0:h[this.effects[j]];}},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">329</th>
  <td class="line-code diff_in">
    <pre>this.internalChain.chain(function(){if(this.options.returnHeightToAuto&amp;&amp;!this.selfHidden){var f=this.elements[a];if(f){f.setStyle(&quot;height&quot;,&quot;auto&quot;);}}}.bind(this));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">330</th>
  <td class="line-code diff_in">
    <pre>return b?this.start(e):this.set(e);}});Fx.Move=new Class({Extends:Fx.Morph,options:{relativeTo:document.body,position:&quot;center&quot;,edge:false,offset:{x:0,y:0}},start:function(a){return this.parent(this.element.position($merge(this.options,a,{returnPos:true})));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">331</th>
  <td class="line-code diff_in">
    <pre>}});Element.Properties.move={set:function(a){var b=this.retrieve(&quot;move&quot;);if(b){b.cancel();}return this.eliminate(&quot;move&quot;).store(&quot;move:options&quot;,$extend({link:&quot;cancel&quot;},a));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">332</th>
  <td class="line-code diff_in">
    <pre>},get:function(a){if(a||!this.retrieve(&quot;move&quot;)){if(a||!this.retrieve(&quot;move:options&quot;)){this.set(&quot;move&quot;,a);}this.store(&quot;move&quot;,new Fx.Move(this,this.retrieve(&quot;move:options&quot;)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">333</th>
  <td class="line-code diff_in">
    <pre>}return this.retrieve(&quot;move&quot;);}};Element.implement({move:function(a){this.get(&quot;move&quot;).start(a);return this;}});Fx.Reveal=new Class({Extends:Fx.Morph,options:{link:&quot;cancel&quot;,styles:[&quot;padding&quot;,&quot;border&quot;,&quot;margin&quot;],transitionOpacity:!Browser.Engine.trident4,mode:&quot;vertical&quot;,display:&quot;block&quot;,hideInputs:Browser.Engine.trident?&quot;select, input, textarea, object, embed&quot;:false},dissolve:function(){try{if(!this.hiding&amp;&amp;!this.showing){if(this.element.getStyle(&quot;display&quot;)!=&quot;none&quot;){this.hiding=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">334</th>
  <td class="line-code diff_in">
    <pre>this.showing=false;this.hidden=true;this.cssText=this.element.style.cssText;var d=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">335</th>
  <td class="line-code diff_in">
    <pre>this.element.setStyle(&quot;display&quot;,&quot;block&quot;);if(this.options.transitionOpacity){d.opacity=1;}var b={};$each(d,function(f,e){b[e]=[f,0];},this);this.element.setStyle(&quot;overflow&quot;,&quot;hidden&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">336</th>
  <td class="line-code diff_in">
    <pre>var a=this.options.hideInputs?this.element.getElements(this.options.hideInputs):null;this.$chain.unshift(function(){if(this.hidden){this.hiding=false;$each(d,function(f,e){d[e]=f;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">337</th>
  <td class="line-code diff_in">
    <pre>},this);this.element.style.cssText=this.cssText;this.element.setStyle(&quot;display&quot;,&quot;none&quot;);if(a){a.setStyle(&quot;visibility&quot;,&quot;visible&quot;);}}this.fireEvent(&quot;hide&quot;,this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">338</th>
  <td class="line-code diff_in">
    <pre>this.callChain();}.bind(this));if(a){a.setStyle(&quot;visibility&quot;,&quot;hidden&quot;);}this.start(b);}else{this.callChain.delay(10,this);this.fireEvent(&quot;complete&quot;,this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">339</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;hide&quot;,this.element);}}else{if(this.options.link==&quot;chain&quot;){this.chain(this.dissolve.bind(this));}else{if(this.options.link==&quot;cancel&quot;&amp;&amp;!this.hiding){this.cancel();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">340</th>
  <td class="line-code diff_in">
    <pre>this.dissolve();}}}}catch(c){this.hiding=false;this.element.setStyle(&quot;display&quot;,&quot;none&quot;);this.callChain.delay(10,this);this.fireEvent(&quot;complete&quot;,this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">341</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;hide&quot;,this.element);}return this;},reveal:function(){try{if(!this.showing&amp;&amp;!this.hiding){if(this.element.getStyle(&quot;display&quot;)==&quot;none&quot;||this.element.getStyle(&quot;visiblity&quot;)==&quot;hidden&quot;||this.element.getStyle(&quot;opacity&quot;)==0){this.showing=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">342</th>
  <td class="line-code diff_in">
    <pre>this.hiding=this.hidden=false;var d;this.cssText=this.element.style.cssText;this.element.measure(function(){d=this.element.getComputedSize({styles:this.options.styles,mode:this.options.mode});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">343</th>
  <td class="line-code diff_in">
    <pre>}.bind(this));$each(d,function(f,e){d[e]=f;});if($chk(this.options.heightOverride)){d.height=this.options.heightOverride.toInt();}if($chk(this.options.widthOverride)){d.width=this.options.widthOverride.toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">344</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.transitionOpacity){this.element.setStyle(&quot;opacity&quot;,0);d.opacity=1;}var b={height:0,display:this.options.display};$each(d,function(f,e){b[e]=0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">345</th>
  <td class="line-code diff_in">
    <pre>});this.element.setStyles($merge(b,{overflow:&quot;hidden&quot;}));var a=this.options.hideInputs?this.element.getElements(this.options.hideInputs):null;if(a){a.setStyle(&quot;visibility&quot;,&quot;hidden&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">346</th>
  <td class="line-code diff_in">
    <pre>}this.start(d);this.$chain.unshift(function(){this.element.style.cssText=this.cssText;this.element.setStyle(&quot;display&quot;,this.options.display);if(!this.hidden){this.showing=false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">347</th>
  <td class="line-code diff_in">
    <pre>}if(a){a.setStyle(&quot;visibility&quot;,&quot;visible&quot;);}this.callChain();this.fireEvent(&quot;show&quot;,this.element);}.bind(this));}else{this.callChain();this.fireEvent(&quot;complete&quot;,this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">348</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;show&quot;,this.element);}}else{if(this.options.link==&quot;chain&quot;){this.chain(this.reveal.bind(this));}else{if(this.options.link==&quot;cancel&quot;&amp;&amp;!this.showing){this.cancel();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">349</th>
  <td class="line-code diff_in">
    <pre>this.reveal();}}}}catch(c){this.element.setStyles({display:this.options.display,visiblity:&quot;visible&quot;,opacity:1});this.showing=false;this.callChain.delay(10,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">350</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;complete&quot;,this.element);this.fireEvent(&quot;show&quot;,this.element);}return this;},toggle:function(){if(this.element.getStyle(&quot;display&quot;)==&quot;none&quot;||this.element.getStyle(&quot;visiblity&quot;)==&quot;hidden&quot;||this.element.getStyle(&quot;opacity&quot;)==0){this.reveal();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">351</th>
  <td class="line-code diff_in">
    <pre>}else{this.dissolve();}return this;},cancel:function(){this.parent.apply(this,arguments);this.element.style.cssText=this.cssText;this.hidding=false;this.showing=false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">352</th>
  <td class="line-code diff_in">
    <pre>}});Element.Properties.reveal={set:function(a){var b=this.retrieve(&quot;reveal&quot;);if(b){b.cancel();}return this.eliminate(&quot;reveal&quot;).store(&quot;reveal:options&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">353</th>
  <td class="line-code diff_in">
    <pre>},get:function(a){if(a||!this.retrieve(&quot;reveal&quot;)){if(a||!this.retrieve(&quot;reveal:options&quot;)){this.set(&quot;reveal&quot;,a);}this.store(&quot;reveal&quot;,new Fx.Reveal(this,this.retrieve(&quot;reveal:options&quot;)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">354</th>
  <td class="line-code diff_in">
    <pre>}return this.retrieve(&quot;reveal&quot;);}};Element.Properties.dissolve=Element.Properties.reveal;Element.implement({reveal:function(a){this.get(&quot;reveal&quot;,a).reveal();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">355</th>
  <td class="line-code diff_in">
    <pre>return this;},dissolve:function(a){this.get(&quot;reveal&quot;,a).dissolve();return this;},nix:function(){var a=Array.link(arguments,{destroy:Boolean.type,options:Object.type});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">356</th>
  <td class="line-code diff_in">
    <pre>this.get(&quot;reveal&quot;,a.options).dissolve().chain(function(){this[a.destroy?&quot;destroy&quot;:&quot;dispose&quot;]();}.bind(this));return this;},wink:function(){var b=Array.link(arguments,{duration:Number.type,options:Object.type});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">357</th>
  <td class="line-code diff_in">
    <pre>var a=this.get(&quot;reveal&quot;,b.options);a.reveal().chain(function(){(function(){a.dissolve();}).delay(b.duration||2000);});}});Fx.Scroll=new Class({Extends:Fx,options:{offset:{x:0,y:0},wheelStops:true},initialize:function(b,a){this.element=this.subject=document.id(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">358</th>
  <td class="line-code diff_in">
    <pre>this.parent(a);var d=this.cancel.bind(this,false);if($type(this.element)!=&quot;element&quot;){this.element=document.id(this.element.getDocument().body);}var c=this.element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">359</th>
  <td class="line-code diff_in">
    <pre>if(this.options.wheelStops){this.addEvent(&quot;start&quot;,function(){c.addEvent(&quot;mousewheel&quot;,d);},true);this.addEvent(&quot;complete&quot;,function(){c.removeEvent(&quot;mousewheel&quot;,d);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">360</th>
  <td class="line-code diff_in">
    <pre>},true);}},set:function(){var a=Array.flatten(arguments);if(Browser.Engine.gecko){a=[Math.round(a[0]),Math.round(a[1])];}this.element.scrollTo(a[0],a[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">361</th>
  <td class="line-code diff_in">
    <pre>},compute:function(c,b,a){return[0,1].map(function(d){return Fx.compute(c[d],b[d],a);});},start:function(c,g){if(!this.check(c,g)){return this;}var e=this.element.getScrollSize(),b=this.element.getScroll(),d={x:c,y:g};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">362</th>
  <td class="line-code diff_in">
    <pre>for(var f in d){var a=e[f];if($chk(d[f])){d[f]=($type(d[f])==&quot;number&quot;)?d[f]:a;}else{d[f]=b[f];}d[f]+=this.options.offset[f];}return this.parent([b.x,b.y],[d.x,d.y]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">363</th>
  <td class="line-code diff_in">
    <pre>},toTop:function(){return this.start(false,0);},toLeft:function(){return this.start(0,false);},toRight:function(){return this.start(&quot;right&quot;,false);},toBottom:function(){return this.start(false,&quot;bottom&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">364</th>
  <td class="line-code diff_in">
    <pre>},toElement:function(b){var a=document.id(b).getPosition(this.element);return this.start(a.x,a.y);},scrollIntoView:function(c,e,d){e=e?$splat(e):[&quot;x&quot;,&quot;y&quot;];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">365</th>
  <td class="line-code diff_in">
    <pre>var h={};c=document.id(c);var f=c.getPosition(this.element);var i=c.getSize();var g=this.element.getScroll();var a=this.element.getSize();var b={x:f.x+i.x,y:f.y+i.y};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">366</th>
  <td class="line-code diff_in">
    <pre>[&quot;x&quot;,&quot;y&quot;].each(function(j){if(e.contains(j)){if(b[j]&gt;g[j]+a[j]){h[j]=b[j]-a[j];}if(f[j]&lt;g[j]){h[j]=f[j];}}if(h[j]==null){h[j]=g[j];}if(d&amp;&amp;d[j]){h[j]=h[j]+d[j];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">367</th>
  <td class="line-code diff_in">
    <pre>}},this);if(h.x!=g.x||h.y!=g.y){this.start(h.x,h.y);}return this;},scrollToCenter:function(c,e,d){e=e?$splat(e):[&quot;x&quot;,&quot;y&quot;];c=$(c);var h={},f=c.getPosition(this.element),i=c.getSize(),g=this.element.getScroll(),a=this.element.getSize(),b={x:f.x+i.x,y:f.y+i.y};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">368</th>
  <td class="line-code diff_in">
    <pre>[&quot;x&quot;,&quot;y&quot;].each(function(j){if(e.contains(j)){h[j]=f[j]-(a[j]-i[j])/2;}if(h[j]==null){h[j]=g[j];}if(d&amp;&amp;d[j]){h[j]=h[j]+d[j];}},this);if(h.x!=g.x||h.y!=g.y){this.start(h.x,h.y);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">369</th>
  <td class="line-code diff_in">
    <pre>}return this;}});Fx.Slide=new Class({Extends:Fx,options:{mode:&quot;vertical&quot;,hideOverflow:true},initialize:function(b,a){this.addEvent(&quot;complete&quot;,function(){this.open=(this.wrapper[&quot;offset&quot;+this.layout.capitalize()]!=0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">370</th>
  <td class="line-code diff_in">
    <pre>if(this.open&amp;&amp;Browser.Engine.webkit419){this.element.dispose().inject(this.wrapper);}},true);this.element=this.subject=document.id(b);this.parent(a);var d=this.element.retrieve(&quot;wrapper&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">371</th>
  <td class="line-code diff_in">
    <pre>var c=this.element.getStyles(&quot;margin&quot;,&quot;position&quot;,&quot;overflow&quot;);if(this.options.hideOverflow){c=$extend(c,{overflow:&quot;hidden&quot;});}this.wrapper=d||new Element(&quot;div&quot;,{styles:c}).wraps(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">372</th>
  <td class="line-code diff_in">
    <pre>this.element.store(&quot;wrapper&quot;,this.wrapper).setStyle(&quot;margin&quot;,0);this.now=[];this.open=true;},vertical:function(){this.margin=&quot;margin-top&quot;;this.layout=&quot;height&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">373</th>
  <td class="line-code diff_in">
    <pre>this.offset=this.element.offsetHeight;},horizontal:function(){this.margin=&quot;margin-left&quot;;this.layout=&quot;width&quot;;this.offset=this.element.offsetWidth;},set:function(a){this.element.setStyle(this.margin,a[0]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">374</th>
  <td class="line-code diff_in">
    <pre>this.wrapper.setStyle(this.layout,a[1]);return this;},compute:function(c,b,a){return[0,1].map(function(d){return Fx.compute(c[d],b[d],a);});},start:function(b,e){if(!this.check(b,e)){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">375</th>
  <td class="line-code diff_in">
    <pre>}this[e||this.options.mode]();var d=this.element.getStyle(this.margin).toInt();var c=this.wrapper.getStyle(this.layout).toInt();var a=[[d,c],[0,this.offset]];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">376</th>
  <td class="line-code diff_in">
    <pre>var g=[[d,c],[-this.offset,0]];var f;switch(b){case&quot;in&quot;:f=a;break;case&quot;out&quot;:f=g;break;case&quot;toggle&quot;:f=(c==0)?a:g;}return this.parent(f[0],f[1]);},slideIn:function(a){return this.start(&quot;in&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">377</th>
  <td class="line-code diff_in">
    <pre>},slideOut:function(a){return this.start(&quot;out&quot;,a);},hide:function(a){this[a||this.options.mode]();this.open=false;return this.set([-this.offset,0]);},show:function(a){this[a||this.options.mode]();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">378</th>
  <td class="line-code diff_in">
    <pre>this.open=true;return this.set([0,this.offset]);},toggle:function(a){return this.start(&quot;toggle&quot;,a);}});Element.Properties.slide={set:function(b){var a=this.retrieve(&quot;slide&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">379</th>
  <td class="line-code diff_in">
    <pre>if(a){a.cancel();}return this.eliminate(&quot;slide&quot;).store(&quot;slide:options&quot;,$extend({link:&quot;cancel&quot;},b));},get:function(a){if(a||!this.retrieve(&quot;slide&quot;)){if(a||!this.retrieve(&quot;slide:options&quot;)){this.set(&quot;slide&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">380</th>
  <td class="line-code diff_in">
    <pre>}this.store(&quot;slide&quot;,new Fx.Slide(this,this.retrieve(&quot;slide:options&quot;)));}return this.retrieve(&quot;slide&quot;);}};Element.implement({slide:function(d,e){d=d||&quot;toggle&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">381</th>
  <td class="line-code diff_in">
    <pre>var b=this.get(&quot;slide&quot;),a;switch(d){case&quot;hide&quot;:b.hide(e);break;case&quot;show&quot;:b.show(e);break;case&quot;toggle&quot;:var c=this.retrieve(&quot;slide:flag&quot;,b.open);b[c?&quot;slideOut&quot;:&quot;slideIn&quot;](e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">382</th>
  <td class="line-code diff_in">
    <pre>this.store(&quot;slide:flag&quot;,!c);a=true;break;default:b.start(d,e);}if(!a){this.eliminate(&quot;slide:flag&quot;);}return this;}});var SmoothScroll=Fx.SmoothScroll=new Class({Extends:Fx.Scroll,initialize:function(b,c){c=c||document;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">383</th>
  <td class="line-code diff_in">
    <pre>this.doc=c.getDocument();var d=c.getWindow();this.parent(this.doc,b);this.links=$$(this.options.links||this.doc.links);var a=d.location.href.match(/^[^#]*/)[0]+&quot;#&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">384</th>
  <td class="line-code diff_in">
    <pre>this.links.each(function(f){if(f.href.indexOf(a)!=0){return;}var e=f.href.substr(a.length);if(e){this.useLink(f,e);}},this);if(!Browser.Engine.webkit419){this.addEvent(&quot;complete&quot;,function(){d.location.hash=this.anchor;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">385</th>
  <td class="line-code diff_in">
    <pre>},true);}},useLink:function(c,a){var b;c.addEvent(&quot;click&quot;,function(d){if(b!==false&amp;&amp;!b){b=document.id(a)||this.doc.getElement(&quot;a[name=&quot;+a+&quot;]&quot;);}if(b){d.preventDefault();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">386</th>
  <td class="line-code diff_in">
    <pre>this.anchor=a;this.toElement(b).chain(function(){this.fireEvent(&quot;scrolledTo&quot;,[c,b]);}.bind(this));c.blur();}}.bind(this));}});Fx.Sort=new Class({Extends:Fx.Elements,options:{mode:&quot;vertical&quot;},initialize:function(b,a){this.parent(b,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">387</th>
  <td class="line-code diff_in">
    <pre>this.elements.each(function(c){if(c.getStyle(&quot;position&quot;)==&quot;static&quot;){c.setStyle(&quot;position&quot;,&quot;relative&quot;);}});this.setDefaultOrder();},setDefaultOrder:function(){this.currentOrder=this.elements.map(function(b,a){return a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">388</th>
  <td class="line-code diff_in">
    <pre>});},sort:function(e){if($type(e)!=&quot;array&quot;){return false;}var i=0,a=0,c={},h={},d=this.options.mode==&quot;vertical&quot;;var f=this.elements.map(function(m,j){var l=m.getComputedSize({styles:[&quot;border&quot;,&quot;padding&quot;,&quot;margin&quot;]});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">389</th>
  <td class="line-code diff_in">
    <pre>var n;if(d){n={top:i,margin:l[&quot;margin-top&quot;],height:l.totalHeight};i+=n.height-l[&quot;margin-top&quot;];}else{n={left:a,margin:l[&quot;margin-left&quot;],width:l.totalWidth};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">390</th>
  <td class="line-code diff_in">
    <pre>a+=n.width;}var k=d?&quot;top&quot;:&quot;left&quot;;h[j]={};var o=m.getStyle(k).toInt();h[j][k]=o||0;return n;},this);this.set(h);e=e.map(function(j){return j.toInt();});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">391</th>
  <td class="line-code diff_in">
    <pre>if(e.length!=this.elements.length){this.currentOrder.each(function(j){if(!e.contains(j)){e.push(j);}});if(e.length&gt;this.elements.length){e.splice(this.elements.length-1,e.length-this.elements.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">392</th>
  <td class="line-code diff_in">
    <pre>}}var b=i=a=0;e.each(function(l,j){var k={};if(d){k.top=i-f[l].top-b;i+=f[l].height;}else{k.left=a-f[l].left;a+=f[l].width;}b=b+f[l].margin;c[l]=k;},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">393</th>
  <td class="line-code diff_in">
    <pre>var g={};$A(e).sort().each(function(j){g[j]=c[j];});this.start(g);this.currentOrder=e;return this;},rearrangeDOM:function(a){a=a||this.currentOrder;var b=this.elements[0].getParent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">394</th>
  <td class="line-code diff_in">
    <pre>var c=[];this.elements.setStyle(&quot;opacity&quot;,0);a.each(function(d){c.push(this.elements[d].inject(b).setStyles({top:0,left:0}));},this);this.elements.setStyle(&quot;opacity&quot;,1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">395</th>
  <td class="line-code diff_in">
    <pre>this.elements=$$(c);this.setDefaultOrder();return this;},getDefaultOrder:function(){return this.elements.map(function(b,a){return a;});},forward:function(){return this.sort(this.getDefaultOrder());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">396</th>
  <td class="line-code diff_in">
    <pre>},backward:function(){return this.sort(this.getDefaultOrder().reverse());},reverse:function(){return this.sort(this.currentOrder.reverse());},sortByElements:function(a){return this.sort(a.map(function(b){return this.elements.indexOf(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">397</th>
  <td class="line-code diff_in">
    <pre>},this));},swap:function(c,b){if($type(c)==&quot;element&quot;){c=this.elements.indexOf(c);}if($type(b)==&quot;element&quot;){b=this.elements.indexOf(b);}var a=$A(this.currentOrder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">398</th>
  <td class="line-code diff_in">
    <pre>a[this.currentOrder.indexOf(c)]=b;a[this.currentOrder.indexOf(b)]=c;return this.sort(a);}});var Drag=new Class({Implements:[Events,Options],options:{snap:6,unit:&quot;px&quot;,grid:false,style:true,limit:false,handle:false,invert:false,preventDefault:false,stopPropagation:false,modifiers:{x:&quot;left&quot;,y:&quot;top&quot;}},initialize:function(){var b=Array.link(arguments,{options:Object.type,element:$defined});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">399</th>
  <td class="line-code diff_in">
    <pre>this.element=document.id(b.element);this.document=this.element.getDocument();this.setOptions(b.options||{});var a=$type(this.options.handle);this.handles=((a==&quot;array&quot;||a==&quot;collection&quot;)?$$(this.options.handle):document.id(this.options.handle))||this.element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">400</th>
  <td class="line-code diff_in">
    <pre>this.mouse={now:{},pos:{}};this.value={start:{},now:{}};this.selection=(Browser.Engine.trident)?&quot;selectstart&quot;:&quot;mousedown&quot;;this.bound={start:this.start.bind(this),check:this.check.bind(this),drag:this.drag.bind(this),stop:this.stop.bind(this),cancel:this.cancel.bind(this),eventStop:$lambda(false)};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">401</th>
  <td class="line-code diff_in">
    <pre>this.attach();},attach:function(){this.handles.addEvent(&quot;mousedown&quot;,this.bound.start);return this;},detach:function(){this.handles.removeEvent(&quot;mousedown&quot;,this.bound.start);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">402</th>
  <td class="line-code diff_in">
    <pre>return this;},start:function(c){if(c.rightClick){return;}if(this.options.preventDefault){c.preventDefault();}if(this.options.stopPropagation){c.stopPropagation();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">403</th>
  <td class="line-code diff_in">
    <pre>}this.mouse.start=c.page;this.fireEvent(&quot;beforeStart&quot;,this.element);var a=this.options.limit;this.limit={x:[],y:[]};for(var d in this.options.modifiers){if(!this.options.modifiers[d]){continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">404</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.style){this.value.now[d]=this.element.getStyle(this.options.modifiers[d]).toInt();}else{this.value.now[d]=this.element[this.options.modifiers[d]];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">405</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.invert){this.value.now[d]*=-1;}this.mouse.pos[d]=c.page[d]-this.value.now[d];if(a&amp;&amp;a[d]){for(var b=2;b--;b){if($chk(a[d][b])){this.limit[d][b]=$lambda(a[d][b])();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">406</th>
  <td class="line-code diff_in">
    <pre>}}}}if($type(this.options.grid)==&quot;number&quot;){this.options.grid={x:this.options.grid,y:this.options.grid};}this.document.addEvents({mousemove:this.bound.check,mouseup:this.bound.cancel});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">407</th>
  <td class="line-code diff_in">
    <pre>this.document.addEvent(this.selection,this.bound.eventStop);},check:function(a){if(this.options.preventDefault){a.preventDefault();}var b=Math.round(Math.sqrt(Math.pow(a.page.x-this.mouse.start.x,2)+Math.pow(a.page.y-this.mouse.start.y,2)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">408</th>
  <td class="line-code diff_in">
    <pre>if(b&gt;this.options.snap){this.cancel();this.document.addEvents({mousemove:this.bound.drag,mouseup:this.bound.stop});this.fireEvent(&quot;start&quot;,[this.element,a]).fireEvent(&quot;snap&quot;,this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">409</th>
  <td class="line-code diff_in">
    <pre>}},drag:function(a){if(this.options.preventDefault){a.preventDefault();}this.mouse.now=a.page;for(var b in this.options.modifiers){if(!this.options.modifiers[b]){continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">410</th>
  <td class="line-code diff_in">
    <pre>}this.value.now[b]=this.mouse.now[b]-this.mouse.pos[b];if(this.options.invert){this.value.now[b]*=-1;}if(this.options.limit&amp;&amp;this.limit[b]){if($chk(this.limit[b][1])&amp;&amp;(this.value.now[b]&gt;this.limit[b][1])){this.value.now[b]=this.limit[b][1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">411</th>
  <td class="line-code diff_in">
    <pre>}else{if($chk(this.limit[b][0])&amp;&amp;(this.value.now[b]&lt;this.limit[b][0])){this.value.now[b]=this.limit[b][0];}}}if(this.options.grid[b]){this.value.now[b]-=((this.value.now[b]-(this.limit[b][0]||0))%this.options.grid[b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">412</th>
  <td class="line-code diff_in">
    <pre>}if(this.options.style){this.element.setStyle(this.options.modifiers[b],this.value.now[b]+this.options.unit);}else{this.element[this.options.modifiers[b]]=this.value.now[b];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">413</th>
  <td class="line-code diff_in">
    <pre>}}this.fireEvent(&quot;drag&quot;,[this.element,a]);},cancel:function(a){this.document.removeEvent(&quot;mousemove&quot;,this.bound.check);this.document.removeEvent(&quot;mouseup&quot;,this.bound.cancel);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">414</th>
  <td class="line-code diff_in">
    <pre>if(a){this.document.removeEvent(this.selection,this.bound.eventStop);this.fireEvent(&quot;cancel&quot;,this.element);}},stop:function(a){this.document.removeEvent(this.selection,this.bound.eventStop);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">415</th>
  <td class="line-code diff_in">
    <pre>this.document.removeEvent(&quot;mousemove&quot;,this.bound.drag);this.document.removeEvent(&quot;mouseup&quot;,this.bound.stop);if(a){this.fireEvent(&quot;complete&quot;,[this.element,a]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">416</th>
  <td class="line-code diff_in">
    <pre>}}});Element.implement({makeResizable:function(a){var b=new Drag(this,$merge({modifiers:{x:&quot;width&quot;,y:&quot;height&quot;}},a));this.store(&quot;resizer&quot;,b);return b.addEvent(&quot;drag&quot;,function(){this.fireEvent(&quot;resize&quot;,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">417</th>
  <td class="line-code diff_in">
    <pre>}.bind(this));}});Drag.Move=new Class({Extends:Drag,options:{droppables:[],container:false,precalculate:false,includeMargins:true,checkDroppables:true},initialize:function(b,a){this.parent(b,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">418</th>
  <td class="line-code diff_in">
    <pre>b=this.element;this.droppables=$$(this.options.droppables);this.container=document.id(this.options.container);if(this.container&amp;&amp;$type(this.container)!=&quot;element&quot;){this.container=document.id(this.container.getDocument().body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">419</th>
  <td class="line-code diff_in">
    <pre>}var c=b.getStyles(&quot;left&quot;,&quot;right&quot;,&quot;position&quot;);if(c.left==&quot;auto&quot;||c.top==&quot;auto&quot;){b.setPosition(b.getPosition(b.getOffsetParent()));}if(c.position==&quot;static&quot;){b.setStyle(&quot;position&quot;,&quot;absolute&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">420</th>
  <td class="line-code diff_in">
    <pre>}this.addEvent(&quot;start&quot;,this.checkDroppables,true);this.overed=null;},start:function(a){if(this.container){this.options.limit=this.calculateLimit();}if(this.options.precalculate){this.positions=this.droppables.map(function(b){return b.getCoordinates();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">421</th>
  <td class="line-code diff_in">
    <pre>});}this.parent(a);},calculateLimit:function(){var d=this.element.getOffsetParent(),g=this.container.getCoordinates(d),f={},c={},b={},i={},k={};[&quot;top&quot;,&quot;right&quot;,&quot;bottom&quot;,&quot;left&quot;].each(function(o){f[o]=this.container.getStyle(&quot;border-&quot;+o).toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">422</th>
  <td class="line-code diff_in">
    <pre>b[o]=this.element.getStyle(&quot;border-&quot;+o).toInt();c[o]=this.element.getStyle(&quot;margin-&quot;+o).toInt();i[o]=this.container.getStyle(&quot;margin-&quot;+o).toInt();k[o]=d.getStyle(&quot;padding-&quot;+o).toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">423</th>
  <td class="line-code diff_in">
    <pre>},this);var e=this.element.offsetWidth+c.left+c.right,n=this.element.offsetHeight+c.top+c.bottom,h=0,j=0,m=g.right-f.right-e,a=g.bottom-f.bottom-n;if(this.options.includeMargins){h+=c.left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">424</th>
  <td class="line-code diff_in">
    <pre>j+=c.top;}else{m+=c.right;a+=c.bottom;}if(this.element.getStyle(&quot;position&quot;)==&quot;relative&quot;){var l=this.element.getCoordinates(d);l.left-=this.element.getStyle(&quot;left&quot;).toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">425</th>
  <td class="line-code diff_in">
    <pre>l.top-=this.element.getStyle(&quot;top&quot;).toInt();h+=f.left-l.left;j+=f.top-l.top;m+=c.left-l.left;a+=c.top-l.top;if(this.container!=d){h+=i.left+k.left;j+=(Browser.Engine.trident4?0:i.top)+k.top;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">426</th>
  <td class="line-code diff_in">
    <pre>}}else{h-=c.left;j-=c.top;if(this.container==d){m-=f.left;a-=f.top;}else{h+=g.left+f.left;j+=g.top+f.top;}}return{x:[h,m],y:[j,a]};},checkAgainst:function(c,b){c=(this.positions)?this.positions[b]:c.getCoordinates();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">427</th>
  <td class="line-code diff_in">
    <pre>var a=this.mouse.now;return(a.x&gt;c.left&amp;&amp;a.x&lt;c.right&amp;&amp;a.y&lt;c.bottom&amp;&amp;a.y&gt;c.top);},checkDroppables:function(){var a=this.droppables.filter(this.checkAgainst,this).getLast();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">428</th>
  <td class="line-code diff_in">
    <pre>if(this.overed!=a){if(this.overed){this.fireEvent(&quot;leave&quot;,[this.element,this.overed]);}if(a){this.fireEvent(&quot;enter&quot;,[this.element,a]);}this.overed=a;}},drag:function(a){this.parent(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">429</th>
  <td class="line-code diff_in">
    <pre>if(this.options.checkDroppables&amp;&amp;this.droppables.length){this.checkDroppables();}},stop:function(a){this.checkDroppables();this.fireEvent(&quot;drop&quot;,[this.element,this.overed,a]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">430</th>
  <td class="line-code diff_in">
    <pre>this.overed=null;return this.parent(a);}});Element.implement({makeDraggable:function(a){var b=new Drag.Move(this,a);this.store(&quot;dragger&quot;,b);return b;}});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">431</th>
  <td class="line-code diff_in">
    <pre>var Slider=new Class({Implements:[Events,Options],Binds:[&quot;clickedElement&quot;,&quot;draggedKnob&quot;,&quot;scrolledElement&quot;],options:{onTick:function(a){if(this.options.snap){a=this.toPosition(this.step);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">432</th>
  <td class="line-code diff_in">
    <pre>}this.knob.setStyle(this.property,a);},initialStep:0,snap:false,offset:0,range:false,wheel:false,steps:100,mode:&quot;horizontal&quot;},initialize:function(f,a,e){this.setOptions(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">433</th>
  <td class="line-code diff_in">
    <pre>this.element=document.id(f);this.knob=document.id(a);this.previousChange=this.previousEnd=this.step=-1;var g,b={},d={x:false,y:false};switch(this.options.mode){case&quot;vertical&quot;:this.axis=&quot;y&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">434</th>
  <td class="line-code diff_in">
    <pre>this.property=&quot;top&quot;;g=&quot;offsetHeight&quot;;break;case&quot;horizontal&quot;:this.axis=&quot;x&quot;;this.property=&quot;left&quot;;g=&quot;offsetWidth&quot;;}this.full=this.element.measure(function(){this.half=this.knob[g]/2;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">435</th>
  <td class="line-code diff_in">
    <pre>return this.element[g]-this.knob[g]+(this.options.offset*2);}.bind(this));this.min=$chk(this.options.range[0])?this.options.range[0]:0;this.max=$chk(this.options.range[1])?this.options.range[1]:this.options.steps;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">436</th>
  <td class="line-code diff_in">
    <pre>this.range=this.max-this.min;this.steps=this.options.steps||this.full;this.stepSize=Math.abs(this.range)/this.steps;this.stepWidth=this.stepSize*this.full/Math.abs(this.range);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">437</th>
  <td class="line-code diff_in">
    <pre>this.knob.setStyle(&quot;position&quot;,&quot;relative&quot;).setStyle(this.property,this.options.initialStep?this.toPosition(this.options.initialStep):-this.options.offset);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">438</th>
  <td class="line-code diff_in">
    <pre>d[this.axis]=this.property;b[this.axis]=[-this.options.offset,this.full-this.options.offset];var c={snap:0,limit:b,modifiers:d,onDrag:this.draggedKnob,onStart:this.draggedKnob,onBeforeStart:(function(){this.isDragging=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">439</th>
  <td class="line-code diff_in">
    <pre>}).bind(this),onCancel:function(){this.isDragging=false;}.bind(this),onComplete:function(){this.isDragging=false;this.draggedKnob();this.end();}.bind(this)};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">440</th>
  <td class="line-code diff_in">
    <pre>if(this.options.snap){c.grid=Math.ceil(this.stepWidth);c.limit[this.axis][1]=this.full;}this.drag=new Drag(this.knob,c);this.attach();},attach:function(){this.element.addEvent(&quot;mousedown&quot;,this.clickedElement);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">441</th>
  <td class="line-code diff_in">
    <pre>if(this.options.wheel){this.element.addEvent(&quot;mousewheel&quot;,this.scrolledElement);}this.drag.attach();return this;},detach:function(){this.element.removeEvent(&quot;mousedown&quot;,this.clickedElement);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">442</th>
  <td class="line-code diff_in">
    <pre>this.element.removeEvent(&quot;mousewheel&quot;,this.scrolledElement);this.drag.detach();return this;},set:function(a){if(!((this.range&gt;0)^(a&lt;this.min))){a=this.min;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">443</th>
  <td class="line-code diff_in">
    <pre>}if(!((this.range&gt;0)^(a&gt;this.max))){a=this.max;}this.step=Math.round(a);this.checkStep();this.fireEvent(&quot;tick&quot;,this.toPosition(this.step));this.end();return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">444</th>
  <td class="line-code diff_in">
    <pre>},clickedElement:function(c){if(this.isDragging||c.target==this.knob){return;}var b=this.range&lt;0?-1:1;var a=c.page[this.axis]-this.element.getPosition()[this.axis]-this.half;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">445</th>
  <td class="line-code diff_in">
    <pre>a=a.limit(-this.options.offset,this.full-this.options.offset);this.step=Math.round(this.min+b*this.toStep(a));this.checkStep();this.fireEvent(&quot;tick&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">446</th>
  <td class="line-code diff_in">
    <pre>this.end();},scrolledElement:function(a){var b=(this.options.mode==&quot;horizontal&quot;)?(a.wheel&lt;0):(a.wheel&gt;0);this.set(b?this.step-this.stepSize:this.step+this.stepSize);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">447</th>
  <td class="line-code diff_in">
    <pre>a.stop();},draggedKnob:function(){var b=this.range&lt;0?-1:1;var a=this.drag.value.now[this.axis];a=a.limit(-this.options.offset,this.full-this.options.offset);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">448</th>
  <td class="line-code diff_in">
    <pre>this.step=Math.round(this.min+b*this.toStep(a));this.checkStep();},checkStep:function(){if(this.previousChange!=this.step){this.previousChange=this.step;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">449</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;change&quot;,this.step);}},end:function(){if(this.previousEnd!==this.step){this.previousEnd=this.step;this.fireEvent(&quot;complete&quot;,this.step+&quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">450</th>
  <td class="line-code diff_in">
    <pre>}},toStep:function(a){var b=(a+this.options.offset)*this.stepSize/this.full*this.steps;return this.options.steps?Math.round(b-=b%this.stepSize):b;},toPosition:function(a){return(this.full*Math.abs(this.min-a))/(this.steps*this.stepSize)-this.options.offset;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">451</th>
  <td class="line-code diff_in">
    <pre>}});var Sortables=new Class({Implements:[Events,Options],options:{snap:4,opacity:1,clone:false,revert:false,handle:false,constrain:false},initialize:function(a,b){this.setOptions(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">452</th>
  <td class="line-code diff_in">
    <pre>this.elements=[];this.lists=[];this.idle=true;this.addLists($$(document.id(a)||a));if(!this.options.clone){this.options.revert=false;}if(this.options.revert){this.effect=new Fx.Morph(null,$merge({duration:250,link:&quot;cancel&quot;},this.options.revert));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">453</th>
  <td class="line-code diff_in">
    <pre>}},attach:function(){this.addLists(this.lists);return this;},detach:function(){this.lists=this.removeLists(this.lists);return this;},addItems:function(){Array.flatten(arguments).each(function(a){this.elements.push(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">454</th>
  <td class="line-code diff_in">
    <pre>var b=a.retrieve(&quot;sortables:start&quot;,this.start.bindWithEvent(this,a));(this.options.handle?a.getElement(this.options.handle)||a:a).addEvent(&quot;mousedown&quot;,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">455</th>
  <td class="line-code diff_in">
    <pre>},this);return this;},addLists:function(){Array.flatten(arguments).each(function(a){this.lists.push(a);this.addItems(a.getChildren());},this);return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">456</th>
  <td class="line-code diff_in">
    <pre>},removeItems:function(){return $$(Array.flatten(arguments).map(function(a){this.elements.erase(a);var b=a.retrieve(&quot;sortables:start&quot;);(this.options.handle?a.getElement(this.options.handle)||a:a).removeEvent(&quot;mousedown&quot;,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">457</th>
  <td class="line-code diff_in">
    <pre>return a;},this));},removeLists:function(){return $$(Array.flatten(arguments).map(function(a){this.lists.erase(a);this.removeItems(a.getChildren());return a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">458</th>
  <td class="line-code diff_in">
    <pre>},this));},getClone:function(b,a){if(!this.options.clone){return new Element(&quot;div&quot;).inject(document.body);}if($type(this.options.clone)==&quot;function&quot;){return this.options.clone.call(this,b,a,this.list);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">459</th>
  <td class="line-code diff_in">
    <pre>}return a.clone(true).setStyles({margin:&quot;0px&quot;,position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,width:a.getStyle(&quot;width&quot;)}).inject(this.list).setPosition(a.getPosition(a.getOffsetParent()));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">460</th>
  <td class="line-code diff_in">
    <pre>},getDroppables:function(){var a=this.list.getChildren();if(!this.options.constrain){a=this.lists.concat(a).erase(this.list);}return a.erase(this.clone).erase(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">461</th>
  <td class="line-code diff_in">
    <pre>},insert:function(c,b){var a=&quot;inside&quot;;if(this.lists.contains(b)){this.list=b;this.drag.droppables=this.getDroppables();}else{a=this.element.getAllPrevious().contains(b)?&quot;before&quot;:&quot;after&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">462</th>
  <td class="line-code diff_in">
    <pre>}this.element.inject(b,a);this.fireEvent(&quot;sort&quot;,[this.element,this.clone]);},start:function(b,a){if(!this.idle){return;}this.idle=false;this.element=a;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">463</th>
  <td class="line-code diff_in">
    <pre>this.opacity=a.get(&quot;opacity&quot;);this.list=a.getParent();this.clone=this.getClone(b,a);this.drag=new Drag.Move(this.clone,{snap:this.options.snap,container:this.options.constrain&amp;&amp;this.element.getParent(),droppables:this.getDroppables(),onSnap:function(){b.stop();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">464</th>
  <td class="line-code diff_in">
    <pre>this.clone.setStyle(&quot;visibility&quot;,&quot;visible&quot;);this.element.set(&quot;opacity&quot;,this.options.opacity||0);this.fireEvent(&quot;start&quot;,[this.element,this.clone]);}.bind(this),onEnter:this.insert.bind(this),onCancel:this.reset.bind(this),onComplete:this.end.bind(this)});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">465</th>
  <td class="line-code diff_in">
    <pre>this.clone.inject(this.element,&quot;before&quot;);this.drag.start(b);},end:function(){this.drag.detach();this.element.set(&quot;opacity&quot;,this.opacity);if(this.effect){var a=this.element.getStyles(&quot;width&quot;,&quot;height&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">466</th>
  <td class="line-code diff_in">
    <pre>var b=this.clone.computePosition(this.element.getPosition(this.clone.offsetParent));this.effect.element=this.clone;this.effect.start({top:b.top,left:b.left,width:a.width,height:a.height,opacity:0.25}).chain(this.reset.bind(this));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">467</th>
  <td class="line-code diff_in">
    <pre>}else{this.reset();}},reset:function(){this.idle=true;this.clone.destroy();this.fireEvent(&quot;complete&quot;,this.element);},serialize:function(){var c=Array.link(arguments,{modifier:Function.type,index:$defined});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">468</th>
  <td class="line-code diff_in">
    <pre>var b=this.lists.map(function(d){return d.getChildren().map(c.modifier||function(e){return e.get(&quot;id&quot;);},this);},this);var a=c.index;if(this.lists.length==1){a=0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">469</th>
  <td class="line-code diff_in">
    <pre>}return $chk(a)&amp;&amp;a&gt;=0&amp;&amp;a&lt;this.lists.length?b[a]:b;}});Request.JSONP=new Class({Implements:[Chain,Events,Options,Log],options:{url:&quot;&quot;,data:{},retries:0,timeout:0,link:&quot;ignore&quot;,callbackKey:&quot;callback&quot;,injectScript:document.head},initialize:function(a){this.setOptions(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">470</th>
  <td class="line-code diff_in">
    <pre>if(this.options.log){this.enableLog();}this.running=false;this.requests=0;this.triesRemaining=[];},check:function(){if(!this.running){return true;}switch(this.options.link){case&quot;cancel&quot;:this.cancel();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">471</th>
  <td class="line-code diff_in">
    <pre>return true;case&quot;chain&quot;:this.chain(this.caller.bind(this,arguments));return false;}return false;},send:function(c){if(!$chk(arguments[1])&amp;&amp;!this.check(c)){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">472</th>
  <td class="line-code diff_in">
    <pre>}var e=$type(c),a=this.options,b=$chk(arguments[1])?arguments[1]:this.requests++;if(e==&quot;string&quot;||e==&quot;element&quot;){c={data:c};}c=$extend({data:a.data,url:a.url},c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">473</th>
  <td class="line-code diff_in">
    <pre>if(!$chk(this.triesRemaining[b])){this.triesRemaining[b]=this.options.retries;}var d=this.triesRemaining[b];(function(){var f=this.getScript(c);this.log(&quot;JSONP retrieving script with url: &quot;+f.get(&quot;src&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">474</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;request&quot;,f);this.running=true;(function(){if(d){this.triesRemaining[b]=d-1;if(f){f.destroy();this.send(c,b).fireEvent(&quot;retry&quot;,this.triesRemaining[b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">475</th>
  <td class="line-code diff_in">
    <pre>}}else{if(f&amp;&amp;this.options.timeout){f.destroy();this.cancel().fireEvent(&quot;failure&quot;);}}}).delay(this.options.timeout,this);}).delay(Browser.Engine.trident?50:0,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">476</th>
  <td class="line-code diff_in">
    <pre>return this;},cancel:function(){if(!this.running){return this;}this.running=false;this.fireEvent(&quot;cancel&quot;);return this;},getScript:function(c){var b=Request.JSONP.counter,d;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">477</th>
  <td class="line-code diff_in">
    <pre>Request.JSONP.counter++;switch($type(c.data)){case&quot;element&quot;:d=document.id(c.data).toQueryString();break;case&quot;object&quot;:case&quot;hash&quot;:d=Hash.toQueryString(c.data);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">478</th>
  <td class="line-code diff_in">
    <pre>}var e=c.url+(c.url.test(&quot;\\?&quot;)?&quot;&amp;&quot;:&quot;?&quot;)+(c.callbackKey||this.options.callbackKey)+&quot;=Request.JSONP.request_map.request_&quot;+b+(d?&quot;&amp;&quot;+d:&quot;&quot;);if(e.length&gt;2083){this.log(&quot;JSONP &quot;+e+&quot; will fail in Internet Explorer, which enforces a 2083 bytes length limit on URIs&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">479</th>
  <td class="line-code diff_in">
    <pre>}var a=new Element(&quot;script&quot;,{type:&quot;text/javascript&quot;,src:e});Request.JSONP.request_map[&quot;request_&quot;+b]=function(f){this.success(f,a);}.bind(this);return a.inject(this.options.injectScript);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">480</th>
  <td class="line-code diff_in">
    <pre>},success:function(b,a){if(a){a.destroy();}this.running=false;this.log(&quot;JSONP successfully retrieved: &quot;,b);this.fireEvent(&quot;complete&quot;,[b]).fireEvent(&quot;success&quot;,[b]).callChain();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">481</th>
  <td class="line-code diff_in">
    <pre>}});Request.JSONP.counter=0;Request.JSONP.request_map={};Request.Queue=new Class({Implements:[Options,Events],Binds:[&quot;attach&quot;,&quot;request&quot;,&quot;complete&quot;,&quot;cancel&quot;,&quot;success&quot;,&quot;failure&quot;,&quot;exception&quot;],options:{stopOnFailure:true,autoAdvance:true,concurrent:1,requests:{}},initialize:function(a){if(a){var b=a.requests;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">482</th>
  <td class="line-code diff_in">
    <pre>delete a.requests;}this.setOptions(a);this.requests=new Hash;this.queue=[];this.reqBinders={};if(b){this.addRequests(b);}},addRequest:function(a,b){this.requests.set(a,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">483</th>
  <td class="line-code diff_in">
    <pre>this.attach(a,b);return this;},addRequests:function(a){$each(a,function(c,b){this.addRequest(b,c);},this);return this;},getName:function(a){return this.requests.keyOf(a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">484</th>
  <td class="line-code diff_in">
    <pre>},attach:function(a,b){if(b._groupSend){return this;}[&quot;request&quot;,&quot;complete&quot;,&quot;cancel&quot;,&quot;success&quot;,&quot;failure&quot;,&quot;exception&quot;].each(function(c){if(!this.reqBinders[a]){this.reqBinders[a]={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">485</th>
  <td class="line-code diff_in">
    <pre>}this.reqBinders[a][c]=function(){this[&quot;on&quot;+c.capitalize()].apply(this,[a,b].extend(arguments));}.bind(this);b.addEvent(c,this.reqBinders[a][c]);},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">486</th>
  <td class="line-code diff_in">
    <pre>b._groupSend=b.send;b.send=function(c){this.send(a,c);return b;}.bind(this);return this;},removeRequest:function(b){var a=$type(b)==&quot;object&quot;?this.getName(b):b;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">487</th>
  <td class="line-code diff_in">
    <pre>if(!a&amp;&amp;$type(a)!=&quot;string&quot;){return this;}b=this.requests.get(a);if(!b){return this;}[&quot;request&quot;,&quot;complete&quot;,&quot;cancel&quot;,&quot;success&quot;,&quot;failure&quot;,&quot;exception&quot;].each(function(c){b.removeEvent(c,this.reqBinders[a][c]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">488</th>
  <td class="line-code diff_in">
    <pre>},this);b.send=b._groupSend;delete b._groupSend;return this;},getRunning:function(){return this.requests.filter(function(a){return a.running;});},isRunning:function(){return !!(this.getRunning().getKeys().length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">489</th>
  <td class="line-code diff_in">
    <pre>},send:function(b,a){var c=function(){this.requests.get(b)._groupSend(a);this.queue.erase(c);}.bind(this);c.name=b;if(this.getRunning().getKeys().length&gt;=this.options.concurrent||(this.error&amp;&amp;this.options.stopOnFailure)){this.queue.push(c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">490</th>
  <td class="line-code diff_in">
    <pre>}else{c();}return this;},hasNext:function(a){return(!a)?!!this.queue.length:!!this.queue.filter(function(b){return b.name==a;}).length;},resume:function(){this.error=false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">491</th>
  <td class="line-code diff_in">
    <pre>(this.options.concurrent-this.getRunning().getKeys().length).times(this.runNext,this);return this;},runNext:function(a){if(!this.queue.length){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">492</th>
  <td class="line-code diff_in">
    <pre>}if(!a){this.queue[0]();}else{var b;this.queue.each(function(c){if(!b&amp;&amp;c.name==a){b=true;c();}});}return this;},runAll:function(){this.queue.each(function(a){a();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">493</th>
  <td class="line-code diff_in">
    <pre>});return this;},clear:function(a){if(!a){this.queue.empty();}else{this.queue=this.queue.map(function(b){if(b.name!=a){return b;}else{return false;}}).filter(function(b){return b;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">494</th>
  <td class="line-code diff_in">
    <pre>});}return this;},cancel:function(a){this.requests.get(a).cancel();return this;},onRequest:function(){this.fireEvent(&quot;request&quot;,arguments);},onComplete:function(){this.fireEvent(&quot;complete&quot;,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">495</th>
  <td class="line-code diff_in">
    <pre>if(!this.queue.length){this.fireEvent(&quot;end&quot;);}},onCancel:function(){if(this.options.autoAdvance&amp;&amp;!this.error){this.runNext();}this.fireEvent(&quot;cancel&quot;,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">496</th>
  <td class="line-code diff_in">
    <pre>},onSuccess:function(){if(this.options.autoAdvance&amp;&amp;!this.error){this.runNext();}this.fireEvent(&quot;success&quot;,arguments);},onFailure:function(){this.error=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">497</th>
  <td class="line-code diff_in">
    <pre>if(!this.options.stopOnFailure&amp;&amp;this.options.autoAdvance){this.runNext();}this.fireEvent(&quot;failure&quot;,arguments);},onException:function(){this.error=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">498</th>
  <td class="line-code diff_in">
    <pre>if(!this.options.stopOnFailure&amp;&amp;this.options.autoAdvance){this.runNext();}this.fireEvent(&quot;exception&quot;,arguments);}});Request.implement({options:{initialDelay:5000,delay:5000,limit:60000},startTimer:function(b){var a=function(){if(!this.running){this.send({data:b});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">499</th>
  <td class="line-code diff_in">
    <pre>}};this.timer=a.delay(this.options.initialDelay,this);this.lastDelay=this.options.initialDelay;this.completeCheck=function(c){$clear(this.timer);this.lastDelay=(c)?this.options.delay:(this.lastDelay+this.options.delay).min(this.options.limit);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">500</th>
  <td class="line-code diff_in">
    <pre>this.timer=a.delay(this.lastDelay,this);};return this.addEvent(&quot;complete&quot;,this.completeCheck);},stopTimer:function(){$clear(this.timer);return this.removeEvent(&quot;complete&quot;,this.completeCheck);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">501</th>
  <td class="line-code diff_in">
    <pre>}});var Asset={javascript:function(f,d){d=$extend({onload:$empty,document:document,check:$lambda(true)},d);var b=new Element(&quot;script&quot;,{src:f,type:&quot;text/javascript&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">502</th>
  <td class="line-code diff_in">
    <pre>var e=d.onload.bind(b),a=d.check,g=d.document;delete d.onload;delete d.check;delete d.document;b.addEvents({load:e,readystatechange:function(){if([&quot;loaded&quot;,&quot;complete&quot;].contains(this.readyState)){e();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">503</th>
  <td class="line-code diff_in">
    <pre>}}}).set(d);if(Browser.Engine.webkit419){var c=(function(){if(!$try(a)){return;}$clear(c);e();}).periodical(50);}return b.inject(g.head);},css:function(b,a){return new Element(&quot;link&quot;,$merge({rel:&quot;stylesheet&quot;,media:&quot;screen&quot;,type:&quot;text/css&quot;,href:b},a)).inject(document.head);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">504</th>
  <td class="line-code diff_in">
    <pre>},image:function(c,b){b=$merge({onload:$empty,onabort:$empty,onerror:$empty},b);var d=new Image();var a=document.id(d)||new Element(&quot;img&quot;);[&quot;load&quot;,&quot;abort&quot;,&quot;error&quot;].each(function(e){var f=&quot;on&quot;+e;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">505</th>
  <td class="line-code diff_in">
    <pre>var g=b[f];delete b[f];d[f]=function(){if(!d){return;}if(!a.parentNode){a.width=d.width;a.height=d.height;}d=d.onload=d.onabort=d.onerror=null;g.delay(1,a,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">506</th>
  <td class="line-code diff_in">
    <pre>a.fireEvent(e,a,1);};});d.src=a.src=c;if(d&amp;&amp;d.complete){d.onload.delay(1);}return a.set(b);},images:function(d,c){c=$merge({onComplete:$empty,onProgress:$empty,onError:$empty,properties:{}},c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">507</th>
  <td class="line-code diff_in">
    <pre>d=$splat(d);var a=[];var b=0;return new Elements(d.map(function(e){return Asset.image(e,$extend(c.properties,{onload:function(){c.onProgress.call(this,b,d.indexOf(e));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">508</th>
  <td class="line-code diff_in">
    <pre>b++;if(b==d.length){c.onComplete();}},onerror:function(){c.onError.call(this,b,d.indexOf(e));b++;if(b==d.length){c.onComplete();}}}));}));}};var Color=new Native({initialize:function(b,c){if(arguments.length&gt;=3){c=&quot;rgb&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">509</th>
  <td class="line-code diff_in">
    <pre>b=Array.slice(arguments,0,3);}else{if(typeof b==&quot;string&quot;){if(b.match(/rgb/)){b=b.rgbToHex().hexToRgb(true);}else{if(b.match(/hsb/)){b=b.hsbToRgb();}else{b=b.hexToRgb(true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">510</th>
  <td class="line-code diff_in">
    <pre>}}}}c=c||&quot;rgb&quot;;switch(c){case&quot;hsb&quot;:var a=b;b=b.hsbToRgb();b.hsb=a;break;case&quot;hex&quot;:b=b.hexToRgb(true);break;}b.rgb=b.slice(0,3);b.hsb=b.hsb||b.rgbToHsb();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">511</th>
  <td class="line-code diff_in">
    <pre>b.hex=b.rgbToHex();return $extend(b,this);}});Color.implement({mix:function(){var a=Array.slice(arguments);var c=($type(a.getLast())==&quot;number&quot;)?a.pop():50;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">512</th>
  <td class="line-code diff_in">
    <pre>var b=this.slice();a.each(function(d){d=new Color(d);for(var e=0;e&lt;3;e++){b[e]=Math.round((b[e]/100*(100-c))+(d[e]/100*c));}});return new Color(b,&quot;rgb&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">513</th>
  <td class="line-code diff_in">
    <pre>},invert:function(){return new Color(this.map(function(a){return 255-a;}));},setHue:function(a){return new Color([a,this.hsb[1],this.hsb[2]],&quot;hsb&quot;);},setSaturation:function(a){return new Color([this.hsb[0],a,this.hsb[2]],&quot;hsb&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">514</th>
  <td class="line-code diff_in">
    <pre>},setBrightness:function(a){return new Color([this.hsb[0],this.hsb[1],a],&quot;hsb&quot;);}});var $RGB=function(d,c,a){return new Color([d,c,a],&quot;rgb&quot;);};var $HSB=function(d,c,a){return new Color([d,c,a],&quot;hsb&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">515</th>
  <td class="line-code diff_in">
    <pre>};var $HEX=function(a){return new Color(a,&quot;hex&quot;);};Array.implement({rgbToHsb:function(){var b=this[0],c=this[1],j=this[2],g=0;var i=Math.max(b,c,j),e=Math.min(b,c,j);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">516</th>
  <td class="line-code diff_in">
    <pre>var k=i-e;var h=i/255,f=(i!=0)?k/i:0;if(f!=0){var d=(i-b)/k;var a=(i-c)/k;var l=(i-j)/k;if(b==i){g=l-a;}else{if(c==i){g=2+d-l;}else{g=4+a-d;}}g/=6;if(g&lt;0){g++;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">517</th>
  <td class="line-code diff_in">
    <pre>}}return[Math.round(g*360),Math.round(f*100),Math.round(h*100)];},hsbToRgb:function(){var c=Math.round(this[2]/100*255);if(this[1]==0){return[c,c,c];}else{var a=this[0]%360;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">518</th>
  <td class="line-code diff_in">
    <pre>var e=a%60;var g=Math.round((this[2]*(100-this[1]))/10000*255);var d=Math.round((this[2]*(6000-this[1]*e))/600000*255);var b=Math.round((this[2]*(6000-this[1]*(60-e)))/600000*255);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">519</th>
  <td class="line-code diff_in">
    <pre>switch(Math.floor(a/60)){case 0:return[c,b,g];case 1:return[d,c,g];case 2:return[g,c,b];case 3:return[g,d,c];case 4:return[b,g,c];case 5:return[c,g,d];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">520</th>
  <td class="line-code diff_in">
    <pre>}}return false;}});String.implement({rgbToHsb:function(){var a=this.match(/\d{1,3}/g);return(a)?a.rgbToHsb():null;},hsbToRgb:function(){var a=this.match(/\d{1,3}/g);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">521</th>
  <td class="line-code diff_in">
    <pre>return(a)?a.hsbToRgb():null;}});var Group=new Class({initialize:function(){this.instances=Array.flatten(arguments);this.events={};this.checker={};},addEvent:function(b,a){this.checker[b]=this.checker[b]||{};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">522</th>
  <td class="line-code diff_in">
    <pre>this.events[b]=this.events[b]||[];if(this.events[b].contains(a)){return false;}else{this.events[b].push(a);}this.instances.each(function(c,d){c.addEvent(b,this.check.bind(this,[b,c,d]));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">523</th>
  <td class="line-code diff_in">
    <pre>},this);return this;},check:function(c,a,b){this.checker[c][b]=true;var d=this.instances.every(function(f,e){return this.checker[c][e]||false;},this);if(!d){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">524</th>
  <td class="line-code diff_in">
    <pre>}this.checker[c]={};this.events[c].each(function(e){e.call(this,this.instances,a);},this);}});Hash.Cookie=new Class({Extends:Cookie,options:{autoSave:true},initialize:function(b,a){this.parent(b,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">525</th>
  <td class="line-code diff_in">
    <pre>this.load();},save:function(){var a=JSON.encode(this.hash);if(!a||a.length&gt;4096){return false;}if(a==&quot;{}&quot;){this.dispose();}else{this.write(a);}return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">526</th>
  <td class="line-code diff_in">
    <pre>},load:function(){this.hash=new Hash(JSON.decode(this.read(),true));return this;}});Hash.each(Hash.prototype,function(b,a){if(typeof b==&quot;function&quot;){Hash.Cookie.implement(a,function(){var c=b.apply(this.hash,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">527</th>
  <td class="line-code diff_in">
    <pre>if(this.options.autoSave){this.save();}return c;});}});var IframeShim=new Class({Implements:[Options,Events,Class.Occlude],options:{className:&quot;iframeShim&quot;,src:'javascript:false;document.write(&quot;&quot;);',display:false,zIndex:null,margin:0,offset:{x:0,y:0},browsers:(Browser.Engine.trident4||(Browser.Engine.gecko&amp;&amp;!Browser.Engine.gecko19&amp;&amp;Browser.Platform.mac))},property:&quot;IframeShim&quot;,initialize:function(b,a){this.element=document.id(b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">528</th>
  <td class="line-code diff_in">
    <pre>if(this.occlude()){return this.occluded;}this.setOptions(a);this.makeShim();return this;},makeShim:function(){if(this.options.browsers){var c=this.element.getStyle(&quot;zIndex&quot;).toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">529</th>
  <td class="line-code diff_in">
    <pre>if(!c){c=1;var b=this.element.getStyle(&quot;position&quot;);if(b==&quot;static&quot;||!b){this.element.setStyle(&quot;position&quot;,&quot;relative&quot;);}this.element.setStyle(&quot;zIndex&quot;,c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">530</th>
  <td class="line-code diff_in">
    <pre>}c=($chk(this.options.zIndex)&amp;&amp;c&gt;this.options.zIndex)?this.options.zIndex:c-1;if(c&lt;0){c=1;}this.shim=new Element(&quot;iframe&quot;,{src:this.options.src,scrolling:&quot;no&quot;,frameborder:0,styles:{zIndex:c,position:&quot;absolute&quot;,border:&quot;none&quot;,filter:&quot;progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)&quot;},&quot;class&quot;:this.options.className}).store(&quot;IframeShim&quot;,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">531</th>
  <td class="line-code diff_in">
    <pre>var a=(function(){this.shim.inject(this.element,&quot;after&quot;);this[this.options.display?&quot;show&quot;:&quot;hide&quot;]();this.fireEvent(&quot;inject&quot;);}).bind(this);if(IframeShim.ready){window.addEvent(&quot;load&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">532</th>
  <td class="line-code diff_in">
    <pre>}else{a();}}else{this.position=this.hide=this.show=this.dispose=$lambda(this);}},position:function(){if(!IframeShim.ready||!this.shim){return this;}var a=this.element.measure(function(){return this.getSize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">533</th>
  <td class="line-code diff_in">
    <pre>});if(this.options.margin!=undefined){a.x=a.x-(this.options.margin*2);a.y=a.y-(this.options.margin*2);this.options.offset.x+=this.options.margin;this.options.offset.y+=this.options.margin;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">534</th>
  <td class="line-code diff_in">
    <pre>}this.shim.set({width:a.x,height:a.y}).position({relativeTo:this.element,offset:this.options.offset});return this;},hide:function(){if(this.shim){this.shim.setStyle(&quot;display&quot;,&quot;none&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">535</th>
  <td class="line-code diff_in">
    <pre>}return this;},show:function(){if(this.shim){this.shim.setStyle(&quot;display&quot;,&quot;block&quot;);}return this.position();},dispose:function(){if(this.shim){this.shim.dispose();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">536</th>
  <td class="line-code diff_in">
    <pre>}return this;},destroy:function(){if(this.shim){this.shim.destroy();}return this;}});window.addEvent(&quot;load&quot;,function(){IframeShim.ready=true;});var HtmlTable=new Class({Implements:[Options,Events,Class.Occlude],options:{properties:{cellpadding:0,cellspacing:0,border:0},rows:[],headers:[],footers:[]},property:&quot;HtmlTable&quot;,initialize:function(){var a=Array.link(arguments,{options:Object.type,table:Element.type});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">537</th>
  <td class="line-code diff_in">
    <pre>this.setOptions(a.options);this.element=a.table||new Element(&quot;table&quot;,this.options.properties);if(this.occlude()){return this.occluded;}this.build();},build:function(){this.element.store(&quot;HtmlTable&quot;,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">538</th>
  <td class="line-code diff_in">
    <pre>this.body=document.id(this.element.tBodies[0])||new Element(&quot;tbody&quot;).inject(this.element);$$(this.body.rows);if(this.options.headers.length){this.setHeaders(this.options.headers);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">539</th>
  <td class="line-code diff_in">
    <pre>}else{this.thead=document.id(this.element.tHead);}if(this.thead){this.head=document.id(this.thead.rows[0]);}if(this.options.footers.length){this.setFooters(this.options.footers);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">540</th>
  <td class="line-code diff_in">
    <pre>}this.tfoot=document.id(this.element.tFoot);if(this.tfoot){this.foot=document.id(this.thead.rows[0]);}this.options.rows.each(function(a){this.push(a);},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">541</th>
  <td class="line-code diff_in">
    <pre>[&quot;adopt&quot;,&quot;inject&quot;,&quot;wraps&quot;,&quot;grab&quot;,&quot;replaces&quot;,&quot;dispose&quot;].each(function(a){this[a]=this.element[a].bind(this.element);},this);},toElement:function(){return this.element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">542</th>
  <td class="line-code diff_in">
    <pre>},empty:function(){this.body.empty();return this;},setHeaders:function(a){this.thead=(document.id(this.element.tHead)||new Element(&quot;thead&quot;).inject(this.element,&quot;top&quot;)).empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">543</th>
  <td class="line-code diff_in">
    <pre>this.push(a,this.thead,&quot;th&quot;);this.head=document.id(this.thead.rows[0]);return this;},setFooters:function(a){this.tfoot=(document.id(this.element.tFoot)||new Element(&quot;tfoot&quot;).inject(this.element,&quot;top&quot;)).empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">544</th>
  <td class="line-code diff_in">
    <pre>this.push(a,this.tfoot);this.foot=document.id(this.thead.rows[0]);return this;},push:function(d,c,a){var b=d.map(function(g){var h=new Element(a||&quot;td&quot;,g.properties),f=g.content||g||&quot;&quot;,e=document.id(f);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">545</th>
  <td class="line-code diff_in">
    <pre>if(e){h.adopt(e);}else{h.set(&quot;html&quot;,f);}return h;});return{tr:new Element(&quot;tr&quot;).inject(c||this.body).adopt(b),tds:b};}});HtmlTable=Class.refactor(HtmlTable,{options:{classZebra:&quot;table-tr-odd&quot;,zebra:true},initialize:function(){this.previous.apply(this,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">546</th>
  <td class="line-code diff_in">
    <pre>if(this.occluded){return this.occluded;}if(this.options.zebra){this.updateZebras();}},updateZebras:function(){Array.each(this.body.rows,this.zebra,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">547</th>
  <td class="line-code diff_in">
    <pre>},zebra:function(b,a){return b[((a%2)?&quot;remove&quot;:&quot;add&quot;)+&quot;Class&quot;](this.options.classZebra);},push:function(){var a=this.previous.apply(this,arguments);if(this.options.zebra){this.updateZebras();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">548</th>
  <td class="line-code diff_in">
    <pre>}return a;}});HtmlTable=Class.refactor(HtmlTable,{options:{sortIndex:0,sortReverse:false,parsers:[],defaultParser:&quot;string&quot;,classSortable:&quot;table-sortable&quot;,classHeadSort:&quot;table-th-sort&quot;,classHeadSortRev:&quot;table-th-sort-rev&quot;,classNoSort:&quot;table-th-nosort&quot;,classGroupHead:&quot;table-tr-group-head&quot;,classGroup:&quot;table-tr-group&quot;,classCellSort:&quot;table-td-sort&quot;,classSortSpan:&quot;table-th-sort-span&quot;,sortable:false},initialize:function(){this.previous.apply(this,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">549</th>
  <td class="line-code diff_in">
    <pre>if(this.occluded){return this.occluded;}this.sorted={index:null,dir:1};this.bound={headClick:this.headClick.bind(this)};this.sortSpans=new Elements();if(this.options.sortable){this.enableSort();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">550</th>
  <td class="line-code diff_in">
    <pre>if(this.options.sortIndex!=null){this.sort(this.options.sortIndex,this.options.sortReverse);}}},attachSorts:function(a){this.element[$pick(a,true)?&quot;addEvent&quot;:&quot;removeEvent&quot;](&quot;click:relay(th)&quot;,this.bound.headClick);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">551</th>
  <td class="line-code diff_in">
    <pre>},setHeaders:function(){this.previous.apply(this,arguments);if(this.sortEnabled){this.detectParsers();}},detectParsers:function(c){if(!this.head){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">552</th>
  <td class="line-code diff_in">
    <pre>}var a=this.options.parsers,b=this.body.rows;this.parsers=$$(this.head.cells).map(function(d,e){if(!c&amp;&amp;(d.hasClass(this.options.classNoSort)||d.retrieve(&quot;htmltable-sort&quot;))){return d.retrieve(&quot;htmltable-sort&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">553</th>
  <td class="line-code diff_in">
    <pre>}var g=new Element(&quot;span&quot;,{html:&quot;&amp;#160;&quot;,&quot;class&quot;:this.options.classSortSpan}).inject(d,&quot;top&quot;);this.sortSpans.push(g);var h=a[e],f;switch($type(h)){case&quot;function&quot;:h={convert:h};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">554</th>
  <td class="line-code diff_in">
    <pre>f=true;break;case&quot;string&quot;:h=h;f=true;break;}if(!f){HtmlTable.Parsers.some(function(n){var l=n.match;if(!l){return false;}if(Browser.Engine.trident){return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">555</th>
  <td class="line-code diff_in">
    <pre>}for(var m=0,k=b.length;m&lt;k;m++){var o=b[m].cells[e].get(&quot;html&quot;).clean();if(o&amp;&amp;l.test(o)){h=n;return true;}}});}if(!h){h=this.options.defaultParser;}d.store(&quot;htmltable-parser&quot;,h);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">556</th>
  <td class="line-code diff_in">
    <pre>return h;},this);},headClick:function(c,b){if(!this.head){return;}var a=Array.indexOf(this.head.cells,b);this.sort(a);return false;},sort:function(f,h,m){if(!this.head){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">557</th>
  <td class="line-code diff_in">
    <pre>}m=!!(m);var l=this.options.classCellSort;var o=this.options.classGroup,t=this.options.classGroupHead;if(!m){if(f!=null){if(this.sorted.index==f){this.sorted.reverse=!(this.sorted.reverse);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">558</th>
  <td class="line-code diff_in">
    <pre>}else{if(this.sorted.index!=null){this.sorted.reverse=false;this.head.cells[this.sorted.index].removeClass(this.options.classHeadSort).removeClass(this.options.classHeadSortRev);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">559</th>
  <td class="line-code diff_in">
    <pre>}else{this.sorted.reverse=true;}this.sorted.index=f;}}else{f=this.sorted.index;}if(h!=null){this.sorted.reverse=h;}var d=document.id(this.head.cells[f]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">560</th>
  <td class="line-code diff_in">
    <pre>if(d){d.addClass(this.options.classHeadSort);if(this.sorted.reverse){d.addClass(this.options.classHeadSortRev);}else{d.removeClass(this.options.classHeadSortRev);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">561</th>
  <td class="line-code diff_in">
    <pre>}}this.body.getElements(&quot;td&quot;).removeClass(this.options.classCellSort);}var c=this.parsers[f];if($type(c)==&quot;string&quot;){c=HtmlTable.Parsers.get(c);}if(!c){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">562</th>
  <td class="line-code diff_in">
    <pre>}if(!Browser.Engine.trident){var b=this.body.getParent();this.body.dispose();}var s=Array.map(this.body.rows,function(v,j){var u=c.convert.call(document.id(v.cells[f]));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">563</th>
  <td class="line-code diff_in">
    <pre>return{position:j,value:u,toString:function(){return u.toString();}};},this);s.reverse(true);s.sort(function(j,i){if(j.value===i.value){return 0;}return j.value&gt;i.value?1:-1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">564</th>
  <td class="line-code diff_in">
    <pre>});if(!this.sorted.reverse){s.reverse(true);}var p=s.length,k=this.body;var n,r,a,g;while(p){var q=s[--p];r=q.position;var e=k.rows[r];if(e.disabled){continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">565</th>
  <td class="line-code diff_in">
    <pre>}if(!m){if(g===q.value){e.removeClass(t).addClass(o);}else{g=q.value;e.removeClass(o).addClass(t);}if(this.zebra){this.zebra(e,p);}e.cells[f].addClass(l);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">566</th>
  <td class="line-code diff_in">
    <pre>}k.appendChild(e);for(n=0;n&lt;p;n++){if(s[n].position&gt;r){s[n].position--;}}}s=null;if(b){b.grab(k);}return this.fireEvent(&quot;sort&quot;,[k,f]);},reSort:function(){if(this.sortEnabled){this.sort.call(this,this.sorted.index,this.sorted.reverse);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">567</th>
  <td class="line-code diff_in">
    <pre>}return this;},enableSort:function(){this.element.addClass(this.options.classSortable);this.attachSorts(true);this.detectParsers();this.sortEnabled=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">568</th>
  <td class="line-code diff_in">
    <pre>return this;},disableSort:function(){this.element.remove(this.options.classSortable);this.attachSorts(false);this.sortSpans.each(function(a){a.destroy();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">569</th>
  <td class="line-code diff_in">
    <pre>});this.sortSpans.empty();this.sortEnabled=false;return this;}});HtmlTable.Parsers=new Hash({date:{match:/^\d{2}[-\/ ]\d{2}[-\/ ]\d{2,4}$/,convert:function(){return Date.parse(this.get(&quot;text&quot;).format(&quot;db&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">570</th>
  <td class="line-code diff_in">
    <pre>},type:&quot;date&quot;},&quot;input-checked&quot;:{match:/ type=&quot;(radio|checkbox)&quot; /,convert:function(){return this.getElement(&quot;input&quot;).checked;}},&quot;input-value&quot;:{match:/&lt;input/,convert:function(){return this.getElement(&quot;input&quot;).value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">571</th>
  <td class="line-code diff_in">
    <pre>}},number:{match:/^\d+[^\d.,]*$/,convert:function(){return this.get(&quot;text&quot;).toInt();},number:true},numberLax:{match:/^[^\d]+\d+$/,convert:function(){return this.get(&quot;text&quot;).replace(/[^-?^0-9]/,&quot;&quot;).toInt();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">572</th>
  <td class="line-code diff_in">
    <pre>},number:true},&quot;float&quot;:{match:/^[\d]+\.[\d]+/,convert:function(){return this.get(&quot;text&quot;).replace(/[^-?^\d.]/,&quot;&quot;).toFloat();},number:true},floatLax:{match:/^[^\d]+[\d]+\.[\d]+$/,convert:function(){return this.get(&quot;text&quot;).replace(/[^-?^\d.]/,&quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">573</th>
  <td class="line-code diff_in">
    <pre>},number:true},string:{match:null,convert:function(){return this.get(&quot;text&quot;);}},title:{match:null,convert:function(){return this.title;}}});HtmlTable=Class.refactor(HtmlTable,{options:{useKeyboard:true,classRowSelected:&quot;table-tr-selected&quot;,classRowHovered:&quot;table-tr-hovered&quot;,classSelectable:&quot;table-selectable&quot;,allowMultiSelect:true,selectable:false},initialize:function(){this.previous.apply(this,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">574</th>
  <td class="line-code diff_in">
    <pre>if(this.occluded){return this.occluded;}this.selectedRows=new Elements();this.bound={mouseleave:this.mouseleave.bind(this),focusRow:this.focusRow.bind(this)};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">575</th>
  <td class="line-code diff_in">
    <pre>if(this.options.selectable){this.enableSelect();}},enableSelect:function(){this.selectEnabled=true;this.attachSelects();this.element.addClass(this.options.classSelectable);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">576</th>
  <td class="line-code diff_in">
    <pre>},disableSelect:function(){this.selectEnabled=false;this.attach(false);this.element.removeClass(this.options.classSelectable);},attachSelects:function(a){a=$pick(a,true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">577</th>
  <td class="line-code diff_in">
    <pre>var b=a?&quot;addEvents&quot;:&quot;removeEvents&quot;;this.element[b]({mouseleave:this.bound.mouseleave});this.body[b]({&quot;click:relay(tr)&quot;:this.bound.focusRow});if(this.options.useKeyboard||this.keyboard){if(!this.keyboard){this.keyboard=new Keyboard({events:{down:function(c){c.preventDefault();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">578</th>
  <td class="line-code diff_in">
    <pre>this.shiftFocus(1);}.bind(this),up:function(c){c.preventDefault();this.shiftFocus(-1);}.bind(this),enter:function(c){c.preventDefault();if(this.hover){this.focusRow(this.hover);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">579</th>
  <td class="line-code diff_in">
    <pre>}}.bind(this)},active:true});}this.keyboard[a?&quot;activate&quot;:&quot;deactivate&quot;]();}this.updateSelects();},mouseleave:function(){if(this.hover){this.leaveRow(this.hover);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">580</th>
  <td class="line-code diff_in">
    <pre>}},focus:function(){if(this.keyboard){this.keyboard.activate();}},blur:function(){if(this.keyboard){this.keyboard.deactivate();}},push:function(){var a=this.previous.apply(this,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">581</th>
  <td class="line-code diff_in">
    <pre>this.updateSelects();return a;},updateSelects:function(){Array.each(this.body.rows,function(a){var b=a.retrieve(&quot;binders&quot;);if((b&amp;&amp;this.selectEnabled)||(!b&amp;&amp;!this.selectEnabled)){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">582</th>
  <td class="line-code diff_in">
    <pre>}if(!b){b={mouseenter:this.enterRow.bind(this,[a]),mouseleave:this.leaveRow.bind(this,[a])};a.store(&quot;binders&quot;,b).addEvents(b);}else{a.removeEvents(b);}},this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">583</th>
  <td class="line-code diff_in">
    <pre>},enterRow:function(a){if(this.hover){this.hover=this.leaveRow(this.hover);}this.hover=a.addClass(this.options.classRowHovered);},shiftFocus:function(a){if(!this.hover){return this.enterRow(this.body.rows[0]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">584</th>
  <td class="line-code diff_in">
    <pre>}var b=Array.indexOf(this.body.rows,this.hover)+a;if(b&lt;0){b=0;}if(b&gt;=this.body.rows.length){b=this.body.rows.length-1;}if(this.hover==this.body.rows[b]){return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">585</th>
  <td class="line-code diff_in">
    <pre>}this.enterRow(this.body.rows[b]);},leaveRow:function(a){a.removeClass(this.options.classRowHovered);},focusRow:function(){var b=arguments[1]||arguments[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">586</th>
  <td class="line-code diff_in">
    <pre>if(!this.body.getChildren().contains(b)){return;}var a=function(c){this.selectedRows.erase(c);c.removeClass(this.options.classRowSelected);this.fireEvent(&quot;rowUnfocus&quot;,[c,this.selectedRows]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">587</th>
  <td class="line-code diff_in">
    <pre>}.bind(this);if(!this.options.allowMultiSelect){this.selectedRows.each(a);}if(!this.selectedRows.contains(b)){this.selectedRows.push(b);b.addClass(this.options.classRowSelected);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">588</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;rowFocus&quot;,[b,this.selectedRows]);}else{a(b);}return false;},selectAll:function(a){a=$pick(a,true);if(!this.options.allowMultiSelect&amp;&amp;a){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">589</th>
  <td class="line-code diff_in">
    <pre>}if(!a){this.selectedRows.removeClass(this.options.classRowSelected).empty();}else{this.selectedRows.combine(this.body.rows).addClass(this.options.classRowSelected);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">590</th>
  <td class="line-code diff_in">
    <pre>}return this;},selectNone:function(){return this.selectAll(false);}});(function(){var a={};var b=[&quot;shift&quot;,&quot;control&quot;,&quot;alt&quot;,&quot;meta&quot;];var d=/^(?:shift|control|ctrl|alt|meta)$/;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">591</th>
  <td class="line-code diff_in">
    <pre>var e=function(i,h){i=i.toLowerCase().replace(/^(keyup|keydown):/,function(l,k){h=k;return&quot;&quot;;});if(!a[i]){var g=&quot;&quot;,j={};i.split(&quot;+&quot;).each(function(k){if(d.test(k)){j[k]=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">592</th>
  <td class="line-code diff_in">
    <pre>}else{g=k;}});j.control=j.control||j.ctrl;var f=&quot;&quot;;b.each(function(k){if(j[k]){f+=k+&quot;+&quot;;}});a[i]=f+g;}return h+&quot;:&quot;+a[i];};this.Keyboard=new Class({Extends:Events,Implements:[Options,Log],options:{defaultEventType:&quot;keydown&quot;,active:false,events:{}},initialize:function(f){this.setOptions(f);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">593</th>
  <td class="line-code diff_in">
    <pre>if(Keyboard.manager){Keyboard.manager.manage(this);}this.setup();},setup:function(){this.addEvents(this.options.events);if(this.options.active){this.activate();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">594</th>
  <td class="line-code diff_in">
    <pre>}},handle:function(h,g){if(!this.active||h.preventKeyboardPropagation){return;}var f=!!this.manager;if(f&amp;&amp;this.activeKB){this.activeKB.handle(h,g);if(h.preventKeyboardPropagation){return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">595</th>
  <td class="line-code diff_in">
    <pre>}}this.fireEvent(g,h);if(!f&amp;&amp;this.activeKB){this.activeKB.handle(h,g);}},addEvent:function(h,g,f){return this.parent(e(h,this.options.defaultEventType),g,f);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">596</th>
  <td class="line-code diff_in">
    <pre>},removeEvent:function(g,f){return this.parent(e(g,this.options.defaultEventType),f);},activate:function(){this.active=true;return this.enable();},deactivate:function(){this.active=false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">597</th>
  <td class="line-code diff_in">
    <pre>return this.fireEvent(&quot;deactivate&quot;);},toggleActive:function(){return this[this.active?&quot;deactivate&quot;:&quot;activate&quot;]();},enable:function(f){if(f){if(f!=this.activeKB){this.previous=this.activeKB;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">598</th>
  <td class="line-code diff_in">
    <pre>}this.activeKB=f.fireEvent(&quot;activate&quot;);}else{if(this.manager){this.manager.enable(this);}}return this;},relenquish:function(){if(this.previous){this.enable(this.previous);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">599</th>
  <td class="line-code diff_in">
    <pre>}},manage:function(f){if(f.manager){f.manager.drop(f);}this.instances.push(f);f.manager=this;if(!this.activeKB){this.enable(f);}else{this._disable(f);}},_disable:function(f){if(this.activeKB==f){this.activeKB=null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">600</th>
  <td class="line-code diff_in">
    <pre>}},drop:function(f){this._disable(f);this.instances.erase(f);},instances:[],trace:function(){this.enableLog();var f=this;this.log(&quot;the following items have focus: &quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">601</th>
  <td class="line-code diff_in">
    <pre>while(f){this.log(document.id(f.widget)||f.widget||f,&quot;active: &quot;+this.active);f=f.activeKB;}}});Keyboard.stop=function(f){f.preventKeyboardPropagation=true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">602</th>
  <td class="line-code diff_in">
    <pre>};Keyboard.manager=new this.Keyboard({active:true});Keyboard.trace=function(){Keyboard.manager.trace();};var c=function(g){var f=&quot;&quot;;b.each(function(h){if(g[h]){f+=h+&quot;+&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">603</th>
  <td class="line-code diff_in">
    <pre>}});Keyboard.manager.handle(g,g.type+&quot;:&quot;+f+g.key);};document.addEvents({keyup:c,keydown:c});Event.Keys.extend({pageup:33,pagedown:34,end:35,home:36,capslock:20,numlock:144,scrolllock:145});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">604</th>
  <td class="line-code diff_in">
    <pre>})();var Mask=new Class({Implements:[Options,Events],Binds:[&quot;resize&quot;],options:{style:{},&quot;class&quot;:&quot;mask&quot;,maskMargins:false,useIframeShim:true},initialize:function(b,a){this.target=document.id(b)||document.body;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">605</th>
  <td class="line-code diff_in">
    <pre>this.target.store(&quot;mask&quot;,this);this.setOptions(a);this.render();this.inject();},render:function(){this.element=new Element(&quot;div&quot;,{&quot;class&quot;:this.options[&quot;class&quot;],id:this.options.id||&quot;mask-&quot;+$time(),styles:$merge(this.options.style,{display:&quot;none&quot;}),events:{click:function(){this.fireEvent(&quot;click&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">606</th>
  <td class="line-code diff_in">
    <pre>if(this.options.hideOnClick){this.hide();}}.bind(this)}});this.hidden=true;},toElement:function(){return this.element;},inject:function(b,a){a=a||this.options.inject?this.options.inject.where:&quot;&quot;||this.target==document.body?&quot;inside&quot;:&quot;after&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">607</th>
  <td class="line-code diff_in">
    <pre>b=b||this.options.inject?this.options.inject.target:&quot;&quot;||this.target;this.element.inject(b,a);if(this.options.useIframeShim){this.shim=new IframeShim(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">608</th>
  <td class="line-code diff_in">
    <pre>this.addEvents({show:this.shim.show.bind(this.shim),hide:this.shim.hide.bind(this.shim),destroy:this.shim.destroy.bind(this.shim)});}},position:function(){this.resize(this.options.width,this.options.height);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">609</th>
  <td class="line-code diff_in">
    <pre>this.element.position({relativeTo:this.target,position:&quot;topLeft&quot;,ignoreMargins:!this.options.maskMargins,ignoreScroll:this.target==document.body});return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">610</th>
  <td class="line-code diff_in">
    <pre>},resize:function(a,e){var b={styles:[&quot;padding&quot;,&quot;border&quot;]};if(this.options.maskMargins){b.styles.push(&quot;margin&quot;);}var d=this.target.getComputedSize(b);if(this.target==document.body){var c=window.getSize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">611</th>
  <td class="line-code diff_in">
    <pre>if(d.totalHeight&lt;c.y){d.totalHeight=c.y;}if(d.totalWidth&lt;c.x){d.totalWidth=c.x;}}this.element.setStyles({width:$pick(a,d.totalWidth,d.x),height:$pick(e,d.totalHeight,d.y)});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">612</th>
  <td class="line-code diff_in">
    <pre>return this;},show:function(){if(!this.hidden){return this;}this.target.addEvent(&quot;resize&quot;,this.resize);if(this.target!=document.body){document.id(document.body).addEvent(&quot;resize&quot;,this.resize);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">613</th>
  <td class="line-code diff_in">
    <pre>}this.position();this.showMask.apply(this,arguments);return this;},showMask:function(){this.element.setStyle(&quot;display&quot;,&quot;block&quot;);this.hidden=false;this.fireEvent(&quot;show&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">614</th>
  <td class="line-code diff_in">
    <pre>},hide:function(){if(this.hidden){return this;}this.target.removeEvent(&quot;resize&quot;,this.resize);this.hideMask.apply(this,arguments);if(this.options.destroyOnHide){return this.destroy();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">615</th>
  <td class="line-code diff_in">
    <pre>}return this;},hideMask:function(){this.element.setStyle(&quot;display&quot;,&quot;none&quot;);this.hidden=true;this.fireEvent(&quot;hide&quot;);},toggle:function(){this[this.hidden?&quot;show&quot;:&quot;hide&quot;]();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">616</th>
  <td class="line-code diff_in">
    <pre>},destroy:function(){this.hide();this.element.destroy();this.fireEvent(&quot;destroy&quot;);this.target.eliminate(&quot;mask&quot;);}});Element.Properties.mask={set:function(b){var a=this.retrieve(&quot;mask&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">617</th>
  <td class="line-code diff_in">
    <pre>return this.eliminate(&quot;mask&quot;).store(&quot;mask:options&quot;,b);},get:function(a){if(a||!this.retrieve(&quot;mask&quot;)){if(this.retrieve(&quot;mask&quot;)){this.retrieve(&quot;mask&quot;).destroy();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">618</th>
  <td class="line-code diff_in">
    <pre>}if(a||!this.retrieve(&quot;mask:options&quot;)){this.set(&quot;mask&quot;,a);}this.store(&quot;mask&quot;,new Mask(this,this.retrieve(&quot;mask:options&quot;)));}return this.retrieve(&quot;mask&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">619</th>
  <td class="line-code diff_in">
    <pre>}};Element.implement({mask:function(a){this.get(&quot;mask&quot;,a).show();return this;},unmask:function(){this.get(&quot;mask&quot;).hide();return this;}});var Scroller=new Class({Implements:[Events,Options],options:{area:20,velocity:1,onChange:function(a,b){this.element.scrollTo(a,b);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">620</th>
  <td class="line-code diff_in">
    <pre>},fps:50},initialize:function(b,a){this.setOptions(a);this.element=document.id(b);this.listener=($type(this.element)!=&quot;element&quot;)?document.id(this.element.getDocument().body):this.element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">621</th>
  <td class="line-code diff_in">
    <pre>this.timer=null;this.bound={attach:this.attach.bind(this),detach:this.detach.bind(this),getCoords:this.getCoords.bind(this)};},start:function(){this.listener.addEvents({mouseover:this.bound.attach,mouseout:this.bound.detach});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">622</th>
  <td class="line-code diff_in">
    <pre>},stop:function(){this.listener.removeEvents({mouseover:this.bound.attach,mouseout:this.bound.detach});this.detach();this.timer=$clear(this.timer);},attach:function(){this.listener.addEvent(&quot;mousemove&quot;,this.bound.getCoords);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">623</th>
  <td class="line-code diff_in">
    <pre>},detach:function(){this.listener.removeEvent(&quot;mousemove&quot;,this.bound.getCoords);this.timer=$clear(this.timer);},getCoords:function(a){this.page=(this.listener.get(&quot;tag&quot;)==&quot;body&quot;)?a.client:a.page;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">624</th>
  <td class="line-code diff_in">
    <pre>if(!this.timer){this.timer=this.scroll.periodical(Math.round(1000/this.options.fps),this);}},scroll:function(){var b=this.element.getSize(),a=this.element.getScroll(),f=this.element.getOffsets(),c=this.element.getScrollSize(),e={x:0,y:0};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">625</th>
  <td class="line-code diff_in">
    <pre>for(var d in this.page){if(this.page[d]&lt;(this.options.area+f[d])&amp;&amp;a[d]!=0){e[d]=(this.page[d]-this.options.area-f[d])*this.options.velocity;}else{if(this.page[d]+this.options.area&gt;(b[d]+f[d])&amp;&amp;a[d]+b[d]!=c[d]){e[d]=(this.page[d]-b[d]+this.options.area-f[d])*this.options.velocity;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">626</th>
  <td class="line-code diff_in">
    <pre>}}}if(e.y||e.x){this.fireEvent(&quot;change&quot;,[a.x+e.x,a.y+e.y]);}}});(function(){var a=function(c,b){return(c)?($type(c)==&quot;function&quot;?c(b):b.get(c)):&quot;&quot;;};this.Tips=new Class({Implements:[Events,Options],options:{onShow:function(){this.tip.setStyle(&quot;display&quot;,&quot;block&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">627</th>
  <td class="line-code diff_in">
    <pre>},onHide:function(){this.tip.setStyle(&quot;display&quot;,&quot;none&quot;);},title:&quot;title&quot;,text:function(b){return b.get(&quot;rel&quot;)||b.get(&quot;href&quot;);},showDelay:100,hideDelay:100,className:&quot;tip-wrap&quot;,offset:{x:16,y:16},fixed:false},initialize:function(){var b=Array.link(arguments,{options:Object.type,elements:$defined});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">628</th>
  <td class="line-code diff_in">
    <pre>this.setOptions(b.options);document.id(this);if(b.elements){this.attach(b.elements);}},toElement:function(){if(this.tip){return this.tip;}this.container=new Element(&quot;div&quot;,{&quot;class&quot;:&quot;tip&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">629</th>
  <td class="line-code diff_in">
    <pre>return this.tip=new Element(&quot;div&quot;,{&quot;class&quot;:this.options.className,styles:{position:&quot;absolute&quot;,top:0,left:0}}).adopt(new Element(&quot;div&quot;,{&quot;class&quot;:&quot;tip-top&quot;}),this.container,new Element(&quot;div&quot;,{&quot;class&quot;:&quot;tip-bottom&quot;})).inject(document.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">630</th>
  <td class="line-code diff_in">
    <pre>},attach:function(b){$$(b).each(function(d){var f=a(this.options.title,d),e=a(this.options.text,d);d.erase(&quot;title&quot;).store(&quot;tip:native&quot;,f).retrieve(&quot;tip:title&quot;,f);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">631</th>
  <td class="line-code diff_in">
    <pre>d.retrieve(&quot;tip:text&quot;,e);this.fireEvent(&quot;attach&quot;,[d]);var c=[&quot;enter&quot;,&quot;leave&quot;];if(!this.options.fixed){c.push(&quot;move&quot;);}c.each(function(h){var g=d.retrieve(&quot;tip:&quot;+h);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">632</th>
  <td class="line-code diff_in">
    <pre>if(!g){g=this[&quot;element&quot;+h.capitalize()].bindWithEvent(this,d);}d.store(&quot;tip:&quot;+h,g).addEvent(&quot;mouse&quot;+h,g);},this);},this);return this;},detach:function(b){$$(b).each(function(d){[&quot;enter&quot;,&quot;leave&quot;,&quot;move&quot;].each(function(e){d.removeEvent(&quot;mouse&quot;+e,d.retrieve(&quot;tip:&quot;+e)).eliminate(&quot;tip:&quot;+e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">633</th>
  <td class="line-code diff_in">
    <pre>});this.fireEvent(&quot;detach&quot;,[d]);if(this.options.title==&quot;title&quot;){var c=d.retrieve(&quot;tip:native&quot;);if(c){d.set(&quot;title&quot;,c);}}},this);return this;},elementEnter:function(c,b){this.container.empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">634</th>
  <td class="line-code diff_in">
    <pre>[&quot;title&quot;,&quot;text&quot;].each(function(e){var d=b.retrieve(&quot;tip:&quot;+e);if(d){this.fill(new Element(&quot;div&quot;,{&quot;class&quot;:&quot;tip-&quot;+e}).inject(this.container),d);}},this);$clear(this.timer);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">635</th>
  <td class="line-code diff_in">
    <pre>this.timer=this.show.delay(this.options.showDelay,this,b);this.position((this.options.fixed)?{page:b.getPosition()}:c);},elementLeave:function(c,b){$clear(this.timer);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">636</th>
  <td class="line-code diff_in">
    <pre>this.timer=this.hide.delay(this.options.hideDelay,this,b);this.fireForParent(c,b);},fireForParent:function(c,b){if(!b||$type(b)!=&quot;element&quot;){return;}parentNode=b.getParent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">637</th>
  <td class="line-code diff_in">
    <pre>if(parentNode==document.body){return;}if(parentNode.retrieve(&quot;tip:enter&quot;)){parentNode.fireEvent(&quot;mouseenter&quot;,c);}else{this.fireForParent(parentNode,c);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">638</th>
  <td class="line-code diff_in">
    <pre>}},elementMove:function(c,b){this.position(c);},position:function(e){var c=window.getSize(),b=window.getScroll(),f={x:this.tip.offsetWidth,y:this.tip.offsetHeight},d={x:&quot;left&quot;,y:&quot;top&quot;},g={};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">639</th>
  <td class="line-code diff_in">
    <pre>for(var h in d){g[d[h]]=e.page[h]+this.options.offset[h];if((g[d[h]]+f[h]-b[h])&gt;c[h]){g[d[h]]=e.page[h]-this.options.offset[h]-f[h];}}this.tip.setStyles(g);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">640</th>
  <td class="line-code diff_in">
    <pre>},fill:function(b,c){if(typeof c==&quot;string&quot;){b.set(&quot;html&quot;,c);}else{b.adopt(c);}},show:function(b){this.fireEvent(&quot;show&quot;,[this.tip,b]);},hide:function(b){this.fireEvent(&quot;hide&quot;,[this.tip,b]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">641</th>
  <td class="line-code diff_in">
    <pre>}});})();var Spinner=new Class({Extends:Mask,options:{&quot;class&quot;:&quot;spinner&quot;,containerPosition:{},content:{&quot;class&quot;:&quot;spinner-content&quot;},messageContainer:{&quot;class&quot;:&quot;spinner-msg&quot;},img:{&quot;class&quot;:&quot;spinner-img&quot;},fxOptions:{link:&quot;chain&quot;}},initialize:function(){this.parent.apply(this,arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">642</th>
  <td class="line-code diff_in">
    <pre>this.target.store(&quot;spinner&quot;,this);var a=function(){this.active=false;}.bind(this);this.addEvents({hide:a,show:a});},render:function(){this.parent();this.element.set(&quot;id&quot;,this.options.id||&quot;spinner-&quot;+$time());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">643</th>
  <td class="line-code diff_in">
    <pre>this.content=document.id(this.options.content)||new Element(&quot;div&quot;,this.options.content);this.content.inject(this.element);if(this.options.message){this.msg=document.id(this.options.message)||new Element(&quot;p&quot;,this.options.messageContainer).appendText(this.options.message);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">644</th>
  <td class="line-code diff_in">
    <pre>this.msg.inject(this.content);}if(this.options.img){this.img=document.id(this.options.img)||new Element(&quot;div&quot;,this.options.img);this.img.inject(this.content);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">645</th>
  <td class="line-code diff_in">
    <pre>}this.element.set(&quot;tween&quot;,this.options.fxOptions);},show:function(a){if(this.active){return this.chain(this.show.bind(this));}if(!this.hidden){this.callChain.delay(20,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">646</th>
  <td class="line-code diff_in">
    <pre>return this;}this.active=true;return this.parent(a);},showMask:function(a){var b=function(){this.content.position($merge({relativeTo:this.element},this.options.containerPosition));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">647</th>
  <td class="line-code diff_in">
    <pre>}.bind(this);if(a){this.parent();b();}else{this.element.setStyles({display:&quot;block&quot;,opacity:0}).tween(&quot;opacity&quot;,this.options.style.opacity||0.9);b();this.hidden=false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">648</th>
  <td class="line-code diff_in">
    <pre>this.fireEvent(&quot;show&quot;);this.callChain();}},hide:function(a){if(this.active){return this.chain(this.hide.bind(this));}if(this.hidden){this.callChain.delay(20,this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">649</th>
  <td class="line-code diff_in">
    <pre>return this;}this.active=true;return this.parent(a);},hideMask:function(a){if(a){return this.parent();}this.element.tween(&quot;opacity&quot;,0).get(&quot;tween&quot;).chain(function(){this.element.setStyle(&quot;display&quot;,&quot;none&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">650</th>
  <td class="line-code diff_in">
    <pre>this.hidden=true;this.fireEvent(&quot;hide&quot;);this.callChain();}.bind(this));},destroy:function(){this.content.destroy();this.parent();this.target.eliminate(&quot;spinner&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">651</th>
  <td class="line-code diff_in">
    <pre>}});Spinner.implement(new Chain);if(window.Request){Request=Class.refactor(Request,{options:{useSpinner:false,spinnerOptions:{},spinnerTarget:false},initialize:function(a){this._send=this.send;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">652</th>
  <td class="line-code diff_in">
    <pre>this.send=function(c){if(this.spinner){this.spinner.chain(this._send.bind(this,c)).show();}else{this._send(c);}return this;};this.previous(a);var b=document.id(this.options.spinnerTarget)||document.id(this.options.update);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">653</th>
  <td class="line-code diff_in">
    <pre>if(this.options.useSpinner&amp;&amp;b){this.spinner=b.get(&quot;spinner&quot;,this.options.spinnerOptions);[&quot;onComplete&quot;,&quot;onException&quot;,&quot;onCancel&quot;].each(function(c){this.addEvent(c,this.spinner.hide.bind(this.spinner));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">654</th>
  <td class="line-code diff_in">
    <pre>},this);}},getSpinner:function(){return this.spinner;}});}Element.Properties.spinner={set:function(a){var b=this.retrieve(&quot;spinner&quot;);return this.eliminate(&quot;spinner&quot;).store(&quot;spinner:options&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">655</th>
  <td class="line-code diff_in">
    <pre>},get:function(a){if(a||!this.retrieve(&quot;spinner&quot;)){if(this.retrieve(&quot;spinner&quot;)){this.retrieve(&quot;spinner&quot;).destroy();}if(a||!this.retrieve(&quot;spinner:options&quot;)){this.set(&quot;spinner&quot;,a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">656</th>
  <td class="line-code diff_in">
    <pre>}new Spinner(this,this.retrieve(&quot;spinner:options&quot;));}return this.retrieve(&quot;spinner&quot;);}};Element.implement({spin:function(a){this.get(&quot;spinner&quot;,a).show();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">657</th>
  <td class="line-code diff_in">
    <pre>return this;},unspin:function(){var a=Array.link(arguments,{options:Object.type,callback:Function.type});this.get(&quot;spinner&quot;,a.options).hide(a.callback);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">658</th>
  <td class="line-code diff_in">
    <pre>return this;}});MooTools.lang.set(&quot;en-US&quot;,&quot;Date&quot;,{months:[&quot;January&quot;,&quot;February&quot;,&quot;March&quot;,&quot;April&quot;,&quot;May&quot;,&quot;June&quot;,&quot;July&quot;,&quot;August&quot;,&quot;September&quot;,&quot;October&quot;,&quot;November&quot;,&quot;December&quot;],days:[&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;],dateOrder:[&quot;month&quot;,&quot;date&quot;,&quot;year&quot;],shortDate:&quot;%m/%d/%Y&quot;,shortTime:&quot;%I:%M%p&quot;,AM:&quot;AM&quot;,PM:&quot;PM&quot;,ordinal:function(a){return(a&gt;3&amp;&amp;a&lt;21)?&quot;th&quot;:[&quot;th&quot;,&quot;st&quot;,&quot;nd&quot;,&quot;rd&quot;,&quot;th&quot;][Math.min(a%10,4)];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">659</th>
  <td class="line-code diff_in">
    <pre>},lessThanMinuteAgo:&quot;less than a minute ago&quot;,minuteAgo:&quot;about a minute ago&quot;,minutesAgo:&quot;{delta} minutes ago&quot;,hourAgo:&quot;about an hour ago&quot;,hoursAgo:&quot;about {delta} hours ago&quot;,dayAgo:&quot;1 day ago&quot;,daysAgo:&quot;{delta} days ago&quot;,weekAgo:&quot;1 week ago&quot;,weeksAgo:&quot;{delta} weeks ago&quot;,monthAgo:&quot;1 month ago&quot;,monthsAgo:&quot;{delta} months ago&quot;,yearAgo:&quot;1 year ago&quot;,yearsAgo:&quot;{delta} years ago&quot;,lessThanMinuteUntil:&quot;less than a minute from now&quot;,minuteUntil:&quot;about a minute from now&quot;,minutesUntil:&quot;{delta} minutes from now&quot;,hourUntil:&quot;about an hour from now&quot;,hoursUntil:&quot;about {delta} hours from now&quot;,dayUntil:&quot;1 day from now&quot;,daysUntil:&quot;{delta} days from now&quot;,weekUntil:&quot;1 week from now&quot;,weeksUntil:&quot;{delta} weeks from now&quot;,monthUntil:&quot;1 month from now&quot;,monthsUntil:&quot;{delta} months from now&quot;,yearUntil:&quot;1 year from now&quot;,yearsUntil:&quot;{delta} years from now&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">660</th>
  <td class="line-code diff_in">
    <pre>MooTools.lang.set(&quot;en-US&quot;,&quot;Form.Validator&quot;,{required:&quot;This field is required.&quot;,minLength:&quot;Please enter at least {minLength} characters (you entered {length} characters).&quot;,maxLength:&quot;Please enter no more than {maxLength} characters (you entered {length} characters).&quot;,integer:&quot;Please enter an integer in this field. Numbers with decimals (e.g. 1.25) are not permitted.&quot;,numeric:'Please enter only numeric values in this field (i.e. &quot;1&quot; or &quot;1.1&quot; or &quot;-1&quot; or &quot;-1.1&quot;).',digits:&quot;Please use numbers and punctuation only in this field (for example, a phone number with dashes or dots is permitted).&quot;,alpha:&quot;Please use letters only (a-z) with in this field. No spaces or other characters are allowed.&quot;,alphanum:&quot;Please use only letters (a-z) or numbers (0-9) only in this field. No spaces or other characters are allowed.&quot;,dateSuchAs:&quot;Please enter a valid date such as {date}&quot;,dateInFormatMDY:'Please enter a valid date such as MM/DD/YYYY (i.e. &quot;12/31/1999&quot;)',email:'Please enter a valid email address. For example &quot;fred@domain.com&quot;.',url:&quot;Please enter a valid URL such as http://www.google.com.&quot;,currencyDollar:&quot;Please enter a valid $ amount. For example $100.00 .&quot;,oneRequired:&quot;Please enter something for at least one of these inputs.&quot;,errorPrefix:&quot;Error: &quot;,warningPrefix:&quot;Warning: &quot;,noSpace:&quot;There can be no spaces in this input.&quot;,reqChkByNode:&quot;No items are selected.&quot;,requiredChk:&quot;This field is required.&quot;,reqChkByName:&quot;Please select a {label}.&quot;,match:&quot;This field needs to match the {matchName} field&quot;,startDate:&quot;the start date&quot;,endDate:&quot;the end date&quot;,currendDate:&quot;the current date&quot;,afterDate:&quot;The date should be the same or after {label}.&quot;,beforeDate:&quot;The date should be the same or before {label}.&quot;,startMonth:&quot;Please select a start month&quot;,sameMonth:&quot;These two dates must be in the same month - you must change one or the other.&quot;,creditcard:&quot;The credit card number entered is invalid. Please check the number and try again. {length} digits entered.&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">661</th>
  <td class="line-code diff_in">
    <pre>MooTools.lang.set(&quot;en-GB&quot;,&quot;Date&quot;,{dateOrder:[&quot;date&quot;,&quot;month&quot;,&quot;year&quot;],shortDate:&quot;%d/%m/%Y&quot;,shortTime:&quot;%H:%M&quot;}).set(&quot;cascade&quot;,[&quot;en-US&quot;]);MooTools.lang.set(&quot;fr-FR&quot;,&quot;Date&quot;,{months:[&quot;janvier&quot;,&quot;f&amp;eacute;vrier&quot;,&quot;mars&quot;,&quot;avril&quot;,&quot;mai&quot;,&quot;juin&quot;,&quot;juillet&quot;,&quot;ao&amp;ucirc;t&quot;,&quot;septembre&quot;,&quot;octobre&quot;,&quot;novembre&quot;,&quot;d&amp;eacute;cembre&quot;],days:[&quot;dimanche&quot;,&quot;lundi&quot;,&quot;mardi&quot;,&quot;mercredi&quot;,&quot;jeudi&quot;,&quot;vendredi&quot;,&quot;samedi&quot;],dateOrder:[&quot;date&quot;,&quot;month&quot;,&quot;year&quot;],AM:&quot;AM&quot;,PM:&quot;PM&quot;,shortDate:&quot;%d/%m/%Y&quot;,shortTime:&quot;%H:%M&quot;,getOrdinal:function(a){return(a&gt;1)?&quot;&quot;:&quot;er&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">662</th>
  <td class="line-code diff_in">
    <pre>},lessThanMinuteAgo:&quot;il y a moins d'une minute&quot;,minuteAgo:&quot;il y a une minute&quot;,minutesAgo:&quot;il y a {delta} minutes&quot;,hourAgo:&quot;il y a une heure&quot;,hoursAgo:&quot;il y a {delta} heures&quot;,dayAgo:&quot;il y a un jour&quot;,daysAgo:&quot;il y a {delta} jours&quot;,weekAgo:&quot;il y a une semaine&quot;,weeksAgo:&quot;il y a {delta} semaines&quot;,monthAgo:&quot;il y a 1 mois&quot;,monthsAgo:&quot;il y a {delta} mois&quot;,yearthAgo:&quot;il y a 1 an&quot;,yearsAgo:&quot;il y a {delta} ans&quot;,lessThanMinuteUntil:&quot;dans moins d'une minute&quot;,minuteUntil:&quot;dans une minute&quot;,minutesUntil:&quot;dans {delta} minutes&quot;,hourUntil:&quot;dans une heure&quot;,hoursUntil:&quot;dans {delta} heures&quot;,dayUntil:&quot;dans un jour&quot;,daysUntil:&quot;dans {delta} jours&quot;,weekUntil:&quot;dans 1 semaine&quot;,weeksUntil:&quot;dans {delta} semaines&quot;,monthUntil:&quot;dans 1 mois&quot;,monthsUntil:&quot;dans {delta} mois&quot;,yearUntil:&quot;dans 1 an&quot;,yearsUntil:&quot;dans {delta} ans&quot;});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">663</th>
  <td class="line-code diff_in">
    <pre>MooTools.lang.set(&quot;fr-FR&quot;,&quot;Form.Validator&quot;,{required:&quot;Ce champ est obligatoire.&quot;,minLength:&quot;Veuillez saisir un minimum de {minLength} caract&amp;egrave;re(s) (vous avez saisi {length} caract&amp;egrave;re(s)).&quot;,maxLength:&quot;Veuillez saisir un maximum de {maxLength} caract&amp;egrave;re(s) (vous avez saisi {length} caract&amp;egrave;re(s)).&quot;,integer:'Veuillez saisir un nombre entier dans ce champ. Les nombres d&amp;eacute;cimaux (ex : &quot;1,25&quot;) ne sont pas autoris&amp;eacute;s.',numeric:'Veuillez saisir uniquement des chiffres dans ce champ (ex : &quot;1&quot; ou &quot;1,1&quot; ou &quot;-1&quot; ou &quot;-1,1&quot;).',digits:&quot;Veuillez saisir uniquement des chiffres et des signes de ponctuation dans ce champ (ex : un num&amp;eacute;ro de t&amp;eacute;l&amp;eacute;phone avec des traits d'union est autoris&amp;eacute;).&quot;,alpha:&quot;Veuillez saisir uniquement des lettres (a-z) dans ce champ. Les espaces ou autres caract&amp;egrave;res ne sont pas autoris&amp;eacute;s.&quot;,alphanum:&quot;Veuillez saisir uniquement des lettres (a-z) ou des chiffres (0-9) dans ce champ. Les espaces ou autres caract&amp;egrave;res ne sont pas autoris&amp;eacute;s.&quot;,dateSuchAs:&quot;Veuillez saisir une date correcte comme {date}&quot;,dateInFormatMDY:'Veuillez saisir une date correcte, au format JJ/MM/AAAA (ex : &quot;31/11/1999&quot;).',email:'Veuillez saisir une adresse de courrier &amp;eacute;lectronique. Par example &quot;fred@domaine.com&quot;.',url:&quot;Veuillez saisir une URL, comme http://www.google.com.&quot;,currencyDollar:&quot;Veuillez saisir une quantit&amp;eacute; correcte. Par example 100,00&amp;euro;.&quot;,oneRequired:&quot;Veuillez s&amp;eacute;lectionner au moins une de ces options.&quot;,errorPrefix:&quot;Erreur : &quot;,warningPrefix:&quot;Attention : &quot;,noSpace:&quot;Ce champ n'accepte pas les espaces.&quot;,reqChkByNode:&quot;Aucun &amp;eacute;l&amp;eacute;ment n'est s&amp;eacute;lectionn&amp;eacute;.&quot;,requiredChk:&quot;Ce champ est obligatoire.&quot;,reqChkByName:&quot;Veuillez s&amp;eacute;lectionner un(e) {label}.&quot;,match:&quot;Ce champ doit correspondre avec le champ {matchName}.&quot;,startDate:&quot;date de d&amp;eacute;but&quot;,endDate:&quot;date de fin&quot;,currendDate:&quot;date actuelle&quot;,afterDate:&quot;La date doit &amp;ecirc;tre identique ou post&amp;eacute;rieure &amp;agrave; {label}.&quot;,beforeDate:&quot;La date doit &amp;ecirc;tre identique ou ant&amp;eacute;rieure &amp;agrave; {label}.&quot;,startMonth:&quot;Veuillez s&amp;eacute;lectionner un mois de d&amp;eacute;but.&quot;,sameMonth:&quot;Ces deux dates doivent &amp;ecirc;tre dans le m&amp;ecirc;me mois - vous devez en modifier une.&quot;});
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-closure.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre> * @fileoverview Implementation of the openid-selector written with 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre> * the Google Closure library
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre> * @author Martin Thoma
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>goog.provide('moose.openidselector');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>goog.require('goog.dom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>goog.require('goog.array');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>goog.require('goog.object');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>goog.require('goog.style');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>goog.require('goog.net.cookies');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>/** @define {boolean} */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>moose.ALLOW_AUTOLOGIN    = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre> * OpenID-Object
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre> * @param {string} input_id The html-id of the input element, that should submit the OpenID
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre> * @constructor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector = function(input_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	this.version = /** @type {string} */ ('1.3'); // version constant
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	this.demo = /** @type {boolean} */ (openid.demo);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	this.demo_text = /** @type {string} */ (openid.demo_text);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	this.cookie_expires = /** @type {number} */ (6 * 30); // 6 months.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	this.cookie_name = /** @type {string} */ ('openid_provider');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	this.cookie_path = /** @type {string} */ ('/');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	this.img_path = /** @type {string} */ ('images/');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	this.locale = /** @type {string} */ (openid.locale);          // is set in openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	this.sprite = /** @type {string} */ (openid.sprite);          // usually equals to locale, is set in openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>	this.signin_text = /** @type {string} */ (openid.signin_text);// text on submit button on the form
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	this.all_small = /** @type {boolean} */ (false);              // output large providers w/ small icons
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>	this.no_sprite = /** @type {boolean} */ (false);              // don't use sprite image
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>	this.image_title = /** @type {string} */ (openid.image_title);// for image title
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	this.input_id = input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>    this.input_element = goog.dom.getElement(input_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>	this.provider_url = /** @type {string} */ ('');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>	this.provider_id = undefined;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>    this.providers = goog.object.create();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>    goog.object.extend(this.providers, providers_large, providers_small);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>    this.openid_btns = goog.dom.getElement('openid_btns');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>    var openid_choice = goog.dom.getElement('openid_choice');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>    openid_choice.style.display = 'block';                                      //goog.style.showElement(openid_choice, true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>    this.openid_input_area = goog.dom.getElement('openid_input_area');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>    goog.dom.removeChildren(this.openid_input_area);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>    var i = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    // add box for each provider
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>    goog.object.forEach(providers_large, function(element, id, object){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>        this.getBoxHTML(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>            id, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>            providers_large[id], 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>            (this.all_small ? 'small' : 'large'), 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>            i++
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>        );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>    }, this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>	if (providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>        goog.dom.appendChild(this.openid_btns, goog.dom.createDom('br'));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>        goog.object.forEach(providers_small, function(element, id, object){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>            this.getBoxHTML(id, providers_small[id], 'small', i++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>        }, this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>    this.openid_form = goog.dom.getElement('openid_form');                
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>    var box_id = goog.net.cookies.get(this.cookie_name);// this.readCookie();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>	if (box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>		this.signin(box_id, true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>  * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>  * @param {string} box_id e.g. &quot;google&quot;, &quot;yahoo&quot;, &quot;myopenid&quot;, ...
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>  * @param {Object} provider e.g. {label: &quot;Enter your MyOpenID username.&quot;, name: &quot;MyOpenID&quot;, url: &quot;http://{username}.myopenid.com/&quot;}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>  * @param {string} box_size either &quot;large&quot; or &quot;small&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>  * @param {number} index
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>  */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector.prototype.getBoxHTML = function(box_id, provider, box_size, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>    if (this.no_sprite) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>        var image_ext = (box_size == 'small') ? '.ico.gif' : '.gif';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>        var box = goog.dom.createDom('a', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>                'title' : this.image_title.replace('{provider}', provider[&quot;name&quot;]),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>                'href'  : 'javascript:openidselectorobject.signin(\'' + box_id + '\');',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>			    'style' : 'background: #FFF url(' + this.img_path + '../images.' + box_size + '/' + box_id + image_ext + ') no-repeat center center',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>                'class' : box_id + ' openid_' + box_size + '_btn'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>             }, null);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>	var x = (box_size == 'small') ? -index * 24 : -index * 100;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>	var y = (box_size == 'small') ? -60 : 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>	var box = goog.dom.createDom('a', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>                'title' : this.image_title.replace('{provider}', provider[&quot;name&quot;]),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>                'href'  : 'javascript:openidselectorobject.signin(\'' + box_id + '\');',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>			    'style' : 'background: #FFF url(' + this.img_path + 'openid-providers-' + this.sprite + '.png); ' +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>                          'background-position: ' + x + 'px ' + y + 'px',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>                'class' : box_id + ' openid_' + box_size + '_btn'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>              }, null);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>    goog.dom.appendChild(this.openid_btns, box);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>  * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>  * @param {string} box_id e.g. &quot;google&quot;, &quot;yahoo&quot;, &quot;myopenid&quot;, ...
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>  * @param {boolean} opt_onload
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>  * @return {boolean}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>  */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector.prototype.signin = function(box_id, opt_onload) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>	var provider = this.providers[box_id];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>	if (!provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>		return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>	this.highlight(box_id);  
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>    goog.net.cookies.set(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>        this.cookie_name, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>        box_id, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>        this.cookie_expires * 24 * 60 * 60, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>        this.cookie_path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>    );                                                 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>	this.provider_id = box_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>	this.provider_url = provider['url'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>	// prompt user for input?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>	if (provider['label']) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>		this.useInputBox(provider);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>	} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>		goog.dom.removeChildren(this.openid_input_area);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>		if (!opt_onload || moose.ALLOW_AUTOLOGIN) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>		    this.submit();                                          
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>    return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre> * Sign-in button click
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre> * @return {boolean}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector.prototype.submit = function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>	var url = this.provider_url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>	if (url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>        var openid_username = goog.dom.getElement('openid_username');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>        // Google and Yahoo! don't need usernames
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>        if(openid_username){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>		    url = url.replace('{username}', openid_username.value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>		this.setOpenIdUrl(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>	if (this.demo) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>		alert(this.demo_text + &quot;\r\n&quot; + this.input_element.value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>		return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>	if (url.indexOf(&quot;javascript:&quot;) == 0) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>		url = url.substr(&quot;javascript:&quot;.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>		eval(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>		return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>	return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre> * @param {string} url The OpenID identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector.prototype.setOpenIdUrl = function(url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>	var hidden = this.input_element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>	if (hidden != null) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>		hidden.value = url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>	} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>        goog.dom.append(this.openid_form, goog.dom.createDom(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>                        'input', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>                            'type'  : 'hidden',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>                            'id'    : this.input_id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>                            'name'  : this.input_id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>                            'value' : url
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>                        }));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre> * @param {string} box_id e.g. &quot;google&quot;, &quot;yahoo&quot;, &quot;myopenid&quot;, ...
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector.prototype.highlight = function(box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>	// remove previous highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>	var highlighted_link = goog.dom.getElement('openid_highlight');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre> 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>	if (highlighted_link) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>        var links = goog.dom.getElementsByTagNameAndClass('a', undefined, highlighted_link);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>        var only_link = links[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>        goog.dom.replaceNode(only_link, highlighted_link);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>	}       
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>	// add new highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>    var link_to_highlight = goog.dom.getElementsByTagNameAndClass('a', box_id, this.openid_btns)[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>    var new_dom = goog.dom.createDom('div', {'id':'openid_highlight'}, goog.dom.createDom('a', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>            'title':link_to_highlight.title,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>            'href':link_to_highlight.href,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>            'style':link_to_highlight.style.cssText,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>            'class':link_to_highlight.className
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>            })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>    );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>    goog.dom.replaceNode(new_dom, link_to_highlight);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre> * @param {Object} provider e.g. {label: &quot;Enter your MyOpenID username.&quot;, name: &quot;MyOpenID&quot;, url: &quot;http://{username}.myopenid.com/&quot;}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector.prototype.useInputBox = function(provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>	var input_area = this.openid_input_area;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>	var id = 'openid_username';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>	var value = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>	var label = provider['label'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>	var style = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>    goog.dom.removeChildren(input_area);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>	if (label) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>		var html = goog.dom.createDom('p', '', label);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>	} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>        var html = goog.dom.createDom('p', '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>	goog.dom.append(input_area,html);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>	if (provider['name'] == 'OpenID') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>		id = this.input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>		value = 'http://';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>		style = 'background: #FFF url(' + this.img_path + 'openid-inputicon.gif) no-repeat scroll 0 50%; padding-left:18px;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>    goog.dom.append(input_area, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>                    goog.dom.createDom('input', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>                        'id' : id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>                        'type': &quot;text&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>                        'style': style,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>                        'name' : id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>                        'value': value
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>                    })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>    );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>    goog.dom.append(input_area, 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>                    goog.dom.createDom('input', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>                        'id' : 'openid_submit',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>                        'type': &quot;submit&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>                        'value': this.signin_text
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>                    })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>    );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>    goog.dom.getElement(id).focus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>moose.openidselector.prototype.setDemoMode = function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>    this.demo = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>// If you don't do that, you get an &quot;Uncaught ReferenceError: moose is not defined&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>// http://code.google.com/intl/de-DE/closure/compiler/docs/api-tutorial3.html#export
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>window['openidselector'] = moose.openidselector; // &lt;-- Constructor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>goog.exportSymbol('openidselector.prototype.signin', moose.openidselector.prototype.signin); // &lt;-- Constructor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>window['openid'] = goog.object.create();
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-de.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers_large = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	google : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>		url : 'https://www.google.com/accounts/o8/id'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	yahoo : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		name : 'Yahoo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://me.yahoo.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	aol : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		name : 'AOL',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bitte den AOL Benutzernamen eingeben.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://openid.aol.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	myopenid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		name : 'MyOpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bitte den MyOpenID Benutzernamen eingeben.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.myopenid.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	openid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>		name : 'OpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bitte OpenID eingeben.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>		url : null
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>var providers_small = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	livejournal : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>		name : 'LiveJournal',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bitte den LiveJournal Benutzernamen eingeben.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.livejournal.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>	/* flickr: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		name: 'Flickr',        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		label: 'Bitte den Flickr Benutzernamen eingeben.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://flickr.com/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>	/* technorati: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>		name: 'Technorati',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>		label: 'Bitte den Technorati Benutzernamen eingeben.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://technorati.com/people/technorati/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	wordpress : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>		name : 'Wordpress',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bitte den Wordpress.com Benutzernamen eingeben.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.wordpress.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>	blogger : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		name : 'Blogger',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>		label : 'Ihr Blogger Konto',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.blogspot.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>	verisign : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>		name : 'Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>		label : 'Ihr Verisign Benutzername',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.pip.verisignlabs.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	/* vidoop: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>		name: 'Vidoop',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>		label: 'Ihr Vidoop Benutzername',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://{username}.myvidoop.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>	/* launchpad: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>		name: 'Launchpad',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>		label: 'Ihr Launchpad Benutzername',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>		url: 'https://launchpad.net/~{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>	claimid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClaimID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>		label : 'Ihr ClaimID Benutzername',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://claimid.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>	clickpass : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClickPass',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bitte den ClickPass Benutzernamen eingeben',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://clickpass.com/public/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>	google_profile : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google Profile',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bitte den Google Profile Benutzernamen eingeben',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.google.com/profiles/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>openid.locale = 'de';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>openid.sprite = 'en'; // use same sprite as english localization
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>openid.demo_text = 'Demo Modus. Normalerweise würde die folgende OpenID übermittelt werden:';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>openid.signin_text = 'Anmelden';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>openid.image_title = 'Mit {provider} anmelden';
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-en.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers_large = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	google : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>		url : 'https://www.google.com/accounts/o8/id'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	yahoo : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		name : 'Yahoo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://me.yahoo.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	aol : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		name : 'AOL',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		label : 'Enter your AOL screenname.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://openid.aol.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	myopenid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		name : 'MyOpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		label : 'Enter your MyOpenID username.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.myopenid.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	openid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>		name : 'OpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>		label : 'Enter your OpenID.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>		url : null
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>var providers_small = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	livejournal : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>		name : 'LiveJournal',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>		label : 'Enter your Livejournal username.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.livejournal.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>	/* flickr: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		name: 'Flickr',        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		label: 'Enter your Flickr username.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://flickr.com/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>	/* technorati: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>		name: 'Technorati',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>		label: 'Enter your Technorati username.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://technorati.com/people/technorati/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	wordpress : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>		name : 'Wordpress',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>		label : 'Enter your Wordpress.com username.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.wordpress.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>	blogger : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		name : 'Blogger',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>		label : 'Your Blogger account',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.blogspot.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>	verisign : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>		name : 'Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>		label : 'Your Verisign username',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.pip.verisignlabs.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	/* vidoop: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>		name: 'Vidoop',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>		label: 'Your Vidoop username',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://{username}.myvidoop.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>	/* launchpad: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>		name: 'Launchpad',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>		label: 'Your Launchpad username',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>		url: 'https://launchpad.net/~{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>	claimid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClaimID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>		label : 'Your ClaimID username',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://claimid.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>	clickpass : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClickPass',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>		label : 'Enter your ClickPass username',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://clickpass.com/public/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>	google_profile : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google Profile',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>		label : 'Enter your Google Profile username',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.google.com/profiles/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>openid.locale = 'en';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>openid.sprite = 'en'; // reused in german&amp; japan localization
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>openid.demo_text = 'In client demo mode. Normally would have submitted OpenID:';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>openid.signin_text = 'Sign-In';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>openid.image_title = 'log in with {provider}';
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-jp.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers_large = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	google : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>		url : 'https://www.google.com/accounts/o8/id'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	yahoo : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		name : 'Yahoo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://me.yahoo.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	aol : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		name : 'AOL',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		label : 'AOLのスクリーンネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://openid.aol.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	myopenid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		name : 'MyOpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		label : 'MyOpenIDのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.myopenid.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	openid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>		name : 'OpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>		label : 'OpenIDを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>		url : null
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>var providers_small = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	livejournal : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>		name : 'LiveJournal',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>		label : 'LiveJournalのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.livejournal.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>	/* flickr: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		name: 'Flickr',        
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		label: 'Flickrのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://flickr.com/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>	/* technorati: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>		name: 'Technorati',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>		label: 'Technoratiのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://technorati.com/people/technorati/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	wordpress : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>		name : 'Wordpress',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>		label : 'Wordpress.comのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.wordpress.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>	blogger : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		name : 'Blogger',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>		label : 'Bloggerのアカウントを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.blogspot.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>	verisign : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>		name : 'Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>		label : 'Verisignのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.pip.verisignlabs.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	/* vidoop: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>		name: 'Vidoop',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>		label: 'Vidoopのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>		url: 'http://{username}.myvidoop.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>	/* launchpad: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>		name: 'Launchpad',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>		label: 'Launchpadのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>		url: 'https://launchpad.net/~{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>	}, */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>	claimid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClaimID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>		label : 'ClaimIDのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://claimid.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>	clickpass : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClickPass',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>		label : 'ClickPassのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://clickpass.com/public/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>	google_profile : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google Profile',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>		label : 'Google Profileのユーザーネームを記入してください。',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.google.com/profiles/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>openid.locale = 'jp';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>openid.sprite = 'en'; // use same sprite as english localization
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>openid.demo_text = '今クライアントデモモードになっています。普通は次のOpenIDを出さなければいけません:';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>openid.signin_text = 'ログイン';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>openid.image_title = '{provider}でログイン';
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-jquery.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>var openid;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>(function ($) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>openid = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	version : '1.3', // version constant
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	demo : false,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>	demo_text : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>	cookie_expires : 6 * 30, // 6 months.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	cookie_name : 'openid_provider',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	cookie_path : '/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	img_path : 'images/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	locale : null, // is set in openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	sprite : null, // usually equals to locale, is set in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	// openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>	signin_text : null, // text on submit button on the form
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	all_small : false, // output large providers w/ small icons
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	no_sprite : false, // don't use sprite image
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	image_title : '{provider}', // for image title
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	input_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	provider_url : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>	provider_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	 * Class constructor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>	init : function(input_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		providers = $.extend({}, providers_large, providers_small);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>		var openid_btns = $('#openid_btns');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>		this.input_id = input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		$('#openid_choice').show();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		$('#openid_input_area').empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>		var i = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>		// add box for each provider
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>		for (id in providers_large) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>			box = this.getBoxHTML(id, providers_large[id], (this.all_small ? 'small' : 'large'), i++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>			openid_btns.append(box);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>		if (providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>			openid_btns.append('&lt;br/&gt;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>			for (id in providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>				box = this.getBoxHTML(id, providers_small[id], 'small', i++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>				openid_btns.append(box);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		$('#openid_form').submit(this.submit);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>		var box_id = this.readCookie();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>		if (box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>			this.signin(box_id, true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	 * @return {String}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>	getBoxHTML : function(box_id, provider, box_size, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>		if (this.no_sprite) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>			var image_ext = box_size == 'small' ? '.ico.gif' : '.gif';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>			return '&lt;a title=&quot;' + this.image_title.replace('{provider}', provider[&quot;name&quot;]) + '&quot; href=&quot;javascript:openid.signin(\'' + box_id + '\');&quot;'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>					+ ' style=&quot;background: #FFF url(' + this.img_path + '../images.' + box_size + '/' + box_id + image_ext + ') no-repeat center center&quot; '
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>					+ 'class=&quot;' + box_id + ' openid_' + box_size + '_btn&quot;&gt;&lt;/a&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>		var x = box_size == 'small' ? -index * 24 : -index * 100;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>		var y = box_size == 'small' ? -60 : 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>		return '&lt;a title=&quot;' + this.image_title.replace('{provider}', provider[&quot;name&quot;]) + '&quot; href=&quot;javascript:openid.signin(\'' + box_id + '\');&quot;'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>				+ ' style=&quot;background: #FFF url(' + this.img_path + 'openid-providers-' + this.sprite + '.png); background-position: ' + x + 'px ' + y + 'px&quot; '
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>				+ 'class=&quot;' + box_id + ' openid_' + box_size + '_btn&quot;&gt;&lt;/a&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>	 * Provider image click
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>	signin : function(box_id, onload) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>		var provider = providers[box_id];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>		if (!provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>			return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>		this.highlight(box_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>		this.setCookie(box_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>		this.provider_id = box_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>		this.provider_url = provider['url'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>		// prompt user for input?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>		if (provider['label']) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>			this.useInputBox(provider);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>			$('#openid_input_area').empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>			if (!onload) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>				$('#openid_form').submit();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>	 * Sign-in button click
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Boolean}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>	submit : function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>		var url = openid.provider_url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>		if (url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>			url = url.replace('{username}', $('#openid_username').val());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>			openid.setOpenIdUrl(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>		if (openid.demo) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>			alert(openid.demo_text + &quot;\r\n&quot; + document.getElementById(openid.input_id).value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>			return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>		if (url.indexOf(&quot;javascript:&quot;) == 0) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>			url = url.substr(&quot;javascript:&quot;.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>			eval(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>			return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>		return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>	setOpenIdUrl : function(url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>		var hidden = document.getElementById(this.input_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>		if (hidden != null) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>			hidden.value = url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>			$('#openid_form').append('&lt;input type=&quot;hidden&quot; id=&quot;' + this.input_id + '&quot; name=&quot;' + this.input_id + '&quot; value=&quot;' + url + '&quot;/&gt;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>	highlight : function(box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>		// remove previous highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>		var highlight = $('#openid_highlight');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>		if (highlight) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>			highlight.replaceWith($('#openid_highlight a')[0]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>		// add new highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>		$('.' + box_id).wrap('&lt;div id=&quot;openid_highlight&quot;&gt;&lt;/div&gt;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>	setCookie : function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>		var date = new Date();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>		date.setTime(date.getTime() + (this.cookie_expires * 24 * 60 * 60 * 1000));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>		var expires = &quot;; expires=&quot; + date.toGMTString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>		document.cookie = this.cookie_name + &quot;=&quot; + value + expires + &quot;; path=&quot; + this.cookie_path;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>	readCookie : function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>		var nameEQ = this.cookie_name + &quot;=&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>		var ca = document.cookie.split(';');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>		for ( var i = 0; i &lt; ca.length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>			var c = ca[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>			while (c.charAt(0) == ' ')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>				c = c.substring(1, c.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>			if (c.indexOf(nameEQ) == 0)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>				return c.substring(nameEQ.length, c.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>		return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>	useInputBox : function(provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>		var input_area = $('#openid_input_area');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>		var html = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>		var id = 'openid_username';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>		var value = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>		var label = provider['label'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>		var style = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>		if (label) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>			html = '&lt;p&gt;' + label + '&lt;/p&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>		if (provider['name'] == 'OpenID') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>			id = this.input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>			value = 'http://';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>			style = 'background: #FFF url(' + this.img_path + 'openid-inputicon.gif) no-repeat scroll 0 50%; padding-left:18px;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>		html += '&lt;input id=&quot;' + id + '&quot; type=&quot;text&quot; style=&quot;' + style + '&quot; name=&quot;' + id + '&quot; value=&quot;' + value + '&quot; /&gt;'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>				+ '&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;' + this.signin_text + '&quot;/&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>		input_area.empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>		input_area.append(html);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>		$('#' + id).focus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>	setDemoMode : function(demoMode) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>		this.demo = demoMode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>})(jQuery);
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-mootools.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>var openid = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	version : '1.3', // version constant
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	demo : false,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	demo_text : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>	cookie_expires : 6 * 30, // 6 months.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>	cookie_name : 'openid_provider',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	cookie_path : '/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	img_path : 'images/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	locale : null, // is set in openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	sprite : null, // usually equals to locale, is set in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	// openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	signin_text : null, // text on submit button on the form
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>	all_small : false, // output large providers w/ small icons
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	no_sprite : false, // don't use sprite image
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	image_title : '{provider}', // for image title
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	input_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	provider_url : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	provider_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	 * Class constructor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>	init : function(input_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>		providers = $merge(providers_large, providers_small);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		var openid_btns = $('openid_btns');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>		this.input_id = input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>		$('openid_choice').setStyle('display', 'block');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		$('openid_input_area').empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		var i = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>		// add box for each provider
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>		for (id in providers_large) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>			box = this.getBoxHTML(id, providers_large[id], (this.all_small ? 'small' : 'large'), i++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>			box.inject(openid_btns);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		if (providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>			openid_btns.grab(new Element('br'));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>			for (id in providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>				box = this.getBoxHTML(id, providers_small[id], 'small', i++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>				box.inject(openid_btns);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>		$('openid_form').addEvent('submit', this.submit);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		var box_id = this.readCookie();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>		if (box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>			this.signin(box_id, true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Element}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	getBoxHTML : function(box_id, provider, box_size, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>		if (this.no_sprite) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>			var image_ext = box_size == 'small' ? '.ico.gif' : '.gif';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>			return new Element('a', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>				'href' : &quot;javascript:openid.signin('&quot; + box_id + &quot;');&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>				'title' : this.image_title.replace('{provider}', provider[&quot;name&quot;]),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>				'class' : box_id + ' openid_' + box_size + '_btn',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>				'styles' : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>					'display' : 'block',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>					'background' : '#FFF url(' + this.img_path + '../images.' + box_size + '/' + box_id + image_ext
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>							+ ') no-repeat center center'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>			});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>		var x = box_size == 'small' ? -index * 24 : -index * 100;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>		var y = box_size == 'small' ? -60 : 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>		return new Element('a', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>			'href' : &quot;javascript:openid.signin('&quot; + box_id + &quot;');&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>			'title' : this.image_title.replace('{provider}', provider[&quot;name&quot;]),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>			'class' : box_id + ' openid_' + box_size + '_btn',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>			'styles' : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>				'background' : '#FFF url(' + this.img_path + 'openid-providers-' + this.sprite + '.png'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>						+ ') no-repeat center center',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>				'background-position' : x + 'px ' + y + 'px'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>	 * Provider image click
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>	signin : function(box_id, onload) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>		var provider = providers[box_id];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>		if (!provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>			return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>		this.highlight(box_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>		this.setCookie(box_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>		this.provider_id = box_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>		this.provider_url = provider['url'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>		// prompt user for input?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>		if (provider['label']) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>			this.useInputBox(provider);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>			$('openid_input_area').empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>			if (!onload) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>				$('openid_form_submit').click(); //$('openid_form').submit();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>	 * Sign-in button click
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Boolean}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>	submit : function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>		var url = openid.provider_url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>		if (url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>			if ($('openid_username'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>				url = url.replace('{username}', $('openid_username').get('value'));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>			openid.setOpenIdUrl(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>		if (openid.demo) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>			alert(openid.demo_text + &quot;\r\n&quot; + document.getElementById(openid.input_id).value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>			return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>		if (url.indexOf(&quot;javascript:&quot;) == 0) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>			url = url.substr(&quot;javascript:&quot;.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>			eval(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>			return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>		return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>	setOpenIdUrl : function(url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>		var hidden = $(this.input_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>		if (hidden) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>			hidden.set('value', url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>			$('openid_form').grab(new Element('input', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>				'type' : 'hidden',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>				'id' : this.input_id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>				'name' : this.input_id,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>				'value' : url
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>			}));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>	highlight : function(box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>		// remove previous highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>		var highlight = $('openid_highlight');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>		if (highlight) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>			$('openid_highlight').getFirst('a').replaces(highlight);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>		// add new highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>		new Element('div', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>			'id' : 'openid_highlight'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>		}).wraps($$('.' + box_id)[0]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>	setCookie : function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>		Cookie.write(this.cookie_name, value, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>			duration : this.cookie_expires,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>			path : this.cookie_path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>	readCookie : function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>		return Cookie.read(this.cookie_name);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>	useInputBox : function(provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>		var input_area = $('openid_input_area');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>		var html = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>		var id = 'openid_username';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>		var value = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>		var label = provider['label'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>		var style = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>		if (label) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>			html = '&lt;p&gt;' + label + '&lt;/p&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>		if (provider['name'] == 'OpenID') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>			id = this.input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>			value = 'http://';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>			style = 'background: #FFF url(' + this.img_path + 'openid-inputicon.gif) no-repeat scroll 0 50%; padding-left:18px;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>		html += '&lt;input id=&quot;' + id + '&quot; type=&quot;text&quot; style=&quot;' + style + '&quot; name=&quot;' + id + '&quot; value=&quot;' + value + '&quot; /&gt;'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>				+ '&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;' + this.signin_text + '&quot;/&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>		input_area.empty();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>		input_area.set('html', html);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>		$(id).focus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>	setDemoMode : function(demoMode) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>		this.demo = demoMode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-prototype.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>var openid = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	version : '1.3', // version constant
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	demo : false,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	demo_text : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>	cookie_expires : 6 * 30, // 6 months.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>	cookie_name : 'openid_provider',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	cookie_path : '/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	img_path : 'images/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	locale : null, // is set in openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	sprite : null, // usually equals to locale, is set in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	// openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	signin_text : null, // text on submit button on the form
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>	all_small : false, // output large providers w/ small icons
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	no_sprite : false, // don't use sprite image
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	image_title : '{provider}', // for image title
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	input_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	provider_url : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	provider_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	 * Class constructor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>	init : function(input_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>		providers = {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		Object.extend(providers, providers_large);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>		Object.extend(providers, providers_small);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>		var openid_btns = $('openid_btns');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		this.input_id = input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		$('openid_choice').setStyle({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>			display: 'block'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>		});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>		$('openid_input_area').innerHTML = &quot;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>		var i = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>		// add box for each provider
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		for (id in providers_large) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>			box = this.getBoxHTML(id, providers_large[id], (this.all_small ? 'small' : 'large'), i++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>			openid_btns.insert(box);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>		if (providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>			openid_btns.insert('&lt;br/&gt;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>			for (id in providers_small) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>				box = this.getBoxHTML(id, providers_small[id], 'small', i++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>				openid_btns.insert(box);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>		$('openid_form').submit = this.submit;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>		var box_id = this.readCookie();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>		if (box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>			this.signin(box_id, true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>	 * @return {String}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>	getBoxHTML : function(box_id, provider, box_size, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>		if (this.no_sprite) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>			var image_ext = box_size == 'small' ? '.ico.gif' : '.gif';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>			return '&lt;a title=&quot;' + this.image_title.replace('{provider}', provider[&quot;name&quot;]) + '&quot; href=&quot;javascript:openid.signin(\'' + box_id + '\');&quot;'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>					+ ' style=&quot;background: #FFF url(' + this.img_path + '../images.' + box_size + '/' + box_id + image_ext + ') no-repeat center center&quot; '
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>					+ 'class=&quot;' + box_id + ' openid_' + box_size + '_btn&quot;&gt;&lt;/a&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>		var x = box_size == 'small' ? -index * 24 : -index * 100;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>		var y = box_size == 'small' ? -60 : 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>		return '&lt;a title=&quot;' + this.image_title.replace('{provider}', provider[&quot;name&quot;]) + '&quot; href=&quot;javascript:openid.signin(\'' + box_id + '\');&quot;'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>				+ ' style=&quot;background: #FFF url(' + this.img_path + 'openid-providers-' + this.sprite + '.png); background-position: ' + x + 'px ' + y + 'px&quot; '
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>				+ 'class=&quot;' + box_id + ' openid_' + box_size + '_btn&quot;&gt;&lt;/a&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>	 * Provider image click
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>	signin : function(box_id, onload) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>		var provider = providers[box_id];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>		if (!provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>			return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>		this.highlight(box_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>		this.setCookie(box_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>		this.provider_id = box_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>		this.provider_url = provider['url'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>		// prompt user for input?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>		if (provider['label']) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>			this.useInputBox(provider);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>			$('openid_input_area').innerHTML = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>			if (!onload) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>				$('openid_form').submit();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>	 * Sign-in button click
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Boolean}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>	submit : function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>		var url = openid.provider_url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>		var username_field = $('openid_username');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>		var username = username_field ? $('openid_username').value : '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>		if (url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>			url = url.replace('{username}', username);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>			openid.setOpenIdUrl(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>		if (openid.demo) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>			alert(openid.demo_text + &quot;\r\n&quot; + document.getElementById(openid.input_id).value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>			return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>		if (url.indexOf(&quot;javascript:&quot;) == 0) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>			url = url.substr(&quot;javascript:&quot;.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>			eval(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>			return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>		return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>	setOpenIdUrl : function(url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>		var hidden = document.getElementById(this.input_id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>		if (hidden != null) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>			hidden.value = url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>			$('openid_form').insert('&lt;input type=&quot;hidden&quot; id=&quot;' + this.input_id + '&quot; name=&quot;' + this.input_id + '&quot; value=&quot;' + url + '&quot;/&gt;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>	highlight : function(box_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>		// remove previous highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>		var highlight = $('openid_highlight');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>		if (highlight) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>			fc = highlight.firstChild;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>			highlight.parentNode.replaceChild(fc, highlight);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>		// add new highlight.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>		var box = $$('.' + box_id)[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>		var wrapper = document.createElement('div');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>		wrapper.id = 'openid_highlight';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>		box.parentNode.replaceChild(wrapper, box);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>		wrapper.appendChild(box);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>	setCookie : function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>		var date = new Date();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>		date.setTime(date.getTime() + (this.cookie_expires * 24 * 60 * 60 * 1000));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>		var expires = &quot;; expires=&quot; + date.toGMTString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>		document.cookie = this.cookie_name + &quot;=&quot; + value + expires + &quot;; path=&quot; + this.cookie_path;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>	readCookie : function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>		var nameEQ = this.cookie_name + &quot;=&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>		var ca = document.cookie.split(';');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>		for ( var i = 0; i &lt; ca.length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>			var c = ca[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>			while (c.charAt(0) == ' ')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>				c = c.substring(1, c.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>			if (c.indexOf(nameEQ) == 0)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>				return c.substring(nameEQ.length, c.length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>		return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>	useInputBox : function(provider) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>		var input_area = $('openid_input_area');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>		var html = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>		var id = 'openid_username';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>		var value = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>		var label = provider['label'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>		var style = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>		if (label) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>			html = '&lt;p&gt;' + label + '&lt;/p&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>		if (provider['name'] == 'OpenID') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>			id = this.input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>			value = 'http://';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>			style = 'background: #FFF url(' + this.img_path + 'openid-inputicon.gif) no-repeat scroll 0 50%; padding-left:18px;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>		html += '&lt;input id=&quot;' + id + '&quot; type=&quot;text&quot; style=&quot;' + style + '&quot; name=&quot;' + id + '&quot; value=&quot;' + value + '&quot; /&gt;'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>				+ '&lt;input id=&quot;openid_submit&quot; type=&quot;submit&quot; value=&quot;' + this.signin_text + '&quot;/&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>		input_area.innerHTML = html;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>		$('openid_submit').onclick = this.submit;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>		$(id).focus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>	setDemoMode : function(demoMode) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>		this.demo = demoMode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-ru.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers_large = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	yandex : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>		name : 'Яндекс',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://openid.yandex.ru'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	rambler : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		name : 'Рамблер',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.rambler.ru'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	google : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		url : 'https://www.google.com/accounts/o8/id'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	yahoo : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>		name : 'Yahoo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://me.yahoo.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	myopenid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>		name : 'MyOpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введите ваше имя пользователя на MyOpenID.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.myopenid.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>var providers_small = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	openid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		name : 'OpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введите ваш OpenID.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>		url : null
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>	livejournal : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>		name : 'Живой Журнал',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введите ваше имя в Живом Журнале.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.livejournal.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>	flickr : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>		name : 'Flickr',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введите ваше имя на Flickr.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://flickr.com/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>	wordpress : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>		name : 'Wordpress',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введите ваше имя на Wordpress.com.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.wordpress.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>	blogger : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>		name : 'Blogger',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>		label : 'Ваш Blogger аккаунт',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.blogspot.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>	verisign : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>		name : 'Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>		label : 'Ваше имя пользователя на Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.pip.verisignlabs.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>	google_profile : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>		name : 'Профиль Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введите ваше имя на Google Profile',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.google.com/profiles/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>openid.locale = 'ru';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>openid.sprite = 'ru'; // reused in ukrainian localization
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>openid.demo_text = 'В демонстрационном режиме на клиенте. В действительности произошел бы сабмит следующего OpenID:';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>openid.signin_text = 'Войти';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>openid.image_title = 'войти c {provider}';
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-uk.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers_large = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	yandex : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>		name : 'Яндекс',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://openid.yandex.ru'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	rambler : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		name : 'Рамблер',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.rambler.ru'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	google : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		url : 'https://www.google.com/accounts/o8/id'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	yahoo : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>		name : 'Yahoo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://me.yahoo.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	myopenid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>		name : 'MyOpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введіть ваше ім\'я користувача на MyOpenID.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.myopenid.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>var providers_small = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	openid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>		name : 'OpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введіть ваш OpenID.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>		url : null
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>	livejournal : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>		name : 'Живий Журнал',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введіть ваше ім\'я в Живому Журналі.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.livejournal.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>	flickr : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>		name : 'Flickr',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введіть ваше ім\'я на Flickr.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://flickr.com/{username}/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>	wordpress : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>		name : 'Wordpress',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введіть ваше ім\'я на Wordpress.com.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.wordpress.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>	blogger : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>		name : 'Blogger',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>		label : 'Ваш Blogger аккаунт',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.blogspot.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>	verisign : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>		name : 'Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>		label : 'Ваше ім\'я користувача на Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.pip.verisignlabs.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>	google_profile : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>		name : 'Профіль Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>		label : 'Введіть ваше ім\'я на Google Profile',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.google.com/profiles/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>openid.locale = 'uk';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>openid.sprite = 'ru'; // use same sprite as russian localization
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>openid.demo_text = 'В демонстраційному режимі на клієнті. Насправді пройшов би сабміт наступного OpenID:';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>openid.signin_text = 'Увійти';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>openid.image_title = 'увійти з {provider}';
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/openid-vi.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers_large = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>	google : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>		url : 'https://www.google.com/accounts/o8/id'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	yahoo : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>		name : 'Yahoo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://me.yahoo.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>	aol : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>		name : 'AOL',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>		label : 'Nhập vào tên tài khoảng AOL của bạn.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://openid.aol.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	myopenid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>		name : 'MyOpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>		label : 'Nhập vào tên tên tài khoản MyOpenID của bạn.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.myopenid.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	openid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>		name : 'OpenID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>		label : 'Nhập vào OpenID của bạn.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>		url : null
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>var providers_small = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	livejournal : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>		name : 'LiveJournal',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>		label : 'Nhập vào tên tài khoản Livejournal của bạn.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.livejournal.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>	wordpress : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		name : 'Wordpress',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		label : 'Nhập vào tên tài khoản Wordpress.com của bạn.',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.wordpress.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>	blogger : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>		name : 'Blogger',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>		label : 'Tài khoản Blogger của bạn',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.blogspot.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>	verisign : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>		name : 'Verisign',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>		label : 'Tên tài khoản Verisign của bạn',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://{username}.pip.verisignlabs.com/'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>	claimid : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClaimID',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>		label : 'Tên tài khoản ClaimID của bạn',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://claimid.com/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>	clickpass : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>		name : 'ClickPass',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>		label : 'Nhập vào tên tài khoản ClickPass của bạn',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://clickpass.com/public/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	google_profile : {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>		name : 'Google Profile',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>		label : 'Nhập vào tên tài khoản Google Profile của bạn',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>		url : 'http://www.google.com/profiles/{username}'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>openid.locale = 'vi';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>openid.sprite = 'en';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>openid.demo_text = 'Ở chế độ trình diễn. Thông thường nên dùng OpenID:';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>openid.signin_text = 'Đăng Nhập';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>openid.image_title = 'đăng nhập với {provider}';
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/js/prototype.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*  Prototype JavaScript framework, version 1.7_rc2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre> *  (c) 2005-2010 Sam Stephenson
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre> *
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre> *  Prototype is freely distributable under the terms of an MIT-style license.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre> *  For details, see the Prototype web site: http://www.prototypejs.org/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre> *
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre> *--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>var Prototype = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  Version: '1.7_rc2',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  Browser: (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>    var ua = navigator.userAgent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>    var isOpera = Object.prototype.toString.call(window.opera) == '[object Opera]';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>    return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      IE:             !!window.attachEvent &amp;&amp; !isOpera,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>      Opera:          isOpera,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>      WebKit:         ua.indexOf('AppleWebKit/') &gt; -1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>      Gecko:          ua.indexOf('Gecko') &gt; -1 &amp;&amp; ua.indexOf('KHTML') === -1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>      MobileSafari:   /Apple.*Mobile/.test(ua)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>  })(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  BrowserFeatures: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    XPath: !!document.evaluate,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    SelectorsAPI: !!document.querySelector,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>    ElementExtensions: (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>      var constructor = window.Element || window.HTMLElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>      return !!(constructor &amp;&amp; constructor.prototype);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>    })(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>    SpecificElementExtensions: (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>      if (typeof window.HTMLDivElement !== 'undefined')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>        return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>      var div = document.createElement('div'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>          form = document.createElement('form'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>          isSupported = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>      if (div['__proto__'] &amp;&amp; (div['__proto__'] !== form['__proto__'])) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>        isSupported = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>      div = form = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>      return isSupported;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>    })()
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>  ScriptFragment: '&lt;script[^&gt;]*&gt;([\\S\\s]*?)&lt;\/script&gt;',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>  JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>  emptyFunction: function() { },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>  K: function(x) { return x }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>if (Prototype.Browser.MobileSafari)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>  Prototype.BrowserFeatures.SpecificElementExtensions = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>var Abstract = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>var Try = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>  these: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>    var returnValue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = arguments.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>      var lambda = arguments[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>      try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>        returnValue = lambda();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>        break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>      } catch (e) { }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>    return returnValue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>/* Based on Alex Arnell's inheritance implementation. */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>var Class = (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>  var IS_DONTENUM_BUGGY = (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>    for (var p in { toString: 1 }) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>      if (p === 'toString') return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>    return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>  })();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>  function subclass() {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>  function create() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">96</th>
  <td class="line-code diff_in">
    <pre>    var parent = null, properties = $A(arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">97</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isFunction(properties[0]))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">98</th>
  <td class="line-code diff_in">
    <pre>      parent = properties.shift();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">99</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>    function klass() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">101</th>
  <td class="line-code diff_in">
    <pre>      this.initialize.apply(this, arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">102</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">103</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">104</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(klass, Class.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">105</th>
  <td class="line-code diff_in">
    <pre>    klass.superclass = parent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">106</th>
  <td class="line-code diff_in">
    <pre>    klass.subclasses = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">108</th>
  <td class="line-code diff_in">
    <pre>    if (parent) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>      subclass.prototype = parent.prototype;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>      klass.prototype = new subclass;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>      parent.subclasses.push(klass);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = properties.length; i &lt; length; i++)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>      klass.addMethods(properties[i]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>    if (!klass.prototype.initialize)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>      klass.prototype.initialize = Prototype.emptyFunction;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>    klass.prototype.constructor = klass;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>    return klass;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>  function addMethods(source) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>    var ancestor   = this.superclass &amp;&amp; this.superclass.prototype,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>        properties = Object.keys(source);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>    if (IS_DONTENUM_BUGGY) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>      if (source.toString != Object.prototype.toString)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>        properties.push(&quot;toString&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>      if (source.valueOf != Object.prototype.valueOf)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>        properties.push(&quot;valueOf&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = properties.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>      var property = properties[i], value = source[property];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>      if (ancestor &amp;&amp; Object.isFunction(value) &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>          value.argumentNames()[0] == &quot;$super&quot;) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>        var method = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>        value = (function(m) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>          return function() { return ancestor[m].apply(this, arguments); };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>        })(property).wrap(method);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>        value.valueOf = method.valueOf.bind(method);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>        value.toString = method.toString.bind(method);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>      this.prototype[property] = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>    return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">152</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">153</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">154</th>
  <td class="line-code diff_in">
    <pre>    create: create,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">155</th>
  <td class="line-code diff_in">
    <pre>    Methods: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">156</th>
  <td class="line-code diff_in">
    <pre>      addMethods: addMethods
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">157</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">158</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">159</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">160</th>
  <td class="line-code diff_in">
    <pre>(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">161</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">162</th>
  <td class="line-code diff_in">
    <pre>  var _toString = Object.prototype.toString,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">163</th>
  <td class="line-code diff_in">
    <pre>      NULL_TYPE = 'Null',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">164</th>
  <td class="line-code diff_in">
    <pre>      UNDEFINED_TYPE = 'Undefined',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">165</th>
  <td class="line-code diff_in">
    <pre>      BOOLEAN_TYPE = 'Boolean',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">166</th>
  <td class="line-code diff_in">
    <pre>      NUMBER_TYPE = 'Number',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">167</th>
  <td class="line-code diff_in">
    <pre>      STRING_TYPE = 'String',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">168</th>
  <td class="line-code diff_in">
    <pre>      OBJECT_TYPE = 'Object',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">169</th>
  <td class="line-code diff_in">
    <pre>      BOOLEAN_CLASS = '[object Boolean]',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">170</th>
  <td class="line-code diff_in">
    <pre>      NUMBER_CLASS = '[object Number]',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">171</th>
  <td class="line-code diff_in">
    <pre>      STRING_CLASS = '[object String]',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">172</th>
  <td class="line-code diff_in">
    <pre>      ARRAY_CLASS = '[object Array]',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">173</th>
  <td class="line-code diff_in">
    <pre>      NATIVE_JSON_STRINGIFY_SUPPORT = window.JSON &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">174</th>
  <td class="line-code diff_in">
    <pre>        typeof JSON.stringify === 'function' &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">175</th>
  <td class="line-code diff_in">
    <pre>        JSON.stringify(0) === '0' &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">176</th>
  <td class="line-code diff_in">
    <pre>        typeof JSON.stringify(Prototype.K) === 'undefined';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">177</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">178</th>
  <td class="line-code diff_in">
    <pre>  function Type(o) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>    switch(o) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>      case null: return NULL_TYPE;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>      case (void 0): return UNDEFINED_TYPE;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>    var type = typeof o;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>    switch(type) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>      case 'boolean': return BOOLEAN_TYPE;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>      case 'number':  return NUMBER_TYPE;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>      case 'string':  return STRING_TYPE;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>    return OBJECT_TYPE;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>  function extend(destination, source) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>    for (var property in source)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>      destination[property] = source[property];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>    return destination;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>  function inspect(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>      if (isUndefined(object)) return 'undefined';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>      if (object === null) return 'null';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>      return object.inspect ? object.inspect() : String(object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>      if (e instanceof RangeError) return '...';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>      throw e;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>  function toJSON(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>    return Str('', { '': value }, []);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>  function Str(key, holder, stack) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>    var value = holder[key],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>        type = typeof value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>    if (Type(value) === OBJECT_TYPE &amp;&amp; typeof value.toJSON === 'function') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>      value = value.toJSON(key);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>    var _class = _toString.call(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>    switch (_class) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>      case NUMBER_CLASS:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>      case BOOLEAN_CLASS:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>      case STRING_CLASS:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>        value = value.valueOf();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>    switch (value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>      case null: return 'null';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>      case true: return 'true';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>      case false: return 'false';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>    type = typeof value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>    switch (type) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>      case 'string':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>        return value.inspect(true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>      case 'number':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>        return isFinite(value) ? String(value) : 'null';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>      case 'object':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>        for (var i = 0, length = stack.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>          if (stack[i] === value) { throw new TypeError(); }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>        stack.push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>        var partial = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>        if (_class === ARRAY_CLASS) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>          for (var i = 0, length = value.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>            var str = Str(i, value, stack);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>            partial.push(typeof str === 'undefined' ? 'null' : str);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>          partial = '[' + partial.join(',') + ']';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>        } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>          var keys = Object.keys(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>          for (var i = 0, length = keys.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>            var key = keys[i], str = Str(key, value, stack);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>            if (typeof str !== &quot;undefined&quot;) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">261</th>
  <td class="line-code diff_in">
    <pre>               partial.push(key.inspect(true)+ ':' + str);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">262</th>
  <td class="line-code diff_in">
    <pre>             }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>          partial = '{' + partial.join(',') + '}';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>        stack.pop();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>        return partial;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">268</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">269</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">270</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">271</th>
  <td class="line-code diff_in">
    <pre>  function stringify(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">272</th>
  <td class="line-code diff_in">
    <pre>    return JSON.stringify(object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">273</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">274</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">275</th>
  <td class="line-code diff_in">
    <pre>  function toQueryString(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">276</th>
  <td class="line-code diff_in">
    <pre>    return $H(object).toQueryString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">277</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">278</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">279</th>
  <td class="line-code diff_in">
    <pre>  function toHTML(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">280</th>
  <td class="line-code diff_in">
    <pre>    return object &amp;&amp; object.toHTML ? object.toHTML() : String.interpret(object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">281</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">282</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">283</th>
  <td class="line-code diff_in">
    <pre>  function keys(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">284</th>
  <td class="line-code diff_in">
    <pre>    if (Type(object) !== OBJECT_TYPE) { throw new TypeError(); }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">285</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">286</th>
  <td class="line-code diff_in">
    <pre>    for (var property in object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">287</th>
  <td class="line-code diff_in">
    <pre>      if (object.hasOwnProperty(property)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">288</th>
  <td class="line-code diff_in">
    <pre>        results.push(property);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">289</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">290</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">291</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">292</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">293</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">294</th>
  <td class="line-code diff_in">
    <pre>  function values(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">295</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">296</th>
  <td class="line-code diff_in">
    <pre>    for (var property in object)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">297</th>
  <td class="line-code diff_in">
    <pre>      results.push(object[property]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">298</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">299</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">300</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">301</th>
  <td class="line-code diff_in">
    <pre>  function clone(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">302</th>
  <td class="line-code diff_in">
    <pre>    return extend({ }, object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">303</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">304</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">305</th>
  <td class="line-code diff_in">
    <pre>  function isElement(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">306</th>
  <td class="line-code diff_in">
    <pre>    return !!(object &amp;&amp; object.nodeType == 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">307</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">308</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">309</th>
  <td class="line-code diff_in">
    <pre>  function isArray(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">310</th>
  <td class="line-code diff_in">
    <pre>    return _toString.call(object) === ARRAY_CLASS;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">311</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">312</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">313</th>
  <td class="line-code diff_in">
    <pre>  var hasNativeIsArray = (typeof Array.isArray == 'function')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">314</th>
  <td class="line-code diff_in">
    <pre>    &amp;&amp; Array.isArray([]) &amp;&amp; !Array.isArray({});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">315</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">316</th>
  <td class="line-code diff_in">
    <pre>  if (hasNativeIsArray) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">317</th>
  <td class="line-code diff_in">
    <pre>    isArray = Array.isArray;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">318</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">319</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>  function isHash(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>    return object instanceof Hash;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">322</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">323</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">324</th>
  <td class="line-code diff_in">
    <pre>  function isFunction(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">325</th>
  <td class="line-code diff_in">
    <pre>    return typeof object === &quot;function&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">326</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">327</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">328</th>
  <td class="line-code diff_in">
    <pre>  function isString(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">329</th>
  <td class="line-code diff_in">
    <pre>    return _toString.call(object) === STRING_CLASS;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">330</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">331</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">332</th>
  <td class="line-code diff_in">
    <pre>  function isNumber(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">333</th>
  <td class="line-code diff_in">
    <pre>    return _toString.call(object) === NUMBER_CLASS;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">334</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">335</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">336</th>
  <td class="line-code diff_in">
    <pre>  function isUndefined(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">337</th>
  <td class="line-code diff_in">
    <pre>    return typeof object === &quot;undefined&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">338</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">339</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">340</th>
  <td class="line-code diff_in">
    <pre>  extend(Object, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">341</th>
  <td class="line-code diff_in">
    <pre>    extend:        extend,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">342</th>
  <td class="line-code diff_in">
    <pre>    inspect:       inspect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">343</th>
  <td class="line-code diff_in">
    <pre>    toJSON:        NATIVE_JSON_STRINGIFY_SUPPORT ? stringify : toJSON,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">344</th>
  <td class="line-code diff_in">
    <pre>    toQueryString: toQueryString,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">345</th>
  <td class="line-code diff_in">
    <pre>    toHTML:        toHTML,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">346</th>
  <td class="line-code diff_in">
    <pre>    keys:          Object.keys || keys,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">347</th>
  <td class="line-code diff_in">
    <pre>    values:        values,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">348</th>
  <td class="line-code diff_in">
    <pre>    clone:         clone,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">349</th>
  <td class="line-code diff_in">
    <pre>    isElement:     isElement,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">350</th>
  <td class="line-code diff_in">
    <pre>    isArray:       isArray,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">351</th>
  <td class="line-code diff_in">
    <pre>    isHash:        isHash,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">352</th>
  <td class="line-code diff_in">
    <pre>    isFunction:    isFunction,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">353</th>
  <td class="line-code diff_in">
    <pre>    isString:      isString,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">354</th>
  <td class="line-code diff_in">
    <pre>    isNumber:      isNumber,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">355</th>
  <td class="line-code diff_in">
    <pre>    isUndefined:   isUndefined
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">356</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">357</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">358</th>
  <td class="line-code diff_in">
    <pre>Object.extend(Function.prototype, (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">359</th>
  <td class="line-code diff_in">
    <pre>  var slice = Array.prototype.slice;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">360</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">361</th>
  <td class="line-code diff_in">
    <pre>  function update(array, args) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">362</th>
  <td class="line-code diff_in">
    <pre>    var arrayLength = array.length, length = args.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">363</th>
  <td class="line-code diff_in">
    <pre>    while (length--) array[arrayLength + length] = args[length];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">364</th>
  <td class="line-code diff_in">
    <pre>    return array;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">365</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">366</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">367</th>
  <td class="line-code diff_in">
    <pre>  function merge(array, args) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">368</th>
  <td class="line-code diff_in">
    <pre>    array = slice.call(array, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">369</th>
  <td class="line-code diff_in">
    <pre>    return update(array, args);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">370</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">371</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">372</th>
  <td class="line-code diff_in">
    <pre>  function argumentNames() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">373</th>
  <td class="line-code diff_in">
    <pre>    var names = this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">374</th>
  <td class="line-code diff_in">
    <pre>      .replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g, '')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">375</th>
  <td class="line-code diff_in">
    <pre>      .replace(/\s+/g, '').split(',');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">376</th>
  <td class="line-code diff_in">
    <pre>    return names.length == 1 &amp;&amp; !names[0] ? [] : names;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">377</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">378</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">379</th>
  <td class="line-code diff_in">
    <pre>  function bind(context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">380</th>
  <td class="line-code diff_in">
    <pre>    if (arguments.length &lt; 2 &amp;&amp; Object.isUndefined(arguments[0])) return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">381</th>
  <td class="line-code diff_in">
    <pre>    var __method = this, args = slice.call(arguments, 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">382</th>
  <td class="line-code diff_in">
    <pre>    return function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">383</th>
  <td class="line-code diff_in">
    <pre>      var a = merge(args, arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">384</th>
  <td class="line-code diff_in">
    <pre>      return __method.apply(context, a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">385</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">386</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">387</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">388</th>
  <td class="line-code diff_in">
    <pre>  function bindAsEventListener(context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">389</th>
  <td class="line-code diff_in">
    <pre>    var __method = this, args = slice.call(arguments, 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">390</th>
  <td class="line-code diff_in">
    <pre>    return function(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">391</th>
  <td class="line-code diff_in">
    <pre>      var a = update([event || window.event], args);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">392</th>
  <td class="line-code diff_in">
    <pre>      return __method.apply(context, a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">393</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">394</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">395</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">396</th>
  <td class="line-code diff_in">
    <pre>  function curry() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">397</th>
  <td class="line-code diff_in">
    <pre>    if (!arguments.length) return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">398</th>
  <td class="line-code diff_in">
    <pre>    var __method = this, args = slice.call(arguments, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">399</th>
  <td class="line-code diff_in">
    <pre>    return function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">400</th>
  <td class="line-code diff_in">
    <pre>      var a = merge(args, arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">401</th>
  <td class="line-code diff_in">
    <pre>      return __method.apply(this, a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">402</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">403</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">404</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">405</th>
  <td class="line-code diff_in">
    <pre>  function delay(timeout) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">406</th>
  <td class="line-code diff_in">
    <pre>    var __method = this, args = slice.call(arguments, 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">407</th>
  <td class="line-code diff_in">
    <pre>    timeout = timeout * 1000;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">408</th>
  <td class="line-code diff_in">
    <pre>    return window.setTimeout(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">409</th>
  <td class="line-code diff_in">
    <pre>      return __method.apply(__method, args);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">410</th>
  <td class="line-code diff_in">
    <pre>    }, timeout);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">411</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">412</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">413</th>
  <td class="line-code diff_in">
    <pre>  function defer() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">414</th>
  <td class="line-code diff_in">
    <pre>    var args = update([0.01], arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">415</th>
  <td class="line-code diff_in">
    <pre>    return this.delay.apply(this, args);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">416</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">417</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">418</th>
  <td class="line-code diff_in">
    <pre>  function wrap(wrapper) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">419</th>
  <td class="line-code diff_in">
    <pre>    var __method = this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">420</th>
  <td class="line-code diff_in">
    <pre>    return function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">421</th>
  <td class="line-code diff_in">
    <pre>      var a = update([__method.bind(this)], arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">422</th>
  <td class="line-code diff_in">
    <pre>      return wrapper.apply(this, a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">423</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">424</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">425</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">426</th>
  <td class="line-code diff_in">
    <pre>  function methodize() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">427</th>
  <td class="line-code diff_in">
    <pre>    if (this._methodized) return this._methodized;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">428</th>
  <td class="line-code diff_in">
    <pre>    var __method = this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">429</th>
  <td class="line-code diff_in">
    <pre>    return this._methodized = function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">430</th>
  <td class="line-code diff_in">
    <pre>      var a = update([this], arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">431</th>
  <td class="line-code diff_in">
    <pre>      return __method.apply(null, a);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">432</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">433</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">434</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">435</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">436</th>
  <td class="line-code diff_in">
    <pre>    argumentNames:       argumentNames,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">437</th>
  <td class="line-code diff_in">
    <pre>    bind:                bind,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">438</th>
  <td class="line-code diff_in">
    <pre>    bindAsEventListener: bindAsEventListener,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">439</th>
  <td class="line-code diff_in">
    <pre>    curry:               curry,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">440</th>
  <td class="line-code diff_in">
    <pre>    delay:               delay,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">441</th>
  <td class="line-code diff_in">
    <pre>    defer:               defer,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">442</th>
  <td class="line-code diff_in">
    <pre>    wrap:                wrap,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">443</th>
  <td class="line-code diff_in">
    <pre>    methodize:           methodize
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">444</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">445</th>
  <td class="line-code diff_in">
    <pre>})());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">446</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">447</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">448</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">449</th>
  <td class="line-code diff_in">
    <pre>(function(proto) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">450</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">451</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">452</th>
  <td class="line-code diff_in">
    <pre>  function toISOString() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">453</th>
  <td class="line-code diff_in">
    <pre>    return this.getUTCFullYear() + '-' +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">454</th>
  <td class="line-code diff_in">
    <pre>      (this.getUTCMonth() + 1).toPaddedString(2) + '-' +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">455</th>
  <td class="line-code diff_in">
    <pre>      this.getUTCDate().toPaddedString(2) + 'T' +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">456</th>
  <td class="line-code diff_in">
    <pre>      this.getUTCHours().toPaddedString(2) + ':' +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">457</th>
  <td class="line-code diff_in">
    <pre>      this.getUTCMinutes().toPaddedString(2) + ':' +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">458</th>
  <td class="line-code diff_in">
    <pre>      this.getUTCSeconds().toPaddedString(2) + 'Z';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">459</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">460</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">461</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">462</th>
  <td class="line-code diff_in">
    <pre>  function toJSON() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">463</th>
  <td class="line-code diff_in">
    <pre>    return this.toISOString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">464</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">465</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">466</th>
  <td class="line-code diff_in">
    <pre>  if (!proto.toISOString) proto.toISOString = toISOString;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">467</th>
  <td class="line-code diff_in">
    <pre>  if (!proto.toJSON) proto.toJSON = toJSON;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">468</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">469</th>
  <td class="line-code diff_in">
    <pre>})(Date.prototype);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">470</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">471</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">472</th>
  <td class="line-code diff_in">
    <pre>RegExp.prototype.match = RegExp.prototype.test;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">473</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">474</th>
  <td class="line-code diff_in">
    <pre>RegExp.escape = function(str) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">475</th>
  <td class="line-code diff_in">
    <pre>  return String(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">476</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">477</th>
  <td class="line-code diff_in">
    <pre>var PeriodicalExecuter = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">478</th>
  <td class="line-code diff_in">
    <pre>  initialize: function(callback, frequency) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">479</th>
  <td class="line-code diff_in">
    <pre>    this.callback = callback;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">480</th>
  <td class="line-code diff_in">
    <pre>    this.frequency = frequency;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">481</th>
  <td class="line-code diff_in">
    <pre>    this.currentlyExecuting = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">482</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">483</th>
  <td class="line-code diff_in">
    <pre>    this.registerCallback();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">484</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">485</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">486</th>
  <td class="line-code diff_in">
    <pre>  registerCallback: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">487</th>
  <td class="line-code diff_in">
    <pre>    this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">488</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">489</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">490</th>
  <td class="line-code diff_in">
    <pre>  execute: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">491</th>
  <td class="line-code diff_in">
    <pre>    this.callback(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">492</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">493</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">494</th>
  <td class="line-code diff_in">
    <pre>  stop: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">495</th>
  <td class="line-code diff_in">
    <pre>    if (!this.timer) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">496</th>
  <td class="line-code diff_in">
    <pre>    clearInterval(this.timer);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">497</th>
  <td class="line-code diff_in">
    <pre>    this.timer = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">498</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">499</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">500</th>
  <td class="line-code diff_in">
    <pre>  onTimerEvent: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">501</th>
  <td class="line-code diff_in">
    <pre>    if (!this.currentlyExecuting) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">502</th>
  <td class="line-code diff_in">
    <pre>      try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">503</th>
  <td class="line-code diff_in">
    <pre>        this.currentlyExecuting = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">504</th>
  <td class="line-code diff_in">
    <pre>        this.execute();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">505</th>
  <td class="line-code diff_in">
    <pre>        this.currentlyExecuting = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">506</th>
  <td class="line-code diff_in">
    <pre>      } catch(e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">507</th>
  <td class="line-code diff_in">
    <pre>        this.currentlyExecuting = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">508</th>
  <td class="line-code diff_in">
    <pre>        throw e;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">509</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">510</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">511</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">512</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">513</th>
  <td class="line-code diff_in">
    <pre>Object.extend(String, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">514</th>
  <td class="line-code diff_in">
    <pre>  interpret: function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">515</th>
  <td class="line-code diff_in">
    <pre>    return value == null ? '' : String(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">516</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">517</th>
  <td class="line-code diff_in">
    <pre>  specialChar: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">518</th>
  <td class="line-code diff_in">
    <pre>    '\b': '\\b',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">519</th>
  <td class="line-code diff_in">
    <pre>    '\t': '\\t',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">520</th>
  <td class="line-code diff_in">
    <pre>    '\n': '\\n',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">521</th>
  <td class="line-code diff_in">
    <pre>    '\f': '\\f',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">522</th>
  <td class="line-code diff_in">
    <pre>    '\r': '\\r',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">523</th>
  <td class="line-code diff_in">
    <pre>    '\\': '\\\\'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">524</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">525</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">526</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">527</th>
  <td class="line-code diff_in">
    <pre>Object.extend(String.prototype, (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">528</th>
  <td class="line-code diff_in">
    <pre>  var NATIVE_JSON_PARSE_SUPPORT = window.JSON &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">529</th>
  <td class="line-code diff_in">
    <pre>    typeof JSON.parse === 'function' &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">530</th>
  <td class="line-code diff_in">
    <pre>    JSON.parse('{&quot;test&quot;: true}').test;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">531</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">532</th>
  <td class="line-code diff_in">
    <pre>  function prepareReplacement(replacement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">533</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isFunction(replacement)) return replacement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">534</th>
  <td class="line-code diff_in">
    <pre>    var template = new Template(replacement);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">535</th>
  <td class="line-code diff_in">
    <pre>    return function(match) { return template.evaluate(match) };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">536</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">537</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">538</th>
  <td class="line-code diff_in">
    <pre>  function gsub(pattern, replacement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">539</th>
  <td class="line-code diff_in">
    <pre>    var result = '', source = this, match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">540</th>
  <td class="line-code diff_in">
    <pre>    replacement = prepareReplacement(replacement);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">541</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">542</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(pattern))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">543</th>
  <td class="line-code diff_in">
    <pre>      pattern = RegExp.escape(pattern);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">544</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">545</th>
  <td class="line-code diff_in">
    <pre>    if (!(pattern.length || pattern.source)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">546</th>
  <td class="line-code diff_in">
    <pre>      replacement = replacement('');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">547</th>
  <td class="line-code diff_in">
    <pre>      return replacement + source.split('').join(replacement) + replacement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">548</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">549</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">550</th>
  <td class="line-code diff_in">
    <pre>    while (source.length &gt; 0) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">551</th>
  <td class="line-code diff_in">
    <pre>      if (match = source.match(pattern)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">552</th>
  <td class="line-code diff_in">
    <pre>        result += source.slice(0, match.index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">553</th>
  <td class="line-code diff_in">
    <pre>        result += String.interpret(replacement(match));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">554</th>
  <td class="line-code diff_in">
    <pre>        source  = source.slice(match.index + match[0].length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">555</th>
  <td class="line-code diff_in">
    <pre>      } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">556</th>
  <td class="line-code diff_in">
    <pre>        result += source, source = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">557</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">558</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">559</th>
  <td class="line-code diff_in">
    <pre>    return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">560</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">561</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">562</th>
  <td class="line-code diff_in">
    <pre>  function sub(pattern, replacement, count) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">563</th>
  <td class="line-code diff_in">
    <pre>    replacement = prepareReplacement(replacement);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">564</th>
  <td class="line-code diff_in">
    <pre>    count = Object.isUndefined(count) ? 1 : count;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">565</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">566</th>
  <td class="line-code diff_in">
    <pre>    return this.gsub(pattern, function(match) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">567</th>
  <td class="line-code diff_in">
    <pre>      if (--count &lt; 0) return match[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">568</th>
  <td class="line-code diff_in">
    <pre>      return replacement(match);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">569</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">570</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">571</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">572</th>
  <td class="line-code diff_in">
    <pre>  function scan(pattern, iterator) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">573</th>
  <td class="line-code diff_in">
    <pre>    this.gsub(pattern, iterator);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">574</th>
  <td class="line-code diff_in">
    <pre>    return String(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">575</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">576</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">577</th>
  <td class="line-code diff_in">
    <pre>  function truncate(length, truncation) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">578</th>
  <td class="line-code diff_in">
    <pre>    length = length || 30;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">579</th>
  <td class="line-code diff_in">
    <pre>    truncation = Object.isUndefined(truncation) ? '...' : truncation;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">580</th>
  <td class="line-code diff_in">
    <pre>    return this.length &gt; length ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">581</th>
  <td class="line-code diff_in">
    <pre>      this.slice(0, length - truncation.length) + truncation : String(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">582</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">583</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">584</th>
  <td class="line-code diff_in">
    <pre>  function strip() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">585</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(/^\s+/, '').replace(/\s+$/, '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">586</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">587</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">588</th>
  <td class="line-code diff_in">
    <pre>  function stripTags() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">589</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(/&lt;\w+(\s+(&quot;[^&quot;]*&quot;|'[^']*'|[^&gt;])+)?&gt;|&lt;\/\w+&gt;/gi, '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">590</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">591</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">592</th>
  <td class="line-code diff_in">
    <pre>  function stripScripts() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">593</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">594</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">595</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">596</th>
  <td class="line-code diff_in">
    <pre>  function extractScripts() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">597</th>
  <td class="line-code diff_in">
    <pre>    var matchAll = new RegExp(Prototype.ScriptFragment, 'img'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">598</th>
  <td class="line-code diff_in">
    <pre>        matchOne = new RegExp(Prototype.ScriptFragment, 'im');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">599</th>
  <td class="line-code diff_in">
    <pre>    return (this.match(matchAll) || []).map(function(scriptTag) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">600</th>
  <td class="line-code diff_in">
    <pre>      return (scriptTag.match(matchOne) || ['', ''])[1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">601</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">602</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">603</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">604</th>
  <td class="line-code diff_in">
    <pre>  function evalScripts() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">605</th>
  <td class="line-code diff_in">
    <pre>    return this.extractScripts().map(function(script) { return eval(script) });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">606</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">607</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">608</th>
  <td class="line-code diff_in">
    <pre>  function escapeHTML() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">609</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(/&amp;/g,'&amp;amp;').replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">610</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">611</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">612</th>
  <td class="line-code diff_in">
    <pre>  function unescapeHTML() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">613</th>
  <td class="line-code diff_in">
    <pre>    return this.stripTags().replace(/&amp;lt;/g,'&lt;').replace(/&amp;gt;/g,'&gt;').replace(/&amp;amp;/g,'&amp;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">614</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">615</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">616</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">617</th>
  <td class="line-code diff_in">
    <pre>  function toQueryParams(separator) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">618</th>
  <td class="line-code diff_in">
    <pre>    var match = this.strip().match(/([^?#]*)(#.*)?$/);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">619</th>
  <td class="line-code diff_in">
    <pre>    if (!match) return { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">620</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">621</th>
  <td class="line-code diff_in">
    <pre>    return match[1].split(separator || '&amp;').inject({ }, function(hash, pair) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">622</th>
  <td class="line-code diff_in">
    <pre>      if ((pair = pair.split('='))[0]) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">623</th>
  <td class="line-code diff_in">
    <pre>        var key = decodeURIComponent(pair.shift()),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">624</th>
  <td class="line-code diff_in">
    <pre>            value = pair.length &gt; 1 ? pair.join('=') : pair[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">625</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">626</th>
  <td class="line-code diff_in">
    <pre>        if (value != undefined) value = decodeURIComponent(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">627</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">628</th>
  <td class="line-code diff_in">
    <pre>        if (key in hash) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">629</th>
  <td class="line-code diff_in">
    <pre>          if (!Object.isArray(hash[key])) hash[key] = [hash[key]];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">630</th>
  <td class="line-code diff_in">
    <pre>          hash[key].push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">631</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">632</th>
  <td class="line-code diff_in">
    <pre>        else hash[key] = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">633</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">634</th>
  <td class="line-code diff_in">
    <pre>      return hash;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">635</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">636</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">637</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">638</th>
  <td class="line-code diff_in">
    <pre>  function toArray() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">639</th>
  <td class="line-code diff_in">
    <pre>    return this.split('');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">640</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">641</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">642</th>
  <td class="line-code diff_in">
    <pre>  function succ() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">643</th>
  <td class="line-code diff_in">
    <pre>    return this.slice(0, this.length - 1) +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">644</th>
  <td class="line-code diff_in">
    <pre>      String.fromCharCode(this.charCodeAt(this.length - 1) + 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">645</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">646</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">647</th>
  <td class="line-code diff_in">
    <pre>  function times(count) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">648</th>
  <td class="line-code diff_in">
    <pre>    return count &lt; 1 ? '' : new Array(count + 1).join(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">649</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">650</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">651</th>
  <td class="line-code diff_in">
    <pre>  function camelize() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">652</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(/-+(.)?/g, function(match, chr) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">653</th>
  <td class="line-code diff_in">
    <pre>      return chr ? chr.toUpperCase() : '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">654</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">655</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">656</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">657</th>
  <td class="line-code diff_in">
    <pre>  function capitalize() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">658</th>
  <td class="line-code diff_in">
    <pre>    return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">659</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">660</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">661</th>
  <td class="line-code diff_in">
    <pre>  function underscore() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">662</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(/::/g, '/')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">663</th>
  <td class="line-code diff_in">
    <pre>               .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">664</th>
  <td class="line-code diff_in">
    <pre>               .replace(/([a-z\d])([A-Z])/g, '$1_$2')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">665</th>
  <td class="line-code diff_in">
    <pre>               .replace(/-/g, '_')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">666</th>
  <td class="line-code diff_in">
    <pre>               .toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">667</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">668</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">669</th>
  <td class="line-code diff_in">
    <pre>  function dasherize() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">670</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(/_/g, '-');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">671</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">672</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">673</th>
  <td class="line-code diff_in">
    <pre>  function inspect(useDoubleQuotes) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">674</th>
  <td class="line-code diff_in">
    <pre>    var escapedString = this.replace(/[\x00-\x1f\\]/g, function(character) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">675</th>
  <td class="line-code diff_in">
    <pre>      if (character in String.specialChar) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">676</th>
  <td class="line-code diff_in">
    <pre>        return String.specialChar[character];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">677</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">678</th>
  <td class="line-code diff_in">
    <pre>      return '\\u00' + character.charCodeAt().toPaddedString(2, 16);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">679</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">680</th>
  <td class="line-code diff_in">
    <pre>    if (useDoubleQuotes) return '&quot;' + escapedString.replace(/&quot;/g, '\\&quot;') + '&quot;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">681</th>
  <td class="line-code diff_in">
    <pre>    return &quot;'&quot; + escapedString.replace(/'/g, '\\\'') + &quot;'&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">682</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">683</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">684</th>
  <td class="line-code diff_in">
    <pre>  function unfilterJSON(filter) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">685</th>
  <td class="line-code diff_in">
    <pre>    return this.replace(filter || Prototype.JSONFilter, '$1');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">686</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">687</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">688</th>
  <td class="line-code diff_in">
    <pre>  function isJSON() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">689</th>
  <td class="line-code diff_in">
    <pre>    var str = this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">690</th>
  <td class="line-code diff_in">
    <pre>    if (str.blank()) return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">691</th>
  <td class="line-code diff_in">
    <pre>    str = str.replace(/\\(?:[&quot;\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">692</th>
  <td class="line-code diff_in">
    <pre>    str = str.replace(/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">693</th>
  <td class="line-code diff_in">
    <pre>    str = str.replace(/(?:^|:|,)(?:\s*\[)+/g, '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">694</th>
  <td class="line-code diff_in">
    <pre>    return (/^[\],:{}\s]*$/).test(str);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">695</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">696</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">697</th>
  <td class="line-code diff_in">
    <pre>  function evalJSON(sanitize) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">698</th>
  <td class="line-code diff_in">
    <pre>    var json = this.unfilterJSON(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">699</th>
  <td class="line-code diff_in">
    <pre>        cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">700</th>
  <td class="line-code diff_in">
    <pre>    if (cx.test(json)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">701</th>
  <td class="line-code diff_in">
    <pre>      json = json.replace(cx, function (a) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">702</th>
  <td class="line-code diff_in">
    <pre>        return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">703</th>
  <td class="line-code diff_in">
    <pre>      });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">704</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">705</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">706</th>
  <td class="line-code diff_in">
    <pre>      if (!sanitize || json.isJSON()) return eval('(' + json + ')');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">707</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) { }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">708</th>
  <td class="line-code diff_in">
    <pre>    throw new SyntaxError('Badly formed JSON string: ' + this.inspect());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">709</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">710</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">711</th>
  <td class="line-code diff_in">
    <pre>  function parseJSON() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">712</th>
  <td class="line-code diff_in">
    <pre>    var json = this.unfilterJSON();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">713</th>
  <td class="line-code diff_in">
    <pre>    return JSON.parse(json);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">714</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">715</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">716</th>
  <td class="line-code diff_in">
    <pre>  function include(pattern) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">717</th>
  <td class="line-code diff_in">
    <pre>    return this.indexOf(pattern) &gt; -1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">718</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">719</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">720</th>
  <td class="line-code diff_in">
    <pre>  function startsWith(pattern) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">721</th>
  <td class="line-code diff_in">
    <pre>    return this.lastIndexOf(pattern, 0) === 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">722</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">723</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">724</th>
  <td class="line-code diff_in">
    <pre>  function endsWith(pattern) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">725</th>
  <td class="line-code diff_in">
    <pre>    var d = this.length - pattern.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">726</th>
  <td class="line-code diff_in">
    <pre>    return d &gt;= 0 &amp;&amp; this.indexOf(pattern, d) === d;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">727</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">728</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">729</th>
  <td class="line-code diff_in">
    <pre>  function empty() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">730</th>
  <td class="line-code diff_in">
    <pre>    return this == '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">731</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">732</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">733</th>
  <td class="line-code diff_in">
    <pre>  function blank() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">734</th>
  <td class="line-code diff_in">
    <pre>    return /^\s*$/.test(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">735</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">736</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">737</th>
  <td class="line-code diff_in">
    <pre>  function interpolate(object, pattern) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">738</th>
  <td class="line-code diff_in">
    <pre>    return new Template(this, pattern).evaluate(object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">739</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">740</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">741</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">742</th>
  <td class="line-code diff_in">
    <pre>    gsub:           gsub,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">743</th>
  <td class="line-code diff_in">
    <pre>    sub:            sub,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">744</th>
  <td class="line-code diff_in">
    <pre>    scan:           scan,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">745</th>
  <td class="line-code diff_in">
    <pre>    truncate:       truncate,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">746</th>
  <td class="line-code diff_in">
    <pre>    strip:          String.prototype.trim || strip,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">747</th>
  <td class="line-code diff_in">
    <pre>    stripTags:      stripTags,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">748</th>
  <td class="line-code diff_in">
    <pre>    stripScripts:   stripScripts,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">749</th>
  <td class="line-code diff_in">
    <pre>    extractScripts: extractScripts,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">750</th>
  <td class="line-code diff_in">
    <pre>    evalScripts:    evalScripts,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">751</th>
  <td class="line-code diff_in">
    <pre>    escapeHTML:     escapeHTML,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">752</th>
  <td class="line-code diff_in">
    <pre>    unescapeHTML:   unescapeHTML,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">753</th>
  <td class="line-code diff_in">
    <pre>    toQueryParams:  toQueryParams,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">754</th>
  <td class="line-code diff_in">
    <pre>    parseQuery:     toQueryParams,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">755</th>
  <td class="line-code diff_in">
    <pre>    toArray:        toArray,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">756</th>
  <td class="line-code diff_in">
    <pre>    succ:           succ,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">757</th>
  <td class="line-code diff_in">
    <pre>    times:          times,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">758</th>
  <td class="line-code diff_in">
    <pre>    camelize:       camelize,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">759</th>
  <td class="line-code diff_in">
    <pre>    capitalize:     capitalize,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">760</th>
  <td class="line-code diff_in">
    <pre>    underscore:     underscore,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">761</th>
  <td class="line-code diff_in">
    <pre>    dasherize:      dasherize,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">762</th>
  <td class="line-code diff_in">
    <pre>    inspect:        inspect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">763</th>
  <td class="line-code diff_in">
    <pre>    unfilterJSON:   unfilterJSON,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">764</th>
  <td class="line-code diff_in">
    <pre>    isJSON:         isJSON,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">765</th>
  <td class="line-code diff_in">
    <pre>    evalJSON:       NATIVE_JSON_PARSE_SUPPORT ? parseJSON : evalJSON,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">766</th>
  <td class="line-code diff_in">
    <pre>    include:        include,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">767</th>
  <td class="line-code diff_in">
    <pre>    startsWith:     startsWith,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">768</th>
  <td class="line-code diff_in">
    <pre>    endsWith:       endsWith,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">769</th>
  <td class="line-code diff_in">
    <pre>    empty:          empty,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">770</th>
  <td class="line-code diff_in">
    <pre>    blank:          blank,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">771</th>
  <td class="line-code diff_in">
    <pre>    interpolate:    interpolate
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">772</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">773</th>
  <td class="line-code diff_in">
    <pre>})());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">774</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">775</th>
  <td class="line-code diff_in">
    <pre>var Template = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">776</th>
  <td class="line-code diff_in">
    <pre>  initialize: function(template, pattern) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">777</th>
  <td class="line-code diff_in">
    <pre>    this.template = template.toString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">778</th>
  <td class="line-code diff_in">
    <pre>    this.pattern = pattern || Template.Pattern;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">779</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">780</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">781</th>
  <td class="line-code diff_in">
    <pre>  evaluate: function(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">782</th>
  <td class="line-code diff_in">
    <pre>    if (object &amp;&amp; Object.isFunction(object.toTemplateReplacements))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">783</th>
  <td class="line-code diff_in">
    <pre>      object = object.toTemplateReplacements();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">784</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">785</th>
  <td class="line-code diff_in">
    <pre>    return this.template.gsub(this.pattern, function(match) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">786</th>
  <td class="line-code diff_in">
    <pre>      if (object == null) return (match[1] + '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">787</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">788</th>
  <td class="line-code diff_in">
    <pre>      var before = match[1] || '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">789</th>
  <td class="line-code diff_in">
    <pre>      if (before == '\\') return match[2];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">790</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">791</th>
  <td class="line-code diff_in">
    <pre>      var ctx = object, expr = match[3],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">792</th>
  <td class="line-code diff_in">
    <pre>          pattern = /^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">793</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">794</th>
  <td class="line-code diff_in">
    <pre>      match = pattern.exec(expr);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">795</th>
  <td class="line-code diff_in">
    <pre>      if (match == null) return before;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">796</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">797</th>
  <td class="line-code diff_in">
    <pre>      while (match != null) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">798</th>
  <td class="line-code diff_in">
    <pre>        var comp = match[1].startsWith('[') ? match[2].replace(/\\\\]/g, ']') : match[1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">799</th>
  <td class="line-code diff_in">
    <pre>        ctx = ctx[comp];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">800</th>
  <td class="line-code diff_in">
    <pre>        if (null == ctx || '' == match[3]) break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">801</th>
  <td class="line-code diff_in">
    <pre>        expr = expr.substring('[' == match[3] ? match[1].length : match[0].length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">802</th>
  <td class="line-code diff_in">
    <pre>        match = pattern.exec(expr);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">803</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">804</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">805</th>
  <td class="line-code diff_in">
    <pre>      return before + String.interpret(ctx);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">806</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">807</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">808</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">809</th>
  <td class="line-code diff_in">
    <pre>Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">810</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">811</th>
  <td class="line-code diff_in">
    <pre>var $break = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">812</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">813</th>
  <td class="line-code diff_in">
    <pre>var Enumerable = (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">814</th>
  <td class="line-code diff_in">
    <pre>  function each(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">815</th>
  <td class="line-code diff_in">
    <pre>    var index = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">816</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">817</th>
  <td class="line-code diff_in">
    <pre>      this._each(function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">818</th>
  <td class="line-code diff_in">
    <pre>        iterator.call(context, value, index++);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">819</th>
  <td class="line-code diff_in">
    <pre>      });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">820</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">821</th>
  <td class="line-code diff_in">
    <pre>      if (e != $break) throw e;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">822</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">823</th>
  <td class="line-code diff_in">
    <pre>    return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">824</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">825</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">826</th>
  <td class="line-code diff_in">
    <pre>  function eachSlice(number, iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">827</th>
  <td class="line-code diff_in">
    <pre>    var index = -number, slices = [], array = this.toArray();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">828</th>
  <td class="line-code diff_in">
    <pre>    if (number &lt; 1) return array;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">829</th>
  <td class="line-code diff_in">
    <pre>    while ((index += number) &lt; array.length)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">830</th>
  <td class="line-code diff_in">
    <pre>      slices.push(array.slice(index, index+number));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">831</th>
  <td class="line-code diff_in">
    <pre>    return slices.collect(iterator, context);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">832</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">833</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">834</th>
  <td class="line-code diff_in">
    <pre>  function all(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">835</th>
  <td class="line-code diff_in">
    <pre>    iterator = iterator || Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">836</th>
  <td class="line-code diff_in">
    <pre>    var result = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">837</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">838</th>
  <td class="line-code diff_in">
    <pre>      result = result &amp;&amp; !!iterator.call(context, value, index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">839</th>
  <td class="line-code diff_in">
    <pre>      if (!result) throw $break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">840</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">841</th>
  <td class="line-code diff_in">
    <pre>    return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">842</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">843</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">844</th>
  <td class="line-code diff_in">
    <pre>  function any(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">845</th>
  <td class="line-code diff_in">
    <pre>    iterator = iterator || Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">846</th>
  <td class="line-code diff_in">
    <pre>    var result = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">847</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">848</th>
  <td class="line-code diff_in">
    <pre>      if (result = !!iterator.call(context, value, index))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">849</th>
  <td class="line-code diff_in">
    <pre>        throw $break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">850</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">851</th>
  <td class="line-code diff_in">
    <pre>    return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">852</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">853</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">854</th>
  <td class="line-code diff_in">
    <pre>  function collect(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">855</th>
  <td class="line-code diff_in">
    <pre>    iterator = iterator || Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">856</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">857</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">858</th>
  <td class="line-code diff_in">
    <pre>      results.push(iterator.call(context, value, index));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">859</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">860</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">861</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">862</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">863</th>
  <td class="line-code diff_in">
    <pre>  function detect(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">864</th>
  <td class="line-code diff_in">
    <pre>    var result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">865</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">866</th>
  <td class="line-code diff_in">
    <pre>      if (iterator.call(context, value, index)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">867</th>
  <td class="line-code diff_in">
    <pre>        result = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">868</th>
  <td class="line-code diff_in">
    <pre>        throw $break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">869</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">870</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">871</th>
  <td class="line-code diff_in">
    <pre>    return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">872</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">873</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">874</th>
  <td class="line-code diff_in">
    <pre>  function findAll(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">875</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">876</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">877</th>
  <td class="line-code diff_in">
    <pre>      if (iterator.call(context, value, index))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">878</th>
  <td class="line-code diff_in">
    <pre>        results.push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">879</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">880</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">881</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">882</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">883</th>
  <td class="line-code diff_in">
    <pre>  function grep(filter, iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">884</th>
  <td class="line-code diff_in">
    <pre>    iterator = iterator || Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">885</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">886</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">887</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(filter))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">888</th>
  <td class="line-code diff_in">
    <pre>      filter = new RegExp(RegExp.escape(filter));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">889</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">890</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">891</th>
  <td class="line-code diff_in">
    <pre>      if (filter.match(value))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">892</th>
  <td class="line-code diff_in">
    <pre>        results.push(iterator.call(context, value, index));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">893</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">894</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">895</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">896</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">897</th>
  <td class="line-code diff_in">
    <pre>  function include(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">898</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isFunction(this.indexOf))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">899</th>
  <td class="line-code diff_in">
    <pre>      if (this.indexOf(object) != -1) return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">900</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">901</th>
  <td class="line-code diff_in">
    <pre>    var found = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">902</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">903</th>
  <td class="line-code diff_in">
    <pre>      if (value == object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">904</th>
  <td class="line-code diff_in">
    <pre>        found = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">905</th>
  <td class="line-code diff_in">
    <pre>        throw $break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">906</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">907</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">908</th>
  <td class="line-code diff_in">
    <pre>    return found;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">909</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">910</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">911</th>
  <td class="line-code diff_in">
    <pre>  function inGroupsOf(number, fillWith) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">912</th>
  <td class="line-code diff_in">
    <pre>    fillWith = Object.isUndefined(fillWith) ? null : fillWith;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">913</th>
  <td class="line-code diff_in">
    <pre>    return this.eachSlice(number, function(slice) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">914</th>
  <td class="line-code diff_in">
    <pre>      while(slice.length &lt; number) slice.push(fillWith);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">915</th>
  <td class="line-code diff_in">
    <pre>      return slice;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">916</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">917</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">918</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">919</th>
  <td class="line-code diff_in">
    <pre>  function inject(memo, iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">920</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">921</th>
  <td class="line-code diff_in">
    <pre>      memo = iterator.call(context, memo, value, index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">922</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">923</th>
  <td class="line-code diff_in">
    <pre>    return memo;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">924</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">925</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">926</th>
  <td class="line-code diff_in">
    <pre>  function invoke(method) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">927</th>
  <td class="line-code diff_in">
    <pre>    var args = $A(arguments).slice(1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">928</th>
  <td class="line-code diff_in">
    <pre>    return this.map(function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">929</th>
  <td class="line-code diff_in">
    <pre>      return value[method].apply(value, args);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">930</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">931</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">932</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">933</th>
  <td class="line-code diff_in">
    <pre>  function max(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">934</th>
  <td class="line-code diff_in">
    <pre>    iterator = iterator || Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">935</th>
  <td class="line-code diff_in">
    <pre>    var result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">936</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">937</th>
  <td class="line-code diff_in">
    <pre>      value = iterator.call(context, value, index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">938</th>
  <td class="line-code diff_in">
    <pre>      if (result == null || value &gt;= result)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">939</th>
  <td class="line-code diff_in">
    <pre>        result = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">940</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">941</th>
  <td class="line-code diff_in">
    <pre>    return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">942</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">943</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">944</th>
  <td class="line-code diff_in">
    <pre>  function min(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">945</th>
  <td class="line-code diff_in">
    <pre>    iterator = iterator || Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">946</th>
  <td class="line-code diff_in">
    <pre>    var result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">947</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">948</th>
  <td class="line-code diff_in">
    <pre>      value = iterator.call(context, value, index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">949</th>
  <td class="line-code diff_in">
    <pre>      if (result == null || value &lt; result)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">950</th>
  <td class="line-code diff_in">
    <pre>        result = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">951</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">952</th>
  <td class="line-code diff_in">
    <pre>    return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">953</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">954</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">955</th>
  <td class="line-code diff_in">
    <pre>  function partition(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">956</th>
  <td class="line-code diff_in">
    <pre>    iterator = iterator || Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">957</th>
  <td class="line-code diff_in">
    <pre>    var trues = [], falses = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">958</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">959</th>
  <td class="line-code diff_in">
    <pre>      (iterator.call(context, value, index) ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">960</th>
  <td class="line-code diff_in">
    <pre>        trues : falses).push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">961</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">962</th>
  <td class="line-code diff_in">
    <pre>    return [trues, falses];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">963</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">964</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">965</th>
  <td class="line-code diff_in">
    <pre>  function pluck(property) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">966</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">967</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">968</th>
  <td class="line-code diff_in">
    <pre>      results.push(value[property]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">969</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">970</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">971</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">972</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">973</th>
  <td class="line-code diff_in">
    <pre>  function reject(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">974</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">975</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">976</th>
  <td class="line-code diff_in">
    <pre>      if (!iterator.call(context, value, index))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">977</th>
  <td class="line-code diff_in">
    <pre>        results.push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">978</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">979</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">980</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">981</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">982</th>
  <td class="line-code diff_in">
    <pre>  function sortBy(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">983</th>
  <td class="line-code diff_in">
    <pre>    return this.map(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">984</th>
  <td class="line-code diff_in">
    <pre>      return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">985</th>
  <td class="line-code diff_in">
    <pre>        value: value,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">986</th>
  <td class="line-code diff_in">
    <pre>        criteria: iterator.call(context, value, index)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">987</th>
  <td class="line-code diff_in">
    <pre>      };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">988</th>
  <td class="line-code diff_in">
    <pre>    }).sort(function(left, right) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">989</th>
  <td class="line-code diff_in">
    <pre>      var a = left.criteria, b = right.criteria;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">990</th>
  <td class="line-code diff_in">
    <pre>      return a &lt; b ? -1 : a &gt; b ? 1 : 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">991</th>
  <td class="line-code diff_in">
    <pre>    }).pluck('value');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">992</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">993</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">994</th>
  <td class="line-code diff_in">
    <pre>  function toArray() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">995</th>
  <td class="line-code diff_in">
    <pre>    return this.map();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">996</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">997</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">998</th>
  <td class="line-code diff_in">
    <pre>  function zip() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">999</th>
  <td class="line-code diff_in">
    <pre>    var iterator = Prototype.K, args = $A(arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1000</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isFunction(args.last()))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1001</th>
  <td class="line-code diff_in">
    <pre>      iterator = args.pop();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1002</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1003</th>
  <td class="line-code diff_in">
    <pre>    var collections = [this].concat(args).map($A);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1004</th>
  <td class="line-code diff_in">
    <pre>    return this.map(function(value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1005</th>
  <td class="line-code diff_in">
    <pre>      return iterator(collections.pluck(index));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1006</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1007</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1008</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1009</th>
  <td class="line-code diff_in">
    <pre>  function size() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1010</th>
  <td class="line-code diff_in">
    <pre>    return this.toArray().length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1011</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1012</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1013</th>
  <td class="line-code diff_in">
    <pre>  function inspect() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1014</th>
  <td class="line-code diff_in">
    <pre>    return '#&lt;Enumerable:' + this.toArray().inspect() + '&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1015</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1016</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1017</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1018</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1019</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1020</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1021</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1022</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1023</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1024</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1025</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1026</th>
  <td class="line-code diff_in">
    <pre>    each:       each,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1027</th>
  <td class="line-code diff_in">
    <pre>    eachSlice:  eachSlice,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1028</th>
  <td class="line-code diff_in">
    <pre>    all:        all,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1029</th>
  <td class="line-code diff_in">
    <pre>    every:      all,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1030</th>
  <td class="line-code diff_in">
    <pre>    any:        any,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1031</th>
  <td class="line-code diff_in">
    <pre>    some:       any,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1032</th>
  <td class="line-code diff_in">
    <pre>    collect:    collect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1033</th>
  <td class="line-code diff_in">
    <pre>    map:        collect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1034</th>
  <td class="line-code diff_in">
    <pre>    detect:     detect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1035</th>
  <td class="line-code diff_in">
    <pre>    findAll:    findAll,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1036</th>
  <td class="line-code diff_in">
    <pre>    select:     findAll,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1037</th>
  <td class="line-code diff_in">
    <pre>    filter:     findAll,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1038</th>
  <td class="line-code diff_in">
    <pre>    grep:       grep,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1039</th>
  <td class="line-code diff_in">
    <pre>    include:    include,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1040</th>
  <td class="line-code diff_in">
    <pre>    member:     include,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1041</th>
  <td class="line-code diff_in">
    <pre>    inGroupsOf: inGroupsOf,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1042</th>
  <td class="line-code diff_in">
    <pre>    inject:     inject,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1043</th>
  <td class="line-code diff_in">
    <pre>    invoke:     invoke,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1044</th>
  <td class="line-code diff_in">
    <pre>    max:        max,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1045</th>
  <td class="line-code diff_in">
    <pre>    min:        min,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1046</th>
  <td class="line-code diff_in">
    <pre>    partition:  partition,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1047</th>
  <td class="line-code diff_in">
    <pre>    pluck:      pluck,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1048</th>
  <td class="line-code diff_in">
    <pre>    reject:     reject,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1049</th>
  <td class="line-code diff_in">
    <pre>    sortBy:     sortBy,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1050</th>
  <td class="line-code diff_in">
    <pre>    toArray:    toArray,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1051</th>
  <td class="line-code diff_in">
    <pre>    entries:    toArray,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1052</th>
  <td class="line-code diff_in">
    <pre>    zip:        zip,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1053</th>
  <td class="line-code diff_in">
    <pre>    size:       size,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1054</th>
  <td class="line-code diff_in">
    <pre>    inspect:    inspect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1055</th>
  <td class="line-code diff_in">
    <pre>    find:       detect
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1056</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1057</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1058</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1059</th>
  <td class="line-code diff_in">
    <pre>function $A(iterable) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1060</th>
  <td class="line-code diff_in">
    <pre>  if (!iterable) return [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1061</th>
  <td class="line-code diff_in">
    <pre>  if ('toArray' in Object(iterable)) return iterable.toArray();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1062</th>
  <td class="line-code diff_in">
    <pre>  var length = iterable.length || 0, results = new Array(length);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1063</th>
  <td class="line-code diff_in">
    <pre>  while (length--) results[length] = iterable[length];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1064</th>
  <td class="line-code diff_in">
    <pre>  return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1065</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1066</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1067</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1068</th>
  <td class="line-code diff_in">
    <pre>function $w(string) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1069</th>
  <td class="line-code diff_in">
    <pre>  if (!Object.isString(string)) return [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1070</th>
  <td class="line-code diff_in">
    <pre>  string = string.strip();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1071</th>
  <td class="line-code diff_in">
    <pre>  return string ? string.split(/\s+/) : [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1072</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1073</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1074</th>
  <td class="line-code diff_in">
    <pre>Array.from = $A;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1075</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1076</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1077</th>
  <td class="line-code diff_in">
    <pre>(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1078</th>
  <td class="line-code diff_in">
    <pre>  var arrayProto = Array.prototype,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1079</th>
  <td class="line-code diff_in">
    <pre>      slice = arrayProto.slice,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1080</th>
  <td class="line-code diff_in">
    <pre>      _each = arrayProto.forEach; // use native browser JS 1.6 implementation if available
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1081</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1082</th>
  <td class="line-code diff_in">
    <pre>  function each(iterator) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1083</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = this.length; i &lt; length; i++)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1084</th>
  <td class="line-code diff_in">
    <pre>      iterator(this[i]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1085</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1086</th>
  <td class="line-code diff_in">
    <pre>  if (!_each) _each = each;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1087</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1088</th>
  <td class="line-code diff_in">
    <pre>  function clear() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1089</th>
  <td class="line-code diff_in">
    <pre>    this.length = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1090</th>
  <td class="line-code diff_in">
    <pre>    return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1091</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1092</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1093</th>
  <td class="line-code diff_in">
    <pre>  function first() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1094</th>
  <td class="line-code diff_in">
    <pre>    return this[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1095</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1096</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1097</th>
  <td class="line-code diff_in">
    <pre>  function last() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1098</th>
  <td class="line-code diff_in">
    <pre>    return this[this.length - 1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1099</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1100</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1101</th>
  <td class="line-code diff_in">
    <pre>  function compact() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1102</th>
  <td class="line-code diff_in">
    <pre>    return this.select(function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1103</th>
  <td class="line-code diff_in">
    <pre>      return value != null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1104</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1105</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1106</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1107</th>
  <td class="line-code diff_in">
    <pre>  function flatten() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1108</th>
  <td class="line-code diff_in">
    <pre>    return this.inject([], function(array, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1109</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isArray(value))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1110</th>
  <td class="line-code diff_in">
    <pre>        return array.concat(value.flatten());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1111</th>
  <td class="line-code diff_in">
    <pre>      array.push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1112</th>
  <td class="line-code diff_in">
    <pre>      return array;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1113</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1114</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1115</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1116</th>
  <td class="line-code diff_in">
    <pre>  function without() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1117</th>
  <td class="line-code diff_in">
    <pre>    var values = slice.call(arguments, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1118</th>
  <td class="line-code diff_in">
    <pre>    return this.select(function(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1119</th>
  <td class="line-code diff_in">
    <pre>      return !values.include(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1120</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1121</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1122</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1123</th>
  <td class="line-code diff_in">
    <pre>  function reverse(inline) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1124</th>
  <td class="line-code diff_in">
    <pre>    return (inline === false ? this.toArray() : this)._reverse();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1125</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1126</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1127</th>
  <td class="line-code diff_in">
    <pre>  function uniq(sorted) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1128</th>
  <td class="line-code diff_in">
    <pre>    return this.inject([], function(array, value, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1129</th>
  <td class="line-code diff_in">
    <pre>      if (0 == index || (sorted ? array.last() != value : !array.include(value)))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1130</th>
  <td class="line-code diff_in">
    <pre>        array.push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1131</th>
  <td class="line-code diff_in">
    <pre>      return array;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1132</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1133</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1134</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1135</th>
  <td class="line-code diff_in">
    <pre>  function intersect(array) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1136</th>
  <td class="line-code diff_in">
    <pre>    return this.uniq().findAll(function(item) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1137</th>
  <td class="line-code diff_in">
    <pre>      return array.detect(function(value) { return item === value });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1138</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1139</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1140</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1141</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1142</th>
  <td class="line-code diff_in">
    <pre>  function clone() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1143</th>
  <td class="line-code diff_in">
    <pre>    return slice.call(this, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1144</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1145</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1146</th>
  <td class="line-code diff_in">
    <pre>  function size() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1147</th>
  <td class="line-code diff_in">
    <pre>    return this.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1148</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1149</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1150</th>
  <td class="line-code diff_in">
    <pre>  function inspect() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1151</th>
  <td class="line-code diff_in">
    <pre>    return '[' + this.map(Object.inspect).join(', ') + ']';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1152</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1153</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1154</th>
  <td class="line-code diff_in">
    <pre>  function indexOf(item, i) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1155</th>
  <td class="line-code diff_in">
    <pre>    i || (i = 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1156</th>
  <td class="line-code diff_in">
    <pre>    var length = this.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1157</th>
  <td class="line-code diff_in">
    <pre>    if (i &lt; 0) i = length + i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1158</th>
  <td class="line-code diff_in">
    <pre>    for (; i &lt; length; i++)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1159</th>
  <td class="line-code diff_in">
    <pre>      if (this[i] === item) return i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1160</th>
  <td class="line-code diff_in">
    <pre>    return -1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1161</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1162</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1163</th>
  <td class="line-code diff_in">
    <pre>  function lastIndexOf(item, i) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1164</th>
  <td class="line-code diff_in">
    <pre>    i = isNaN(i) ? this.length : (i &lt; 0 ? this.length + i : i) + 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1165</th>
  <td class="line-code diff_in">
    <pre>    var n = this.slice(0, i).reverse().indexOf(item);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1166</th>
  <td class="line-code diff_in">
    <pre>    return (n &lt; 0) ? n : i - n - 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1167</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1168</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1169</th>
  <td class="line-code diff_in">
    <pre>  function concat() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1170</th>
  <td class="line-code diff_in">
    <pre>    var array = slice.call(this, 0), item;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1171</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = arguments.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1172</th>
  <td class="line-code diff_in">
    <pre>      item = arguments[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1173</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isArray(item) &amp;&amp; !('callee' in item)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1174</th>
  <td class="line-code diff_in">
    <pre>        for (var j = 0, arrayLength = item.length; j &lt; arrayLength; j++)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1175</th>
  <td class="line-code diff_in">
    <pre>          array.push(item[j]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1176</th>
  <td class="line-code diff_in">
    <pre>      } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1177</th>
  <td class="line-code diff_in">
    <pre>        array.push(item);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1178</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1179</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1180</th>
  <td class="line-code diff_in">
    <pre>    return array;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1181</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1182</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1183</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(arrayProto, Enumerable);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1184</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1185</th>
  <td class="line-code diff_in">
    <pre>  if (!arrayProto._reverse)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1186</th>
  <td class="line-code diff_in">
    <pre>    arrayProto._reverse = arrayProto.reverse;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1187</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1188</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(arrayProto, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1189</th>
  <td class="line-code diff_in">
    <pre>    _each:     _each,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1190</th>
  <td class="line-code diff_in">
    <pre>    clear:     clear,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1191</th>
  <td class="line-code diff_in">
    <pre>    first:     first,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1192</th>
  <td class="line-code diff_in">
    <pre>    last:      last,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1193</th>
  <td class="line-code diff_in">
    <pre>    compact:   compact,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1194</th>
  <td class="line-code diff_in">
    <pre>    flatten:   flatten,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1195</th>
  <td class="line-code diff_in">
    <pre>    without:   without,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1196</th>
  <td class="line-code diff_in">
    <pre>    reverse:   reverse,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1197</th>
  <td class="line-code diff_in">
    <pre>    uniq:      uniq,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1198</th>
  <td class="line-code diff_in">
    <pre>    intersect: intersect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1199</th>
  <td class="line-code diff_in">
    <pre>    clone:     clone,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1200</th>
  <td class="line-code diff_in">
    <pre>    toArray:   clone,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1201</th>
  <td class="line-code diff_in">
    <pre>    size:      size,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1202</th>
  <td class="line-code diff_in">
    <pre>    inspect:   inspect
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1203</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1204</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1205</th>
  <td class="line-code diff_in">
    <pre>  var CONCAT_ARGUMENTS_BUGGY = (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1206</th>
  <td class="line-code diff_in">
    <pre>    return [].concat(arguments)[0][0] !== 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1207</th>
  <td class="line-code diff_in">
    <pre>  })(1,2)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1208</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1209</th>
  <td class="line-code diff_in">
    <pre>  if (CONCAT_ARGUMENTS_BUGGY) arrayProto.concat = concat;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1210</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1211</th>
  <td class="line-code diff_in">
    <pre>  if (!arrayProto.indexOf) arrayProto.indexOf = indexOf;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1212</th>
  <td class="line-code diff_in">
    <pre>  if (!arrayProto.lastIndexOf) arrayProto.lastIndexOf = lastIndexOf;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1213</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1214</th>
  <td class="line-code diff_in">
    <pre>function $H(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1215</th>
  <td class="line-code diff_in">
    <pre>  return new Hash(object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1216</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1217</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1218</th>
  <td class="line-code diff_in">
    <pre>var Hash = Class.create(Enumerable, (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1219</th>
  <td class="line-code diff_in">
    <pre>  function initialize(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1220</th>
  <td class="line-code diff_in">
    <pre>    this._object = Object.isHash(object) ? object.toObject() : Object.clone(object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1221</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1222</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1223</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1224</th>
  <td class="line-code diff_in">
    <pre>  function _each(iterator) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1225</th>
  <td class="line-code diff_in">
    <pre>    for (var key in this._object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1226</th>
  <td class="line-code diff_in">
    <pre>      var value = this._object[key], pair = [key, value];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1227</th>
  <td class="line-code diff_in">
    <pre>      pair.key = key;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1228</th>
  <td class="line-code diff_in">
    <pre>      pair.value = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1229</th>
  <td class="line-code diff_in">
    <pre>      iterator(pair);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1230</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1231</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1232</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1233</th>
  <td class="line-code diff_in">
    <pre>  function set(key, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1234</th>
  <td class="line-code diff_in">
    <pre>    return this._object[key] = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1235</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1236</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1237</th>
  <td class="line-code diff_in">
    <pre>  function get(key) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1238</th>
  <td class="line-code diff_in">
    <pre>    if (this._object[key] !== Object.prototype[key])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1239</th>
  <td class="line-code diff_in">
    <pre>      return this._object[key];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1240</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1241</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1242</th>
  <td class="line-code diff_in">
    <pre>  function unset(key) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1243</th>
  <td class="line-code diff_in">
    <pre>    var value = this._object[key];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1244</th>
  <td class="line-code diff_in">
    <pre>    delete this._object[key];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1245</th>
  <td class="line-code diff_in">
    <pre>    return value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1246</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1247</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1248</th>
  <td class="line-code diff_in">
    <pre>  function toObject() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1249</th>
  <td class="line-code diff_in">
    <pre>    return Object.clone(this._object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1250</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1251</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1252</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1253</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1254</th>
  <td class="line-code diff_in">
    <pre>  function keys() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1255</th>
  <td class="line-code diff_in">
    <pre>    return this.pluck('key');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1256</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1257</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1258</th>
  <td class="line-code diff_in">
    <pre>  function values() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1259</th>
  <td class="line-code diff_in">
    <pre>    return this.pluck('value');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1260</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1261</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1262</th>
  <td class="line-code diff_in">
    <pre>  function index(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1263</th>
  <td class="line-code diff_in">
    <pre>    var match = this.detect(function(pair) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1264</th>
  <td class="line-code diff_in">
    <pre>      return pair.value === value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1265</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1266</th>
  <td class="line-code diff_in">
    <pre>    return match &amp;&amp; match.key;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1267</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1268</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1269</th>
  <td class="line-code diff_in">
    <pre>  function merge(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1270</th>
  <td class="line-code diff_in">
    <pre>    return this.clone().update(object);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1271</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1272</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1273</th>
  <td class="line-code diff_in">
    <pre>  function update(object) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1274</th>
  <td class="line-code diff_in">
    <pre>    return new Hash(object).inject(this, function(result, pair) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1275</th>
  <td class="line-code diff_in">
    <pre>      result.set(pair.key, pair.value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1276</th>
  <td class="line-code diff_in">
    <pre>      return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1277</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1278</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1279</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1280</th>
  <td class="line-code diff_in">
    <pre>  function toQueryPair(key, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1281</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(value)) return key;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1282</th>
  <td class="line-code diff_in">
    <pre>    return key + '=' + encodeURIComponent(String.interpret(value));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1283</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1284</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1285</th>
  <td class="line-code diff_in">
    <pre>  function toQueryString() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1286</th>
  <td class="line-code diff_in">
    <pre>    return this.inject([], function(results, pair) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1287</th>
  <td class="line-code diff_in">
    <pre>      var key = encodeURIComponent(pair.key), values = pair.value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1288</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1289</th>
  <td class="line-code diff_in">
    <pre>      if (values &amp;&amp; typeof values == 'object') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1290</th>
  <td class="line-code diff_in">
    <pre>        if (Object.isArray(values))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1291</th>
  <td class="line-code diff_in">
    <pre>          return results.concat(values.map(toQueryPair.curry(key)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1292</th>
  <td class="line-code diff_in">
    <pre>      } else results.push(toQueryPair(key, values));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1293</th>
  <td class="line-code diff_in">
    <pre>      return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1294</th>
  <td class="line-code diff_in">
    <pre>    }).join('&amp;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1295</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1296</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1297</th>
  <td class="line-code diff_in">
    <pre>  function inspect() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1298</th>
  <td class="line-code diff_in">
    <pre>    return '#&lt;Hash:{' + this.map(function(pair) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1299</th>
  <td class="line-code diff_in">
    <pre>      return pair.map(Object.inspect).join(': ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1300</th>
  <td class="line-code diff_in">
    <pre>    }).join(', ') + '}&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1301</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1302</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1303</th>
  <td class="line-code diff_in">
    <pre>  function clone() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1304</th>
  <td class="line-code diff_in">
    <pre>    return new Hash(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1305</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1306</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1307</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1308</th>
  <td class="line-code diff_in">
    <pre>    initialize:             initialize,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1309</th>
  <td class="line-code diff_in">
    <pre>    _each:                  _each,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1310</th>
  <td class="line-code diff_in">
    <pre>    set:                    set,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1311</th>
  <td class="line-code diff_in">
    <pre>    get:                    get,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1312</th>
  <td class="line-code diff_in">
    <pre>    unset:                  unset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1313</th>
  <td class="line-code diff_in">
    <pre>    toObject:               toObject,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1314</th>
  <td class="line-code diff_in">
    <pre>    toTemplateReplacements: toObject,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1315</th>
  <td class="line-code diff_in">
    <pre>    keys:                   keys,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1316</th>
  <td class="line-code diff_in">
    <pre>    values:                 values,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1317</th>
  <td class="line-code diff_in">
    <pre>    index:                  index,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1318</th>
  <td class="line-code diff_in">
    <pre>    merge:                  merge,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1319</th>
  <td class="line-code diff_in">
    <pre>    update:                 update,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1320</th>
  <td class="line-code diff_in">
    <pre>    toQueryString:          toQueryString,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1321</th>
  <td class="line-code diff_in">
    <pre>    inspect:                inspect,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1322</th>
  <td class="line-code diff_in">
    <pre>    toJSON:                 toObject,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1323</th>
  <td class="line-code diff_in">
    <pre>    clone:                  clone
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1324</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1325</th>
  <td class="line-code diff_in">
    <pre>})());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1326</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1327</th>
  <td class="line-code diff_in">
    <pre>Hash.from = $H;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1328</th>
  <td class="line-code diff_in">
    <pre>Object.extend(Number.prototype, (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1329</th>
  <td class="line-code diff_in">
    <pre>  function toColorPart() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1330</th>
  <td class="line-code diff_in">
    <pre>    return this.toPaddedString(2, 16);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1331</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1332</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1333</th>
  <td class="line-code diff_in">
    <pre>  function succ() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1334</th>
  <td class="line-code diff_in">
    <pre>    return this + 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1335</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1336</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1337</th>
  <td class="line-code diff_in">
    <pre>  function times(iterator, context) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1338</th>
  <td class="line-code diff_in">
    <pre>    $R(0, this, true).each(iterator, context);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1339</th>
  <td class="line-code diff_in">
    <pre>    return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1340</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1341</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1342</th>
  <td class="line-code diff_in">
    <pre>  function toPaddedString(length, radix) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1343</th>
  <td class="line-code diff_in">
    <pre>    var string = this.toString(radix || 10);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1344</th>
  <td class="line-code diff_in">
    <pre>    return '0'.times(length - string.length) + string;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1345</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1346</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1347</th>
  <td class="line-code diff_in">
    <pre>  function abs() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1348</th>
  <td class="line-code diff_in">
    <pre>    return Math.abs(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1349</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1350</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1351</th>
  <td class="line-code diff_in">
    <pre>  function round() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1352</th>
  <td class="line-code diff_in">
    <pre>    return Math.round(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1353</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1354</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1355</th>
  <td class="line-code diff_in">
    <pre>  function ceil() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1356</th>
  <td class="line-code diff_in">
    <pre>    return Math.ceil(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1357</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1358</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1359</th>
  <td class="line-code diff_in">
    <pre>  function floor() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1360</th>
  <td class="line-code diff_in">
    <pre>    return Math.floor(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1361</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1362</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1363</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1364</th>
  <td class="line-code diff_in">
    <pre>    toColorPart:    toColorPart,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1365</th>
  <td class="line-code diff_in">
    <pre>    succ:           succ,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1366</th>
  <td class="line-code diff_in">
    <pre>    times:          times,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1367</th>
  <td class="line-code diff_in">
    <pre>    toPaddedString: toPaddedString,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1368</th>
  <td class="line-code diff_in">
    <pre>    abs:            abs,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1369</th>
  <td class="line-code diff_in">
    <pre>    round:          round,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1370</th>
  <td class="line-code diff_in">
    <pre>    ceil:           ceil,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1371</th>
  <td class="line-code diff_in">
    <pre>    floor:          floor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1372</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1373</th>
  <td class="line-code diff_in">
    <pre>})());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1374</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1375</th>
  <td class="line-code diff_in">
    <pre>function $R(start, end, exclusive) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1376</th>
  <td class="line-code diff_in">
    <pre>  return new ObjectRange(start, end, exclusive);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1377</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1378</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1379</th>
  <td class="line-code diff_in">
    <pre>var ObjectRange = Class.create(Enumerable, (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1380</th>
  <td class="line-code diff_in">
    <pre>  function initialize(start, end, exclusive) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1381</th>
  <td class="line-code diff_in">
    <pre>    this.start = start;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1382</th>
  <td class="line-code diff_in">
    <pre>    this.end = end;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1383</th>
  <td class="line-code diff_in">
    <pre>    this.exclusive = exclusive;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1384</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1385</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1386</th>
  <td class="line-code diff_in">
    <pre>  function _each(iterator) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1387</th>
  <td class="line-code diff_in">
    <pre>    var value = this.start;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1388</th>
  <td class="line-code diff_in">
    <pre>    while (this.include(value)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1389</th>
  <td class="line-code diff_in">
    <pre>      iterator(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1390</th>
  <td class="line-code diff_in">
    <pre>      value = value.succ();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1391</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1392</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1393</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1394</th>
  <td class="line-code diff_in">
    <pre>  function include(value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1395</th>
  <td class="line-code diff_in">
    <pre>    if (value &lt; this.start)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1396</th>
  <td class="line-code diff_in">
    <pre>      return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1397</th>
  <td class="line-code diff_in">
    <pre>    if (this.exclusive)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1398</th>
  <td class="line-code diff_in">
    <pre>      return value &lt; this.end;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1399</th>
  <td class="line-code diff_in">
    <pre>    return value &lt;= this.end;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1400</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1401</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1402</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1403</th>
  <td class="line-code diff_in">
    <pre>    initialize: initialize,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1404</th>
  <td class="line-code diff_in">
    <pre>    _each:      _each,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1405</th>
  <td class="line-code diff_in">
    <pre>    include:    include
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1406</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1407</th>
  <td class="line-code diff_in">
    <pre>})());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1408</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1409</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1410</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1411</th>
  <td class="line-code diff_in">
    <pre>var Ajax = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1412</th>
  <td class="line-code diff_in">
    <pre>  getTransport: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1413</th>
  <td class="line-code diff_in">
    <pre>    return Try.these(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1414</th>
  <td class="line-code diff_in">
    <pre>      function() {return new XMLHttpRequest()},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1415</th>
  <td class="line-code diff_in">
    <pre>      function() {return new ActiveXObject('Msxml2.XMLHTTP')},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1416</th>
  <td class="line-code diff_in">
    <pre>      function() {return new ActiveXObject('Microsoft.XMLHTTP')}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1417</th>
  <td class="line-code diff_in">
    <pre>    ) || false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1418</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1419</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1420</th>
  <td class="line-code diff_in">
    <pre>  activeRequestCount: 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1421</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1422</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1423</th>
  <td class="line-code diff_in">
    <pre>Ajax.Responders = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1424</th>
  <td class="line-code diff_in">
    <pre>  responders: [],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1425</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1426</th>
  <td class="line-code diff_in">
    <pre>  _each: function(iterator) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1427</th>
  <td class="line-code diff_in">
    <pre>    this.responders._each(iterator);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1428</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1429</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1430</th>
  <td class="line-code diff_in">
    <pre>  register: function(responder) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1431</th>
  <td class="line-code diff_in">
    <pre>    if (!this.include(responder))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1432</th>
  <td class="line-code diff_in">
    <pre>      this.responders.push(responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1433</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1434</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1435</th>
  <td class="line-code diff_in">
    <pre>  unregister: function(responder) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1436</th>
  <td class="line-code diff_in">
    <pre>    this.responders = this.responders.without(responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1437</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1438</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1439</th>
  <td class="line-code diff_in">
    <pre>  dispatch: function(callback, request, transport, json) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1440</th>
  <td class="line-code diff_in">
    <pre>    this.each(function(responder) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1441</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isFunction(responder[callback])) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1442</th>
  <td class="line-code diff_in">
    <pre>        try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1443</th>
  <td class="line-code diff_in">
    <pre>          responder[callback].apply(responder, [request, transport, json]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1444</th>
  <td class="line-code diff_in">
    <pre>        } catch (e) { }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1445</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1446</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1447</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1448</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1449</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1450</th>
  <td class="line-code diff_in">
    <pre>Object.extend(Ajax.Responders, Enumerable);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1451</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1452</th>
  <td class="line-code diff_in">
    <pre>Ajax.Responders.register({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1453</th>
  <td class="line-code diff_in">
    <pre>  onCreate:   function() { Ajax.activeRequestCount++ },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1454</th>
  <td class="line-code diff_in">
    <pre>  onComplete: function() { Ajax.activeRequestCount-- }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1455</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1456</th>
  <td class="line-code diff_in">
    <pre>Ajax.Base = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1457</th>
  <td class="line-code diff_in">
    <pre>  initialize: function(options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1458</th>
  <td class="line-code diff_in">
    <pre>    this.options = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1459</th>
  <td class="line-code diff_in">
    <pre>      method:       'post',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1460</th>
  <td class="line-code diff_in">
    <pre>      asynchronous: true,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1461</th>
  <td class="line-code diff_in">
    <pre>      contentType:  'application/x-www-form-urlencoded',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1462</th>
  <td class="line-code diff_in">
    <pre>      encoding:     'UTF-8',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1463</th>
  <td class="line-code diff_in">
    <pre>      parameters:   '',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1464</th>
  <td class="line-code diff_in">
    <pre>      evalJSON:     true,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1465</th>
  <td class="line-code diff_in">
    <pre>      evalJS:       true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1466</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1467</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(this.options, options || { });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1468</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1469</th>
  <td class="line-code diff_in">
    <pre>    this.options.method = this.options.method.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1470</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1471</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(this.options.parameters))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1472</th>
  <td class="line-code diff_in">
    <pre>      this.options.parameters = this.options.parameters.toQueryParams();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1473</th>
  <td class="line-code diff_in">
    <pre>    else if (Object.isHash(this.options.parameters))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1474</th>
  <td class="line-code diff_in">
    <pre>      this.options.parameters = this.options.parameters.toObject();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1475</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1476</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1477</th>
  <td class="line-code diff_in">
    <pre>Ajax.Request = Class.create(Ajax.Base, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1478</th>
  <td class="line-code diff_in">
    <pre>  _complete: false,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1479</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1480</th>
  <td class="line-code diff_in">
    <pre>  initialize: function($super, url, options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1481</th>
  <td class="line-code diff_in">
    <pre>    $super(options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1482</th>
  <td class="line-code diff_in">
    <pre>    this.transport = Ajax.getTransport();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1483</th>
  <td class="line-code diff_in">
    <pre>    this.request(url);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1484</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1485</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1486</th>
  <td class="line-code diff_in">
    <pre>  request: function(url) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1487</th>
  <td class="line-code diff_in">
    <pre>    this.url = url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1488</th>
  <td class="line-code diff_in">
    <pre>    this.method = this.options.method;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1489</th>
  <td class="line-code diff_in">
    <pre>    var params = Object.clone(this.options.parameters);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1490</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1491</th>
  <td class="line-code diff_in">
    <pre>    if (!['get', 'post'].include(this.method)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1492</th>
  <td class="line-code diff_in">
    <pre>      params['_method'] = this.method;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1493</th>
  <td class="line-code diff_in">
    <pre>      this.method = 'post';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1494</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1495</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1496</th>
  <td class="line-code diff_in">
    <pre>    this.parameters = params;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1497</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1498</th>
  <td class="line-code diff_in">
    <pre>    if (params = Object.toQueryString(params)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1499</th>
  <td class="line-code diff_in">
    <pre>      if (this.method == 'get')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1500</th>
  <td class="line-code diff_in">
    <pre>        this.url += (this.url.include('?') ? '&amp;' : '?') + params;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1501</th>
  <td class="line-code diff_in">
    <pre>      else if (/Konqueror|Safari|KHTML/.test(navigator.userAgent))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1502</th>
  <td class="line-code diff_in">
    <pre>        params += '&amp;_=';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1503</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1504</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1505</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1506</th>
  <td class="line-code diff_in">
    <pre>      var response = new Ajax.Response(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1507</th>
  <td class="line-code diff_in">
    <pre>      if (this.options.onCreate) this.options.onCreate(response);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1508</th>
  <td class="line-code diff_in">
    <pre>      Ajax.Responders.dispatch('onCreate', this, response);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1509</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1510</th>
  <td class="line-code diff_in">
    <pre>      this.transport.open(this.method.toUpperCase(), this.url,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1511</th>
  <td class="line-code diff_in">
    <pre>        this.options.asynchronous);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1512</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1513</th>
  <td class="line-code diff_in">
    <pre>      if (this.options.asynchronous) this.respondToReadyState.bind(this).defer(1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1514</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1515</th>
  <td class="line-code diff_in">
    <pre>      this.transport.onreadystatechange = this.onStateChange.bind(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1516</th>
  <td class="line-code diff_in">
    <pre>      this.setRequestHeaders();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1517</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1518</th>
  <td class="line-code diff_in">
    <pre>      this.body = this.method == 'post' ? (this.options.postBody || params) : null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1519</th>
  <td class="line-code diff_in">
    <pre>      this.transport.send(this.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1520</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1521</th>
  <td class="line-code diff_in">
    <pre>      /* Force Firefox to handle ready state 4 for synchronous requests */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1522</th>
  <td class="line-code diff_in">
    <pre>      if (!this.options.asynchronous &amp;&amp; this.transport.overrideMimeType)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1523</th>
  <td class="line-code diff_in">
    <pre>        this.onStateChange();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1524</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1525</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1526</th>
  <td class="line-code diff_in">
    <pre>    catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1527</th>
  <td class="line-code diff_in">
    <pre>      this.dispatchException(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1528</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1529</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1530</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1531</th>
  <td class="line-code diff_in">
    <pre>  onStateChange: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1532</th>
  <td class="line-code diff_in">
    <pre>    var readyState = this.transport.readyState;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1533</th>
  <td class="line-code diff_in">
    <pre>    if (readyState &gt; 1 &amp;&amp; !((readyState == 4) &amp;&amp; this._complete))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1534</th>
  <td class="line-code diff_in">
    <pre>      this.respondToReadyState(this.transport.readyState);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1535</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1536</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1537</th>
  <td class="line-code diff_in">
    <pre>  setRequestHeaders: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1538</th>
  <td class="line-code diff_in">
    <pre>    var headers = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1539</th>
  <td class="line-code diff_in">
    <pre>      'X-Requested-With': 'XMLHttpRequest',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1540</th>
  <td class="line-code diff_in">
    <pre>      'X-Prototype-Version': Prototype.Version,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1541</th>
  <td class="line-code diff_in">
    <pre>      'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1542</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1543</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1544</th>
  <td class="line-code diff_in">
    <pre>    if (this.method == 'post') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1545</th>
  <td class="line-code diff_in">
    <pre>      headers['Content-type'] = this.options.contentType +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1546</th>
  <td class="line-code diff_in">
    <pre>        (this.options.encoding ? '; charset=' + this.options.encoding : '');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1547</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1548</th>
  <td class="line-code diff_in">
    <pre>      /* Force &quot;Connection: close&quot; for older Mozilla browsers to work
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1549</th>
  <td class="line-code diff_in">
    <pre>       * around a bug where XMLHttpRequest sends an incorrect
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1550</th>
  <td class="line-code diff_in">
    <pre>       * Content-length header. See Mozilla Bugzilla #246651.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1551</th>
  <td class="line-code diff_in">
    <pre>       */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1552</th>
  <td class="line-code diff_in">
    <pre>      if (this.transport.overrideMimeType &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1553</th>
  <td class="line-code diff_in">
    <pre>          (navigator.userAgent.match(/Gecko\/(\d{4})/) || [0,2005])[1] &lt; 2005)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1554</th>
  <td class="line-code diff_in">
    <pre>            headers['Connection'] = 'close';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1555</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1556</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1557</th>
  <td class="line-code diff_in">
    <pre>    if (typeof this.options.requestHeaders == 'object') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1558</th>
  <td class="line-code diff_in">
    <pre>      var extras = this.options.requestHeaders;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1559</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1560</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isFunction(extras.push))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1561</th>
  <td class="line-code diff_in">
    <pre>        for (var i = 0, length = extras.length; i &lt; length; i += 2)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1562</th>
  <td class="line-code diff_in">
    <pre>          headers[extras[i]] = extras[i+1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1563</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1564</th>
  <td class="line-code diff_in">
    <pre>        $H(extras).each(function(pair) { headers[pair.key] = pair.value });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1565</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1566</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1567</th>
  <td class="line-code diff_in">
    <pre>    for (var name in headers)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1568</th>
  <td class="line-code diff_in">
    <pre>      this.transport.setRequestHeader(name, headers[name]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1569</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1570</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1571</th>
  <td class="line-code diff_in">
    <pre>  success: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1572</th>
  <td class="line-code diff_in">
    <pre>    var status = this.getStatus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1573</th>
  <td class="line-code diff_in">
    <pre>    return !status || (status &gt;= 200 &amp;&amp; status &lt; 300);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1574</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1575</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1576</th>
  <td class="line-code diff_in">
    <pre>  getStatus: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1577</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1578</th>
  <td class="line-code diff_in">
    <pre>      return this.transport.status || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1579</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) { return 0 }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1580</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1581</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1582</th>
  <td class="line-code diff_in">
    <pre>  respondToReadyState: function(readyState) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1583</th>
  <td class="line-code diff_in">
    <pre>    var state = Ajax.Request.Events[readyState], response = new Ajax.Response(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1584</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1585</th>
  <td class="line-code diff_in">
    <pre>    if (state == 'Complete') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1586</th>
  <td class="line-code diff_in">
    <pre>      try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1587</th>
  <td class="line-code diff_in">
    <pre>        this._complete = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1588</th>
  <td class="line-code diff_in">
    <pre>        (this.options['on' + response.status]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1589</th>
  <td class="line-code diff_in">
    <pre>         || this.options['on' + (this.success() ? 'Success' : 'Failure')]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1590</th>
  <td class="line-code diff_in">
    <pre>         || Prototype.emptyFunction)(response, response.headerJSON);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1591</th>
  <td class="line-code diff_in">
    <pre>      } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1592</th>
  <td class="line-code diff_in">
    <pre>        this.dispatchException(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1593</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1594</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1595</th>
  <td class="line-code diff_in">
    <pre>      var contentType = response.getHeader('Content-type');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1596</th>
  <td class="line-code diff_in">
    <pre>      if (this.options.evalJS == 'force'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1597</th>
  <td class="line-code diff_in">
    <pre>          || (this.options.evalJS &amp;&amp; this.isSameOrigin() &amp;&amp; contentType
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1598</th>
  <td class="line-code diff_in">
    <pre>          &amp;&amp; contentType.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i)))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1599</th>
  <td class="line-code diff_in">
    <pre>        this.evalResponse();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1600</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1601</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1602</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1603</th>
  <td class="line-code diff_in">
    <pre>      (this.options['on' + state] || Prototype.emptyFunction)(response, response.headerJSON);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1604</th>
  <td class="line-code diff_in">
    <pre>      Ajax.Responders.dispatch('on' + state, this, response, response.headerJSON);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1605</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1606</th>
  <td class="line-code diff_in">
    <pre>      this.dispatchException(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1607</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1608</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1609</th>
  <td class="line-code diff_in">
    <pre>    if (state == 'Complete') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1610</th>
  <td class="line-code diff_in">
    <pre>      this.transport.onreadystatechange = Prototype.emptyFunction;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1611</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1612</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1613</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1614</th>
  <td class="line-code diff_in">
    <pre>  isSameOrigin: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1615</th>
  <td class="line-code diff_in">
    <pre>    var m = this.url.match(/^\s*https?:\/\/[^\/]*/);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1616</th>
  <td class="line-code diff_in">
    <pre>    return !m || (m[0] == '#{protocol}//#{domain}#{port}'.interpolate({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1617</th>
  <td class="line-code diff_in">
    <pre>      protocol: location.protocol,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1618</th>
  <td class="line-code diff_in">
    <pre>      domain: document.domain,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1619</th>
  <td class="line-code diff_in">
    <pre>      port: location.port ? ':' + location.port : ''
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1620</th>
  <td class="line-code diff_in">
    <pre>    }));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1621</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1622</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1623</th>
  <td class="line-code diff_in">
    <pre>  getHeader: function(name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1624</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1625</th>
  <td class="line-code diff_in">
    <pre>      return this.transport.getResponseHeader(name) || null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1626</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) { return null; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1627</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1628</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1629</th>
  <td class="line-code diff_in">
    <pre>  evalResponse: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1630</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1631</th>
  <td class="line-code diff_in">
    <pre>      return eval((this.transport.responseText || '').unfilterJSON());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1632</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1633</th>
  <td class="line-code diff_in">
    <pre>      this.dispatchException(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1634</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1635</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1636</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1637</th>
  <td class="line-code diff_in">
    <pre>  dispatchException: function(exception) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1638</th>
  <td class="line-code diff_in">
    <pre>    (this.options.onException || Prototype.emptyFunction)(this, exception);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1639</th>
  <td class="line-code diff_in">
    <pre>    Ajax.Responders.dispatch('onException', this, exception);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1640</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1641</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1642</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1643</th>
  <td class="line-code diff_in">
    <pre>Ajax.Request.Events =
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1644</th>
  <td class="line-code diff_in">
    <pre>  ['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1645</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1646</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1647</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1648</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1649</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1650</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1651</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1652</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1653</th>
  <td class="line-code diff_in">
    <pre>Ajax.Response = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1654</th>
  <td class="line-code diff_in">
    <pre>  initialize: function(request){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1655</th>
  <td class="line-code diff_in">
    <pre>    this.request = request;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1656</th>
  <td class="line-code diff_in">
    <pre>    var transport  = this.transport  = request.transport,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1657</th>
  <td class="line-code diff_in">
    <pre>        readyState = this.readyState = transport.readyState;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1658</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1659</th>
  <td class="line-code diff_in">
    <pre>    if ((readyState &gt; 2 &amp;&amp; !Prototype.Browser.IE) || readyState == 4) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1660</th>
  <td class="line-code diff_in">
    <pre>      this.status       = this.getStatus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1661</th>
  <td class="line-code diff_in">
    <pre>      this.statusText   = this.getStatusText();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1662</th>
  <td class="line-code diff_in">
    <pre>      this.responseText = String.interpret(transport.responseText);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1663</th>
  <td class="line-code diff_in">
    <pre>      this.headerJSON   = this._getHeaderJSON();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1664</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1665</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1666</th>
  <td class="line-code diff_in">
    <pre>    if (readyState == 4) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1667</th>
  <td class="line-code diff_in">
    <pre>      var xml = transport.responseXML;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1668</th>
  <td class="line-code diff_in">
    <pre>      this.responseXML  = Object.isUndefined(xml) ? null : xml;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1669</th>
  <td class="line-code diff_in">
    <pre>      this.responseJSON = this._getResponseJSON();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1670</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1671</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1672</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1673</th>
  <td class="line-code diff_in">
    <pre>  status:      0,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1674</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1675</th>
  <td class="line-code diff_in">
    <pre>  statusText: '',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1676</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1677</th>
  <td class="line-code diff_in">
    <pre>  getStatus: Ajax.Request.prototype.getStatus,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1678</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1679</th>
  <td class="line-code diff_in">
    <pre>  getStatusText: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1680</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1681</th>
  <td class="line-code diff_in">
    <pre>      return this.transport.statusText || '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1682</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) { return '' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1683</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1684</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1685</th>
  <td class="line-code diff_in">
    <pre>  getHeader: Ajax.Request.prototype.getHeader,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1686</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1687</th>
  <td class="line-code diff_in">
    <pre>  getAllHeaders: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1688</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1689</th>
  <td class="line-code diff_in">
    <pre>      return this.getAllResponseHeaders();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1690</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) { return null }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1691</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1692</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1693</th>
  <td class="line-code diff_in">
    <pre>  getResponseHeader: function(name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1694</th>
  <td class="line-code diff_in">
    <pre>    return this.transport.getResponseHeader(name);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1695</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1696</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1697</th>
  <td class="line-code diff_in">
    <pre>  getAllResponseHeaders: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1698</th>
  <td class="line-code diff_in">
    <pre>    return this.transport.getAllResponseHeaders();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1699</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1700</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1701</th>
  <td class="line-code diff_in">
    <pre>  _getHeaderJSON: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1702</th>
  <td class="line-code diff_in">
    <pre>    var json = this.getHeader('X-JSON');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1703</th>
  <td class="line-code diff_in">
    <pre>    if (!json) return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1704</th>
  <td class="line-code diff_in">
    <pre>    json = decodeURIComponent(escape(json));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1705</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1706</th>
  <td class="line-code diff_in">
    <pre>      return json.evalJSON(this.request.options.sanitizeJSON ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1707</th>
  <td class="line-code diff_in">
    <pre>        !this.request.isSameOrigin());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1708</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1709</th>
  <td class="line-code diff_in">
    <pre>      this.request.dispatchException(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1710</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1711</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1712</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1713</th>
  <td class="line-code diff_in">
    <pre>  _getResponseJSON: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1714</th>
  <td class="line-code diff_in">
    <pre>    var options = this.request.options;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1715</th>
  <td class="line-code diff_in">
    <pre>    if (!options.evalJSON || (options.evalJSON != 'force' &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1716</th>
  <td class="line-code diff_in">
    <pre>      !(this.getHeader('Content-type') || '').include('application/json')) ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1717</th>
  <td class="line-code diff_in">
    <pre>        this.responseText.blank())
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1718</th>
  <td class="line-code diff_in">
    <pre>          return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1719</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1720</th>
  <td class="line-code diff_in">
    <pre>      return this.responseText.evalJSON(options.sanitizeJSON ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1721</th>
  <td class="line-code diff_in">
    <pre>        !this.request.isSameOrigin());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1722</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1723</th>
  <td class="line-code diff_in">
    <pre>      this.request.dispatchException(e);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1724</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1725</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1726</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1727</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1728</th>
  <td class="line-code diff_in">
    <pre>Ajax.Updater = Class.create(Ajax.Request, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1729</th>
  <td class="line-code diff_in">
    <pre>  initialize: function($super, container, url, options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1730</th>
  <td class="line-code diff_in">
    <pre>    this.container = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1731</th>
  <td class="line-code diff_in">
    <pre>      success: (container.success || container),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1732</th>
  <td class="line-code diff_in">
    <pre>      failure: (container.failure || (container.success ? null : container))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1733</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1734</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1735</th>
  <td class="line-code diff_in">
    <pre>    options = Object.clone(options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1736</th>
  <td class="line-code diff_in">
    <pre>    var onComplete = options.onComplete;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1737</th>
  <td class="line-code diff_in">
    <pre>    options.onComplete = (function(response, json) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1738</th>
  <td class="line-code diff_in">
    <pre>      this.updateContent(response.responseText);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1739</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isFunction(onComplete)) onComplete(response, json);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1740</th>
  <td class="line-code diff_in">
    <pre>    }).bind(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1741</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1742</th>
  <td class="line-code diff_in">
    <pre>    $super(url, options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1743</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1744</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1745</th>
  <td class="line-code diff_in">
    <pre>  updateContent: function(responseText) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1746</th>
  <td class="line-code diff_in">
    <pre>    var receiver = this.container[this.success() ? 'success' : 'failure'],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1747</th>
  <td class="line-code diff_in">
    <pre>        options = this.options;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1748</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1749</th>
  <td class="line-code diff_in">
    <pre>    if (!options.evalScripts) responseText = responseText.stripScripts();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1750</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1751</th>
  <td class="line-code diff_in">
    <pre>    if (receiver = $(receiver)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1752</th>
  <td class="line-code diff_in">
    <pre>      if (options.insertion) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1753</th>
  <td class="line-code diff_in">
    <pre>        if (Object.isString(options.insertion)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1754</th>
  <td class="line-code diff_in">
    <pre>          var insertion = { }; insertion[options.insertion] = responseText;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1755</th>
  <td class="line-code diff_in">
    <pre>          receiver.insert(insertion);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1756</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1757</th>
  <td class="line-code diff_in">
    <pre>        else options.insertion(receiver, responseText);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1758</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1759</th>
  <td class="line-code diff_in">
    <pre>      else receiver.update(responseText);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1760</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1761</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1762</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1763</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1764</th>
  <td class="line-code diff_in">
    <pre>Ajax.PeriodicalUpdater = Class.create(Ajax.Base, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1765</th>
  <td class="line-code diff_in">
    <pre>  initialize: function($super, container, url, options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1766</th>
  <td class="line-code diff_in">
    <pre>    $super(options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1767</th>
  <td class="line-code diff_in">
    <pre>    this.onComplete = this.options.onComplete;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1768</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1769</th>
  <td class="line-code diff_in">
    <pre>    this.frequency = (this.options.frequency || 2);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1770</th>
  <td class="line-code diff_in">
    <pre>    this.decay = (this.options.decay || 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1771</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1772</th>
  <td class="line-code diff_in">
    <pre>    this.updater = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1773</th>
  <td class="line-code diff_in">
    <pre>    this.container = container;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1774</th>
  <td class="line-code diff_in">
    <pre>    this.url = url;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1775</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1776</th>
  <td class="line-code diff_in">
    <pre>    this.start();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1777</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1778</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1779</th>
  <td class="line-code diff_in">
    <pre>  start: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1780</th>
  <td class="line-code diff_in">
    <pre>    this.options.onComplete = this.updateComplete.bind(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1781</th>
  <td class="line-code diff_in">
    <pre>    this.onTimerEvent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1782</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1783</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1784</th>
  <td class="line-code diff_in">
    <pre>  stop: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1785</th>
  <td class="line-code diff_in">
    <pre>    this.updater.options.onComplete = undefined;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1786</th>
  <td class="line-code diff_in">
    <pre>    clearTimeout(this.timer);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1787</th>
  <td class="line-code diff_in">
    <pre>    (this.onComplete || Prototype.emptyFunction).apply(this, arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1788</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1789</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1790</th>
  <td class="line-code diff_in">
    <pre>  updateComplete: function(response) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1791</th>
  <td class="line-code diff_in">
    <pre>    if (this.options.decay) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1792</th>
  <td class="line-code diff_in">
    <pre>      this.decay = (response.responseText == this.lastText ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1793</th>
  <td class="line-code diff_in">
    <pre>        this.decay * this.options.decay : 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1794</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1795</th>
  <td class="line-code diff_in">
    <pre>      this.lastText = response.responseText;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1796</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1797</th>
  <td class="line-code diff_in">
    <pre>    this.timer = this.onTimerEvent.bind(this).delay(this.decay * this.frequency);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1798</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1799</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1800</th>
  <td class="line-code diff_in">
    <pre>  onTimerEvent: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1801</th>
  <td class="line-code diff_in">
    <pre>    this.updater = new Ajax.Updater(this.container, this.url, this.options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1802</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1803</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1804</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1805</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1806</th>
  <td class="line-code diff_in">
    <pre>function $(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1807</th>
  <td class="line-code diff_in">
    <pre>  if (arguments.length &gt; 1) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1808</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, elements = [], length = arguments.length; i &lt; length; i++)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1809</th>
  <td class="line-code diff_in">
    <pre>      elements.push($(arguments[i]));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1810</th>
  <td class="line-code diff_in">
    <pre>    return elements;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1811</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1812</th>
  <td class="line-code diff_in">
    <pre>  if (Object.isString(element))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1813</th>
  <td class="line-code diff_in">
    <pre>    element = document.getElementById(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1814</th>
  <td class="line-code diff_in">
    <pre>  return Element.extend(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1815</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1816</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1817</th>
  <td class="line-code diff_in">
    <pre>if (Prototype.BrowserFeatures.XPath) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1818</th>
  <td class="line-code diff_in">
    <pre>  document._getElementsByXPath = function(expression, parentElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1819</th>
  <td class="line-code diff_in">
    <pre>    var results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1820</th>
  <td class="line-code diff_in">
    <pre>    var query = document.evaluate(expression, $(parentElement) || document,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1821</th>
  <td class="line-code diff_in">
    <pre>      null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1822</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = query.snapshotLength; i &lt; length; i++)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1823</th>
  <td class="line-code diff_in">
    <pre>      results.push(Element.extend(query.snapshotItem(i)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1824</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1825</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1826</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1827</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1828</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1829</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1830</th>
  <td class="line-code diff_in">
    <pre>if (!Node) var Node = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1831</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1832</th>
  <td class="line-code diff_in">
    <pre>if (!Node.ELEMENT_NODE) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1833</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(Node, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1834</th>
  <td class="line-code diff_in">
    <pre>    ELEMENT_NODE: 1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1835</th>
  <td class="line-code diff_in">
    <pre>    ATTRIBUTE_NODE: 2,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1836</th>
  <td class="line-code diff_in">
    <pre>    TEXT_NODE: 3,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1837</th>
  <td class="line-code diff_in">
    <pre>    CDATA_SECTION_NODE: 4,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1838</th>
  <td class="line-code diff_in">
    <pre>    ENTITY_REFERENCE_NODE: 5,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1839</th>
  <td class="line-code diff_in">
    <pre>    ENTITY_NODE: 6,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1840</th>
  <td class="line-code diff_in">
    <pre>    PROCESSING_INSTRUCTION_NODE: 7,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1841</th>
  <td class="line-code diff_in">
    <pre>    COMMENT_NODE: 8,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1842</th>
  <td class="line-code diff_in">
    <pre>    DOCUMENT_NODE: 9,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1843</th>
  <td class="line-code diff_in">
    <pre>    DOCUMENT_TYPE_NODE: 10,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1844</th>
  <td class="line-code diff_in">
    <pre>    DOCUMENT_FRAGMENT_NODE: 11,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1845</th>
  <td class="line-code diff_in">
    <pre>    NOTATION_NODE: 12
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1846</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1847</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1848</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1849</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1850</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1851</th>
  <td class="line-code diff_in">
    <pre>(function(global) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1852</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1853</th>
  <td class="line-code diff_in">
    <pre>  var HAS_EXTENDED_CREATE_ELEMENT_SYNTAX = (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1854</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1855</th>
  <td class="line-code diff_in">
    <pre>      var el = document.createElement('&lt;input name=&quot;x&quot;&gt;');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1856</th>
  <td class="line-code diff_in">
    <pre>      return el.tagName.toLowerCase() === 'input' &amp;&amp; el.name === 'x';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1857</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1858</th>
  <td class="line-code diff_in">
    <pre>    catch(err) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1859</th>
  <td class="line-code diff_in">
    <pre>      return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1860</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1861</th>
  <td class="line-code diff_in">
    <pre>  })();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1862</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1863</th>
  <td class="line-code diff_in">
    <pre>  var element = global.Element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1864</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1865</th>
  <td class="line-code diff_in">
    <pre>  global.Element = function(tagName, attributes) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1866</th>
  <td class="line-code diff_in">
    <pre>    attributes = attributes || { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1867</th>
  <td class="line-code diff_in">
    <pre>    tagName = tagName.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1868</th>
  <td class="line-code diff_in">
    <pre>    var cache = Element.cache;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1869</th>
  <td class="line-code diff_in">
    <pre>    if (HAS_EXTENDED_CREATE_ELEMENT_SYNTAX &amp;&amp; attributes.name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1870</th>
  <td class="line-code diff_in">
    <pre>      tagName = '&lt;' + tagName + ' name=&quot;' + attributes.name + '&quot;&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1871</th>
  <td class="line-code diff_in">
    <pre>      delete attributes.name;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1872</th>
  <td class="line-code diff_in">
    <pre>      return Element.writeAttribute(document.createElement(tagName), attributes);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1873</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1874</th>
  <td class="line-code diff_in">
    <pre>    if (!cache[tagName]) cache[tagName] = Element.extend(document.createElement(tagName));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1875</th>
  <td class="line-code diff_in">
    <pre>    return Element.writeAttribute(cache[tagName].cloneNode(false), attributes);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1876</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1877</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1878</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(global.Element, element || { });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1879</th>
  <td class="line-code diff_in">
    <pre>  if (element) global.Element.prototype = element.prototype;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1880</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1881</th>
  <td class="line-code diff_in">
    <pre>})(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1882</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1883</th>
  <td class="line-code diff_in">
    <pre>Element.idCounter = 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1884</th>
  <td class="line-code diff_in">
    <pre>Element.cache = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1885</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1886</th>
  <td class="line-code diff_in">
    <pre>function purgeElement(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1887</th>
  <td class="line-code diff_in">
    <pre>  var uid = element._prototypeUID;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1888</th>
  <td class="line-code diff_in">
    <pre>  if (uid) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1889</th>
  <td class="line-code diff_in">
    <pre>    Element.stopObserving(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1890</th>
  <td class="line-code diff_in">
    <pre>    element._prototypeUID = void 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1891</th>
  <td class="line-code diff_in">
    <pre>    delete Element.Storage[uid];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1892</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1893</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1894</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1895</th>
  <td class="line-code diff_in">
    <pre>Element.Methods = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1896</th>
  <td class="line-code diff_in">
    <pre>  visible: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1897</th>
  <td class="line-code diff_in">
    <pre>    return $(element).style.display != 'none';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1898</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1899</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1900</th>
  <td class="line-code diff_in">
    <pre>  toggle: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1901</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1902</th>
  <td class="line-code diff_in">
    <pre>    Element[Element.visible(element) ? 'hide' : 'show'](element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1903</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1904</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1905</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1906</th>
  <td class="line-code diff_in">
    <pre>  hide: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1907</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1908</th>
  <td class="line-code diff_in">
    <pre>    element.style.display = 'none';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1909</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1910</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1911</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1912</th>
  <td class="line-code diff_in">
    <pre>  show: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1913</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1914</th>
  <td class="line-code diff_in">
    <pre>    element.style.display = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1915</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1916</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1917</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1918</th>
  <td class="line-code diff_in">
    <pre>  remove: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1919</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1920</th>
  <td class="line-code diff_in">
    <pre>    element.parentNode.removeChild(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1921</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1922</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1923</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1924</th>
  <td class="line-code diff_in">
    <pre>  update: (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1925</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1926</th>
  <td class="line-code diff_in">
    <pre>    var SELECT_ELEMENT_INNERHTML_BUGGY = (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1927</th>
  <td class="line-code diff_in">
    <pre>      var el = document.createElement(&quot;select&quot;),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1928</th>
  <td class="line-code diff_in">
    <pre>          isBuggy = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1929</th>
  <td class="line-code diff_in">
    <pre>      el.innerHTML = &quot;&lt;option value=\&quot;test\&quot;&gt;test&lt;/option&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1930</th>
  <td class="line-code diff_in">
    <pre>      if (el.options &amp;&amp; el.options[0]) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1931</th>
  <td class="line-code diff_in">
    <pre>        isBuggy = el.options[0].nodeName.toUpperCase() !== &quot;OPTION&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1932</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1933</th>
  <td class="line-code diff_in">
    <pre>      el = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1934</th>
  <td class="line-code diff_in">
    <pre>      return isBuggy;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1935</th>
  <td class="line-code diff_in">
    <pre>    })();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1936</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1937</th>
  <td class="line-code diff_in">
    <pre>    var TABLE_ELEMENT_INNERHTML_BUGGY = (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1938</th>
  <td class="line-code diff_in">
    <pre>      try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1939</th>
  <td class="line-code diff_in">
    <pre>        var el = document.createElement(&quot;table&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1940</th>
  <td class="line-code diff_in">
    <pre>        if (el &amp;&amp; el.tBodies) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1941</th>
  <td class="line-code diff_in">
    <pre>          el.innerHTML = &quot;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;test&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1942</th>
  <td class="line-code diff_in">
    <pre>          var isBuggy = typeof el.tBodies[0] == &quot;undefined&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1943</th>
  <td class="line-code diff_in">
    <pre>          el = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1944</th>
  <td class="line-code diff_in">
    <pre>          return isBuggy;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1945</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1946</th>
  <td class="line-code diff_in">
    <pre>      } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1947</th>
  <td class="line-code diff_in">
    <pre>        return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1948</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1949</th>
  <td class="line-code diff_in">
    <pre>    })();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1950</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1951</th>
  <td class="line-code diff_in">
    <pre>    var SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING = (function () {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1952</th>
  <td class="line-code diff_in">
    <pre>      var s = document.createElement(&quot;script&quot;),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1953</th>
  <td class="line-code diff_in">
    <pre>          isBuggy = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1954</th>
  <td class="line-code diff_in">
    <pre>      try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1955</th>
  <td class="line-code diff_in">
    <pre>        s.appendChild(document.createTextNode(&quot;&quot;));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1956</th>
  <td class="line-code diff_in">
    <pre>        isBuggy = !s.firstChild ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1957</th>
  <td class="line-code diff_in">
    <pre>          s.firstChild &amp;&amp; s.firstChild.nodeType !== 3;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1958</th>
  <td class="line-code diff_in">
    <pre>      } catch (e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1959</th>
  <td class="line-code diff_in">
    <pre>        isBuggy = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1960</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1961</th>
  <td class="line-code diff_in">
    <pre>      s = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1962</th>
  <td class="line-code diff_in">
    <pre>      return isBuggy;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1963</th>
  <td class="line-code diff_in">
    <pre>    })();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1964</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1965</th>
  <td class="line-code diff_in">
    <pre>    function update(element, content) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1966</th>
  <td class="line-code diff_in">
    <pre>      element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1967</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1968</th>
  <td class="line-code diff_in">
    <pre>      var descendants = element.getElementsByTagName('*'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1969</th>
  <td class="line-code diff_in">
    <pre>       i = descendants.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1970</th>
  <td class="line-code diff_in">
    <pre>      while (i--) purgeElement(descendants[i]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1971</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1972</th>
  <td class="line-code diff_in">
    <pre>      if (content &amp;&amp; content.toElement)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1973</th>
  <td class="line-code diff_in">
    <pre>        content = content.toElement();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1974</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1975</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isElement(content))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1976</th>
  <td class="line-code diff_in">
    <pre>        return element.update().insert(content);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1977</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1978</th>
  <td class="line-code diff_in">
    <pre>      content = Object.toHTML(content);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1979</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1980</th>
  <td class="line-code diff_in">
    <pre>      var tagName = element.tagName.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1981</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1982</th>
  <td class="line-code diff_in">
    <pre>      if (tagName === 'SCRIPT' &amp;&amp; SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1983</th>
  <td class="line-code diff_in">
    <pre>        element.text = content;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1984</th>
  <td class="line-code diff_in">
    <pre>        return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1985</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1986</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1987</th>
  <td class="line-code diff_in">
    <pre>      if (SELECT_ELEMENT_INNERHTML_BUGGY || TABLE_ELEMENT_INNERHTML_BUGGY) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1988</th>
  <td class="line-code diff_in">
    <pre>        if (tagName in Element._insertionTranslations.tags) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1989</th>
  <td class="line-code diff_in">
    <pre>          while (element.firstChild) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1990</th>
  <td class="line-code diff_in">
    <pre>            element.removeChild(element.firstChild);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1991</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1992</th>
  <td class="line-code diff_in">
    <pre>          Element._getContentFromAnonymousElement(tagName, content.stripScripts())
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1993</th>
  <td class="line-code diff_in">
    <pre>            .each(function(node) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1994</th>
  <td class="line-code diff_in">
    <pre>              element.appendChild(node)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1995</th>
  <td class="line-code diff_in">
    <pre>            });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1996</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1997</th>
  <td class="line-code diff_in">
    <pre>        else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1998</th>
  <td class="line-code diff_in">
    <pre>          element.innerHTML = content.stripScripts();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1999</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2000</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2001</th>
  <td class="line-code diff_in">
    <pre>      else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2002</th>
  <td class="line-code diff_in">
    <pre>        element.innerHTML = content.stripScripts();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2003</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2004</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2005</th>
  <td class="line-code diff_in">
    <pre>      content.evalScripts.bind(content).defer();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2006</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2007</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2008</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2009</th>
  <td class="line-code diff_in">
    <pre>    return update;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2010</th>
  <td class="line-code diff_in">
    <pre>  })(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2011</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2012</th>
  <td class="line-code diff_in">
    <pre>  replace: function(element, content) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2013</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2014</th>
  <td class="line-code diff_in">
    <pre>    if (content &amp;&amp; content.toElement) content = content.toElement();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2015</th>
  <td class="line-code diff_in">
    <pre>    else if (!Object.isElement(content)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2016</th>
  <td class="line-code diff_in">
    <pre>      content = Object.toHTML(content);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2017</th>
  <td class="line-code diff_in">
    <pre>      var range = element.ownerDocument.createRange();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2018</th>
  <td class="line-code diff_in">
    <pre>      range.selectNode(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2019</th>
  <td class="line-code diff_in">
    <pre>      content.evalScripts.bind(content).defer();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2020</th>
  <td class="line-code diff_in">
    <pre>      content = range.createContextualFragment(content.stripScripts());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2021</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2022</th>
  <td class="line-code diff_in">
    <pre>    element.parentNode.replaceChild(content, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2023</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2024</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2025</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2026</th>
  <td class="line-code diff_in">
    <pre>  insert: function(element, insertions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2027</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2028</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2029</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(insertions) || Object.isNumber(insertions) ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2030</th>
  <td class="line-code diff_in">
    <pre>        Object.isElement(insertions) || (insertions &amp;&amp; (insertions.toElement || insertions.toHTML)))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2031</th>
  <td class="line-code diff_in">
    <pre>          insertions = {bottom:insertions};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2032</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2033</th>
  <td class="line-code diff_in">
    <pre>    var content, insert, tagName, childNodes;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2034</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2035</th>
  <td class="line-code diff_in">
    <pre>    for (var position in insertions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2036</th>
  <td class="line-code diff_in">
    <pre>      content  = insertions[position];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2037</th>
  <td class="line-code diff_in">
    <pre>      position = position.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2038</th>
  <td class="line-code diff_in">
    <pre>      insert = Element._insertionTranslations[position];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2039</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2040</th>
  <td class="line-code diff_in">
    <pre>      if (content &amp;&amp; content.toElement) content = content.toElement();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2041</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isElement(content)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2042</th>
  <td class="line-code diff_in">
    <pre>        insert(element, content);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2043</th>
  <td class="line-code diff_in">
    <pre>        continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2044</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2045</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2046</th>
  <td class="line-code diff_in">
    <pre>      content = Object.toHTML(content);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2047</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2048</th>
  <td class="line-code diff_in">
    <pre>      tagName = ((position == 'before' || position == 'after')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2049</th>
  <td class="line-code diff_in">
    <pre>        ? element.parentNode : element).tagName.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2050</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2051</th>
  <td class="line-code diff_in">
    <pre>      childNodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2052</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2053</th>
  <td class="line-code diff_in">
    <pre>      if (position == 'top' || position == 'after') childNodes.reverse();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2054</th>
  <td class="line-code diff_in">
    <pre>      childNodes.each(insert.curry(element));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2055</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2056</th>
  <td class="line-code diff_in">
    <pre>      content.evalScripts.bind(content).defer();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2057</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2058</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2059</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2060</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2061</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2062</th>
  <td class="line-code diff_in">
    <pre>  wrap: function(element, wrapper, attributes) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2063</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2064</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isElement(wrapper))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2065</th>
  <td class="line-code diff_in">
    <pre>      $(wrapper).writeAttribute(attributes || { });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2066</th>
  <td class="line-code diff_in">
    <pre>    else if (Object.isString(wrapper)) wrapper = new Element(wrapper, attributes);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2067</th>
  <td class="line-code diff_in">
    <pre>    else wrapper = new Element('div', wrapper);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2068</th>
  <td class="line-code diff_in">
    <pre>    if (element.parentNode)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2069</th>
  <td class="line-code diff_in">
    <pre>      element.parentNode.replaceChild(wrapper, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2070</th>
  <td class="line-code diff_in">
    <pre>    wrapper.appendChild(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2071</th>
  <td class="line-code diff_in">
    <pre>    return wrapper;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2072</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2073</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2074</th>
  <td class="line-code diff_in">
    <pre>  inspect: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2075</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2076</th>
  <td class="line-code diff_in">
    <pre>    var result = '&lt;' + element.tagName.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2077</th>
  <td class="line-code diff_in">
    <pre>    $H({'id': 'id', 'className': 'class'}).each(function(pair) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2078</th>
  <td class="line-code diff_in">
    <pre>      var property = pair.first(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2079</th>
  <td class="line-code diff_in">
    <pre>          attribute = pair.last(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2080</th>
  <td class="line-code diff_in">
    <pre>          value = (element[property] || '').toString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2081</th>
  <td class="line-code diff_in">
    <pre>      if (value) result += ' ' + attribute + '=' + value.inspect(true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2082</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2083</th>
  <td class="line-code diff_in">
    <pre>    return result + '&gt;';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2084</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2085</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2086</th>
  <td class="line-code diff_in">
    <pre>  recursivelyCollect: function(element, property, maximumLength) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2087</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2088</th>
  <td class="line-code diff_in">
    <pre>    maximumLength = maximumLength || -1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2089</th>
  <td class="line-code diff_in">
    <pre>    var elements = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2090</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2091</th>
  <td class="line-code diff_in">
    <pre>    while (element = element[property]) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2092</th>
  <td class="line-code diff_in">
    <pre>      if (element.nodeType == 1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2093</th>
  <td class="line-code diff_in">
    <pre>        elements.push(Element.extend(element));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2094</th>
  <td class="line-code diff_in">
    <pre>      if (elements.length == maximumLength)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2095</th>
  <td class="line-code diff_in">
    <pre>        break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2096</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2097</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2098</th>
  <td class="line-code diff_in">
    <pre>    return elements;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2099</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2100</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2101</th>
  <td class="line-code diff_in">
    <pre>  ancestors: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2102</th>
  <td class="line-code diff_in">
    <pre>    return Element.recursivelyCollect(element, 'parentNode');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2103</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2104</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2105</th>
  <td class="line-code diff_in">
    <pre>  descendants: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2106</th>
  <td class="line-code diff_in">
    <pre>    return Element.select(element, &quot;*&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2107</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2108</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2109</th>
  <td class="line-code diff_in">
    <pre>  firstDescendant: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2110</th>
  <td class="line-code diff_in">
    <pre>    element = $(element).firstChild;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2111</th>
  <td class="line-code diff_in">
    <pre>    while (element &amp;&amp; element.nodeType != 1) element = element.nextSibling;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2112</th>
  <td class="line-code diff_in">
    <pre>    return $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2113</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2114</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2115</th>
  <td class="line-code diff_in">
    <pre>  immediateDescendants: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2116</th>
  <td class="line-code diff_in">
    <pre>    var results = [], child = $(element).firstChild;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2117</th>
  <td class="line-code diff_in">
    <pre>    while (child) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2118</th>
  <td class="line-code diff_in">
    <pre>      if (child.nodeType === 1) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2119</th>
  <td class="line-code diff_in">
    <pre>        results.push(Element.extend(child));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2120</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2121</th>
  <td class="line-code diff_in">
    <pre>      child = child.nextSibling;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2122</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2123</th>
  <td class="line-code diff_in">
    <pre>    return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2124</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2125</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2126</th>
  <td class="line-code diff_in">
    <pre>  previousSiblings: function(element, maximumLength) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2127</th>
  <td class="line-code diff_in">
    <pre>    return Element.recursivelyCollect(element, 'previousSibling');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2128</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2129</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2130</th>
  <td class="line-code diff_in">
    <pre>  nextSiblings: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2131</th>
  <td class="line-code diff_in">
    <pre>    return Element.recursivelyCollect(element, 'nextSibling');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2132</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2133</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2134</th>
  <td class="line-code diff_in">
    <pre>  siblings: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2135</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2136</th>
  <td class="line-code diff_in">
    <pre>    return Element.previousSiblings(element).reverse()
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2137</th>
  <td class="line-code diff_in">
    <pre>      .concat(Element.nextSiblings(element));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2138</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2139</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2140</th>
  <td class="line-code diff_in">
    <pre>  match: function(element, selector) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2141</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2142</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(selector))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2143</th>
  <td class="line-code diff_in">
    <pre>      return Prototype.Selector.match(element, selector);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2144</th>
  <td class="line-code diff_in">
    <pre>    return selector.match(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2145</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2146</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2147</th>
  <td class="line-code diff_in">
    <pre>  up: function(element, expression, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2148</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2149</th>
  <td class="line-code diff_in">
    <pre>    if (arguments.length == 1) return $(element.parentNode);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2150</th>
  <td class="line-code diff_in">
    <pre>    var ancestors = Element.ancestors(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2151</th>
  <td class="line-code diff_in">
    <pre>    return Object.isNumber(expression) ? ancestors[expression] :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2152</th>
  <td class="line-code diff_in">
    <pre>      Prototype.Selector.find(ancestors, expression, index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2153</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2154</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2155</th>
  <td class="line-code diff_in">
    <pre>  down: function(element, expression, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2156</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2157</th>
  <td class="line-code diff_in">
    <pre>    if (arguments.length == 1) return Element.firstDescendant(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2158</th>
  <td class="line-code diff_in">
    <pre>    return Object.isNumber(expression) ? Element.descendants(element)[expression] :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2159</th>
  <td class="line-code diff_in">
    <pre>      Element.select(element, expression)[index || 0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2160</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2161</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2162</th>
  <td class="line-code diff_in">
    <pre>  previous: function(element, expression, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2163</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2164</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isNumber(expression)) index = expression, expression = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2165</th>
  <td class="line-code diff_in">
    <pre>    if (!Object.isNumber(index)) index = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2166</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2167</th>
  <td class="line-code diff_in">
    <pre>    if (expression) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2168</th>
  <td class="line-code diff_in">
    <pre>      return Prototype.Selector.find(element.previousSiblings(), expression, index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2169</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2170</th>
  <td class="line-code diff_in">
    <pre>      return element.recursivelyCollect(&quot;previousSibling&quot;, index + 1)[index];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2171</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2172</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2173</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2174</th>
  <td class="line-code diff_in">
    <pre>  next: function(element, expression, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2175</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2176</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isNumber(expression)) index = expression, expression = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2177</th>
  <td class="line-code diff_in">
    <pre>    if (!Object.isNumber(index)) index = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2178</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2179</th>
  <td class="line-code diff_in">
    <pre>    if (expression) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2180</th>
  <td class="line-code diff_in">
    <pre>      return Prototype.Selector.find(element.nextSiblings(), expression, index);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2181</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2182</th>
  <td class="line-code diff_in">
    <pre>      var maximumLength = Object.isNumber(index) ? index + 1 : 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2183</th>
  <td class="line-code diff_in">
    <pre>      return element.recursivelyCollect(&quot;nextSibling&quot;, index + 1)[index];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2184</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2185</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2186</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2187</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2188</th>
  <td class="line-code diff_in">
    <pre>  select: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2189</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2190</th>
  <td class="line-code diff_in">
    <pre>    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2191</th>
  <td class="line-code diff_in">
    <pre>    return Prototype.Selector.select(expressions, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2192</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2193</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2194</th>
  <td class="line-code diff_in">
    <pre>  adjacent: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2195</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2196</th>
  <td class="line-code diff_in">
    <pre>    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2197</th>
  <td class="line-code diff_in">
    <pre>    return Prototype.Selector.select(expressions, element.parentNode).without(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2198</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2199</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2200</th>
  <td class="line-code diff_in">
    <pre>  identify: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2201</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2202</th>
  <td class="line-code diff_in">
    <pre>    var id = Element.readAttribute(element, 'id');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2203</th>
  <td class="line-code diff_in">
    <pre>    if (id) return id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2204</th>
  <td class="line-code diff_in">
    <pre>    do { id = 'anonymous_element_' + Element.idCounter++ } while ($(id));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2205</th>
  <td class="line-code diff_in">
    <pre>    Element.writeAttribute(element, 'id', id);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2206</th>
  <td class="line-code diff_in">
    <pre>    return id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2207</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2208</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2209</th>
  <td class="line-code diff_in">
    <pre>  readAttribute: function(element, name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2210</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2211</th>
  <td class="line-code diff_in">
    <pre>    if (Prototype.Browser.IE) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2212</th>
  <td class="line-code diff_in">
    <pre>      var t = Element._attributeTranslations.read;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2213</th>
  <td class="line-code diff_in">
    <pre>      if (t.values[name]) return t.values[name](element, name);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2214</th>
  <td class="line-code diff_in">
    <pre>      if (t.names[name]) name = t.names[name];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2215</th>
  <td class="line-code diff_in">
    <pre>      if (name.include(':')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2216</th>
  <td class="line-code diff_in">
    <pre>        return (!element.attributes || !element.attributes[name]) ? null :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2217</th>
  <td class="line-code diff_in">
    <pre>         element.attributes[name].value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2218</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2219</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2220</th>
  <td class="line-code diff_in">
    <pre>    return element.getAttribute(name);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2221</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2222</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2223</th>
  <td class="line-code diff_in">
    <pre>  writeAttribute: function(element, name, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2224</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2225</th>
  <td class="line-code diff_in">
    <pre>    var attributes = { }, t = Element._attributeTranslations.write;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2226</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2227</th>
  <td class="line-code diff_in">
    <pre>    if (typeof name == 'object') attributes = name;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2228</th>
  <td class="line-code diff_in">
    <pre>    else attributes[name] = Object.isUndefined(value) ? true : value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2229</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2230</th>
  <td class="line-code diff_in">
    <pre>    for (var attr in attributes) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2231</th>
  <td class="line-code diff_in">
    <pre>      name = t.names[attr] || attr;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2232</th>
  <td class="line-code diff_in">
    <pre>      value = attributes[attr];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2233</th>
  <td class="line-code diff_in">
    <pre>      if (t.values[attr]) name = t.values[attr](element, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2234</th>
  <td class="line-code diff_in">
    <pre>      if (value === false || value === null)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2235</th>
  <td class="line-code diff_in">
    <pre>        element.removeAttribute(name);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2236</th>
  <td class="line-code diff_in">
    <pre>      else if (value === true)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2237</th>
  <td class="line-code diff_in">
    <pre>        element.setAttribute(name, name);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2238</th>
  <td class="line-code diff_in">
    <pre>      else element.setAttribute(name, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2239</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2240</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2241</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2242</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2243</th>
  <td class="line-code diff_in">
    <pre>  getHeight: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2244</th>
  <td class="line-code diff_in">
    <pre>    return Element.getDimensions(element).height;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2245</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2246</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2247</th>
  <td class="line-code diff_in">
    <pre>  getWidth: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2248</th>
  <td class="line-code diff_in">
    <pre>    return Element.getDimensions(element).width;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2249</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2250</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2251</th>
  <td class="line-code diff_in">
    <pre>  classNames: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2252</th>
  <td class="line-code diff_in">
    <pre>    return new Element.ClassNames(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2253</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2254</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2255</th>
  <td class="line-code diff_in">
    <pre>  hasClassName: function(element, className) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2256</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2257</th>
  <td class="line-code diff_in">
    <pre>    var elementClassName = element.className;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2258</th>
  <td class="line-code diff_in">
    <pre>    return (elementClassName.length &gt; 0 &amp;&amp; (elementClassName == className ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2259</th>
  <td class="line-code diff_in">
    <pre>      new RegExp(&quot;(^|\\s)&quot; + className + &quot;(\\s|$)&quot;).test(elementClassName)));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2260</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2261</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2262</th>
  <td class="line-code diff_in">
    <pre>  addClassName: function(element, className) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2263</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2264</th>
  <td class="line-code diff_in">
    <pre>    if (!Element.hasClassName(element, className))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2265</th>
  <td class="line-code diff_in">
    <pre>      element.className += (element.className ? ' ' : '') + className;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2266</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2267</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2268</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2269</th>
  <td class="line-code diff_in">
    <pre>  removeClassName: function(element, className) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2270</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2271</th>
  <td class="line-code diff_in">
    <pre>    element.className = element.className.replace(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2272</th>
  <td class="line-code diff_in">
    <pre>      new RegExp(&quot;(^|\\s+)&quot; + className + &quot;(\\s+|$)&quot;), ' ').strip();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2273</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2274</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2275</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2276</th>
  <td class="line-code diff_in">
    <pre>  toggleClassName: function(element, className) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2277</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2278</th>
  <td class="line-code diff_in">
    <pre>    return Element[Element.hasClassName(element, className) ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2279</th>
  <td class="line-code diff_in">
    <pre>      'removeClassName' : 'addClassName'](element, className);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2280</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2281</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2282</th>
  <td class="line-code diff_in">
    <pre>  cleanWhitespace: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2283</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2284</th>
  <td class="line-code diff_in">
    <pre>    var node = element.firstChild;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2285</th>
  <td class="line-code diff_in">
    <pre>    while (node) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2286</th>
  <td class="line-code diff_in">
    <pre>      var nextNode = node.nextSibling;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2287</th>
  <td class="line-code diff_in">
    <pre>      if (node.nodeType == 3 &amp;&amp; !/\S/.test(node.nodeValue))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2288</th>
  <td class="line-code diff_in">
    <pre>        element.removeChild(node);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2289</th>
  <td class="line-code diff_in">
    <pre>      node = nextNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2290</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2291</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2292</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2293</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2294</th>
  <td class="line-code diff_in">
    <pre>  empty: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2295</th>
  <td class="line-code diff_in">
    <pre>    return $(element).innerHTML.blank();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2296</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2297</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2298</th>
  <td class="line-code diff_in">
    <pre>  descendantOf: function(element, ancestor) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2299</th>
  <td class="line-code diff_in">
    <pre>    element = $(element), ancestor = $(ancestor);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2300</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2301</th>
  <td class="line-code diff_in">
    <pre>    if (element.compareDocumentPosition)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2302</th>
  <td class="line-code diff_in">
    <pre>      return (element.compareDocumentPosition(ancestor) &amp; 8) === 8;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2303</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2304</th>
  <td class="line-code diff_in">
    <pre>    if (ancestor.contains)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2305</th>
  <td class="line-code diff_in">
    <pre>      return ancestor.contains(element) &amp;&amp; ancestor !== element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2306</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2307</th>
  <td class="line-code diff_in">
    <pre>    while (element = element.parentNode)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2308</th>
  <td class="line-code diff_in">
    <pre>      if (element == ancestor) return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2309</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2310</th>
  <td class="line-code diff_in">
    <pre>    return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2311</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2312</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2313</th>
  <td class="line-code diff_in">
    <pre>  scrollTo: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2314</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2315</th>
  <td class="line-code diff_in">
    <pre>    var pos = Element.cumulativeOffset(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2316</th>
  <td class="line-code diff_in">
    <pre>    window.scrollTo(pos[0], pos[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2317</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2318</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2319</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2320</th>
  <td class="line-code diff_in">
    <pre>  getStyle: function(element, style) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2321</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2322</th>
  <td class="line-code diff_in">
    <pre>    style = style == 'float' ? 'cssFloat' : style.camelize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2323</th>
  <td class="line-code diff_in">
    <pre>    var value = element.style[style];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2324</th>
  <td class="line-code diff_in">
    <pre>    if (!value || value == 'auto') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2325</th>
  <td class="line-code diff_in">
    <pre>      var css = document.defaultView.getComputedStyle(element, null);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2326</th>
  <td class="line-code diff_in">
    <pre>      value = css ? css[style] : null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2327</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2328</th>
  <td class="line-code diff_in">
    <pre>    if (style == 'opacity') return value ? parseFloat(value) : 1.0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2329</th>
  <td class="line-code diff_in">
    <pre>    return value == 'auto' ? null : value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2330</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2331</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2332</th>
  <td class="line-code diff_in">
    <pre>  getOpacity: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2333</th>
  <td class="line-code diff_in">
    <pre>    return $(element).getStyle('opacity');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2334</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2335</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2336</th>
  <td class="line-code diff_in">
    <pre>  setStyle: function(element, styles) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2337</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2338</th>
  <td class="line-code diff_in">
    <pre>    var elementStyle = element.style, match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2339</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(styles)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2340</th>
  <td class="line-code diff_in">
    <pre>      element.style.cssText += ';' + styles;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2341</th>
  <td class="line-code diff_in">
    <pre>      return styles.include('opacity') ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2342</th>
  <td class="line-code diff_in">
    <pre>        element.setOpacity(styles.match(/opacity:\s*(\d?\.?\d*)/)[1]) : element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2343</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2344</th>
  <td class="line-code diff_in">
    <pre>    for (var property in styles)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2345</th>
  <td class="line-code diff_in">
    <pre>      if (property == 'opacity') element.setOpacity(styles[property]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2346</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2347</th>
  <td class="line-code diff_in">
    <pre>        elementStyle[(property == 'float' || property == 'cssFloat') ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2348</th>
  <td class="line-code diff_in">
    <pre>          (Object.isUndefined(elementStyle.styleFloat) ? 'cssFloat' : 'styleFloat') :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2349</th>
  <td class="line-code diff_in">
    <pre>            property] = styles[property];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2350</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2351</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2352</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2353</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2354</th>
  <td class="line-code diff_in">
    <pre>  setOpacity: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2355</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2356</th>
  <td class="line-code diff_in">
    <pre>    element.style.opacity = (value == 1 || value === '') ? '' :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2357</th>
  <td class="line-code diff_in">
    <pre>      (value &lt; 0.00001) ? 0 : value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2358</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2359</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2360</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2361</th>
  <td class="line-code diff_in">
    <pre>  makePositioned: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2362</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2363</th>
  <td class="line-code diff_in">
    <pre>    var pos = Element.getStyle(element, 'position');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2364</th>
  <td class="line-code diff_in">
    <pre>    if (pos == 'static' || !pos) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2365</th>
  <td class="line-code diff_in">
    <pre>      element._madePositioned = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2366</th>
  <td class="line-code diff_in">
    <pre>      element.style.position = 'relative';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2367</th>
  <td class="line-code diff_in">
    <pre>      if (Prototype.Browser.Opera) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2368</th>
  <td class="line-code diff_in">
    <pre>        element.style.top = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2369</th>
  <td class="line-code diff_in">
    <pre>        element.style.left = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2370</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2371</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2372</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2373</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2374</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2375</th>
  <td class="line-code diff_in">
    <pre>  undoPositioned: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2376</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2377</th>
  <td class="line-code diff_in">
    <pre>    if (element._madePositioned) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2378</th>
  <td class="line-code diff_in">
    <pre>      element._madePositioned = undefined;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2379</th>
  <td class="line-code diff_in">
    <pre>      element.style.position =
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2380</th>
  <td class="line-code diff_in">
    <pre>        element.style.top =
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2381</th>
  <td class="line-code diff_in">
    <pre>        element.style.left =
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2382</th>
  <td class="line-code diff_in">
    <pre>        element.style.bottom =
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2383</th>
  <td class="line-code diff_in">
    <pre>        element.style.right = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2384</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2385</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2386</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2387</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2388</th>
  <td class="line-code diff_in">
    <pre>  makeClipping: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2389</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2390</th>
  <td class="line-code diff_in">
    <pre>    if (element._overflow) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2391</th>
  <td class="line-code diff_in">
    <pre>    element._overflow = Element.getStyle(element, 'overflow') || 'auto';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2392</th>
  <td class="line-code diff_in">
    <pre>    if (element._overflow !== 'hidden')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2393</th>
  <td class="line-code diff_in">
    <pre>      element.style.overflow = 'hidden';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2394</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2395</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2396</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2397</th>
  <td class="line-code diff_in">
    <pre>  undoClipping: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2398</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2399</th>
  <td class="line-code diff_in">
    <pre>    if (!element._overflow) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2400</th>
  <td class="line-code diff_in">
    <pre>    element.style.overflow = element._overflow == 'auto' ? '' : element._overflow;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2401</th>
  <td class="line-code diff_in">
    <pre>    element._overflow = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2402</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2403</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2404</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2405</th>
  <td class="line-code diff_in">
    <pre>  cumulativeOffset: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2406</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2407</th>
  <td class="line-code diff_in">
    <pre>    if (element.parentNode) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2408</th>
  <td class="line-code diff_in">
    <pre>      do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2409</th>
  <td class="line-code diff_in">
    <pre>        valueT += element.offsetTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2410</th>
  <td class="line-code diff_in">
    <pre>        valueL += element.offsetLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2411</th>
  <td class="line-code diff_in">
    <pre>        element = element.offsetParent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2412</th>
  <td class="line-code diff_in">
    <pre>      } while (element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2413</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2414</th>
  <td class="line-code diff_in">
    <pre>    return Element._returnOffset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2415</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2416</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2417</th>
  <td class="line-code diff_in">
    <pre>  positionedOffset: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2418</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2419</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2420</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.offsetTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2421</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.offsetLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2422</th>
  <td class="line-code diff_in">
    <pre>      element = element.offsetParent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2423</th>
  <td class="line-code diff_in">
    <pre>      if (element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2424</th>
  <td class="line-code diff_in">
    <pre>        if (element.tagName.toUpperCase() == 'BODY') break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2425</th>
  <td class="line-code diff_in">
    <pre>        var p = Element.getStyle(element, 'position');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2426</th>
  <td class="line-code diff_in">
    <pre>        if (p !== 'static') break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2427</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2428</th>
  <td class="line-code diff_in">
    <pre>    } while (element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2429</th>
  <td class="line-code diff_in">
    <pre>    return Element._returnOffset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2430</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2431</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2432</th>
  <td class="line-code diff_in">
    <pre>  absolutize: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2433</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2434</th>
  <td class="line-code diff_in">
    <pre>    if (Element.getStyle(element, 'position') == 'absolute') return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2435</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2436</th>
  <td class="line-code diff_in">
    <pre>    var offsets = Element.positionedOffset(element),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2437</th>
  <td class="line-code diff_in">
    <pre>        top     = offsets[1],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2438</th>
  <td class="line-code diff_in">
    <pre>        left    = offsets[0],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2439</th>
  <td class="line-code diff_in">
    <pre>        width   = element.clientWidth,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2440</th>
  <td class="line-code diff_in">
    <pre>        height  = element.clientHeight;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2441</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2442</th>
  <td class="line-code diff_in">
    <pre>    element._originalLeft   = left - parseFloat(element.style.left  || 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2443</th>
  <td class="line-code diff_in">
    <pre>    element._originalTop    = top  - parseFloat(element.style.top || 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2444</th>
  <td class="line-code diff_in">
    <pre>    element._originalWidth  = element.style.width;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2445</th>
  <td class="line-code diff_in">
    <pre>    element._originalHeight = element.style.height;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2446</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2447</th>
  <td class="line-code diff_in">
    <pre>    element.style.position = 'absolute';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2448</th>
  <td class="line-code diff_in">
    <pre>    element.style.top    = top + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2449</th>
  <td class="line-code diff_in">
    <pre>    element.style.left   = left + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2450</th>
  <td class="line-code diff_in">
    <pre>    element.style.width  = width + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2451</th>
  <td class="line-code diff_in">
    <pre>    element.style.height = height + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2452</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2453</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2454</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2455</th>
  <td class="line-code diff_in">
    <pre>  relativize: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2456</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2457</th>
  <td class="line-code diff_in">
    <pre>    if (Element.getStyle(element, 'position') == 'relative') return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2458</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2459</th>
  <td class="line-code diff_in">
    <pre>    element.style.position = 'relative';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2460</th>
  <td class="line-code diff_in">
    <pre>    var top  = parseFloat(element.style.top  || 0) - (element._originalTop || 0),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2461</th>
  <td class="line-code diff_in">
    <pre>        left = parseFloat(element.style.left || 0) - (element._originalLeft || 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2462</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2463</th>
  <td class="line-code diff_in">
    <pre>    element.style.top    = top + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2464</th>
  <td class="line-code diff_in">
    <pre>    element.style.left   = left + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2465</th>
  <td class="line-code diff_in">
    <pre>    element.style.height = element._originalHeight;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2466</th>
  <td class="line-code diff_in">
    <pre>    element.style.width  = element._originalWidth;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2467</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2468</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2469</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2470</th>
  <td class="line-code diff_in">
    <pre>  cumulativeScrollOffset: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2471</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2472</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2473</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.scrollTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2474</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.scrollLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2475</th>
  <td class="line-code diff_in">
    <pre>      element = element.parentNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2476</th>
  <td class="line-code diff_in">
    <pre>    } while (element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2477</th>
  <td class="line-code diff_in">
    <pre>    return Element._returnOffset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2478</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2479</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2480</th>
  <td class="line-code diff_in">
    <pre>  getOffsetParent: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2481</th>
  <td class="line-code diff_in">
    <pre>    if (element.offsetParent) return $(element.offsetParent);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2482</th>
  <td class="line-code diff_in">
    <pre>    if (element == document.body) return $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2483</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2484</th>
  <td class="line-code diff_in">
    <pre>    while ((element = element.parentNode) &amp;&amp; element != document.body)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2485</th>
  <td class="line-code diff_in">
    <pre>      if (Element.getStyle(element, 'position') != 'static')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2486</th>
  <td class="line-code diff_in">
    <pre>        return $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2487</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2488</th>
  <td class="line-code diff_in">
    <pre>    return $(document.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2489</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2490</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2491</th>
  <td class="line-code diff_in">
    <pre>  viewportOffset: function(forElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2492</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2493</th>
  <td class="line-code diff_in">
    <pre>        valueL = 0,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2494</th>
  <td class="line-code diff_in">
    <pre>        element = forElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2495</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2496</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2497</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.offsetTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2498</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.offsetLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2499</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2500</th>
  <td class="line-code diff_in">
    <pre>      if (element.offsetParent == document.body &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2501</th>
  <td class="line-code diff_in">
    <pre>        Element.getStyle(element, 'position') == 'absolute') break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2502</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2503</th>
  <td class="line-code diff_in">
    <pre>    } while (element = element.offsetParent);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2504</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2505</th>
  <td class="line-code diff_in">
    <pre>    element = forElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2506</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2507</th>
  <td class="line-code diff_in">
    <pre>      if (!Prototype.Browser.Opera || (element.tagName &amp;&amp; (element.tagName.toUpperCase() == 'BODY'))) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2508</th>
  <td class="line-code diff_in">
    <pre>        valueT -= element.scrollTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2509</th>
  <td class="line-code diff_in">
    <pre>        valueL -= element.scrollLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2510</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2511</th>
  <td class="line-code diff_in">
    <pre>    } while (element = element.parentNode);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2512</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2513</th>
  <td class="line-code diff_in">
    <pre>    return Element._returnOffset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2514</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2515</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2516</th>
  <td class="line-code diff_in">
    <pre>  clonePosition: function(element, source) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2517</th>
  <td class="line-code diff_in">
    <pre>    var options = Object.extend({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2518</th>
  <td class="line-code diff_in">
    <pre>      setLeft:    true,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2519</th>
  <td class="line-code diff_in">
    <pre>      setTop:     true,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2520</th>
  <td class="line-code diff_in">
    <pre>      setWidth:   true,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2521</th>
  <td class="line-code diff_in">
    <pre>      setHeight:  true,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2522</th>
  <td class="line-code diff_in">
    <pre>      offsetTop:  0,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2523</th>
  <td class="line-code diff_in">
    <pre>      offsetLeft: 0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2524</th>
  <td class="line-code diff_in">
    <pre>    }, arguments[2] || { });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2525</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2526</th>
  <td class="line-code diff_in">
    <pre>    source = $(source);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2527</th>
  <td class="line-code diff_in">
    <pre>    var p = Element.viewportOffset(source), delta = [0, 0], parent = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2528</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2529</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2530</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2531</th>
  <td class="line-code diff_in">
    <pre>    if (Element.getStyle(element, 'position') == 'absolute') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2532</th>
  <td class="line-code diff_in">
    <pre>      parent = Element.getOffsetParent(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2533</th>
  <td class="line-code diff_in">
    <pre>      delta = Element.viewportOffset(parent);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2534</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2535</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2536</th>
  <td class="line-code diff_in">
    <pre>    if (parent == document.body) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2537</th>
  <td class="line-code diff_in">
    <pre>      delta[0] -= document.body.offsetLeft;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2538</th>
  <td class="line-code diff_in">
    <pre>      delta[1] -= document.body.offsetTop;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2539</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2540</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2541</th>
  <td class="line-code diff_in">
    <pre>    if (options.setLeft)   element.style.left  = (p[0] - delta[0] + options.offsetLeft) + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2542</th>
  <td class="line-code diff_in">
    <pre>    if (options.setTop)    element.style.top   = (p[1] - delta[1] + options.offsetTop) + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2543</th>
  <td class="line-code diff_in">
    <pre>    if (options.setWidth)  element.style.width = source.offsetWidth + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2544</th>
  <td class="line-code diff_in">
    <pre>    if (options.setHeight) element.style.height = source.offsetHeight + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2545</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2546</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2547</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2548</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2549</th>
  <td class="line-code diff_in">
    <pre>Object.extend(Element.Methods, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2550</th>
  <td class="line-code diff_in">
    <pre>  getElementsBySelector: Element.Methods.select,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2551</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2552</th>
  <td class="line-code diff_in">
    <pre>  childElements: Element.Methods.immediateDescendants
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2553</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2554</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2555</th>
  <td class="line-code diff_in">
    <pre>Element._attributeTranslations = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2556</th>
  <td class="line-code diff_in">
    <pre>  write: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2557</th>
  <td class="line-code diff_in">
    <pre>    names: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2558</th>
  <td class="line-code diff_in">
    <pre>      className: 'class',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2559</th>
  <td class="line-code diff_in">
    <pre>      htmlFor:   'for'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2560</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2561</th>
  <td class="line-code diff_in">
    <pre>    values: { }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2562</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2563</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2564</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2565</th>
  <td class="line-code diff_in">
    <pre>if (Prototype.Browser.Opera) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2566</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.getStyle = Element.Methods.getStyle.wrap(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2567</th>
  <td class="line-code diff_in">
    <pre>    function(proceed, element, style) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2568</th>
  <td class="line-code diff_in">
    <pre>      switch (style) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2569</th>
  <td class="line-code diff_in">
    <pre>        case 'left': case 'top': case 'right': case 'bottom':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2570</th>
  <td class="line-code diff_in">
    <pre>          if (proceed(element, 'position') === 'static') return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2571</th>
  <td class="line-code diff_in">
    <pre>        case 'height': case 'width':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2572</th>
  <td class="line-code diff_in">
    <pre>          if (!Element.visible(element)) return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2573</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2574</th>
  <td class="line-code diff_in">
    <pre>          var dim = parseInt(proceed(element, style), 10);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2575</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2576</th>
  <td class="line-code diff_in">
    <pre>          if (dim !== element['offset' + style.capitalize()])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2577</th>
  <td class="line-code diff_in">
    <pre>            return dim + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2578</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2579</th>
  <td class="line-code diff_in">
    <pre>          var properties;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2580</th>
  <td class="line-code diff_in">
    <pre>          if (style === 'height') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2581</th>
  <td class="line-code diff_in">
    <pre>            properties = ['border-top-width', 'padding-top',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2582</th>
  <td class="line-code diff_in">
    <pre>             'padding-bottom', 'border-bottom-width'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2583</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2584</th>
  <td class="line-code diff_in">
    <pre>          else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2585</th>
  <td class="line-code diff_in">
    <pre>            properties = ['border-left-width', 'padding-left',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2586</th>
  <td class="line-code diff_in">
    <pre>             'padding-right', 'border-right-width'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2587</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2588</th>
  <td class="line-code diff_in">
    <pre>          return properties.inject(dim, function(memo, property) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2589</th>
  <td class="line-code diff_in">
    <pre>            var val = proceed(element, property);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2590</th>
  <td class="line-code diff_in">
    <pre>            return val === null ? memo : memo - parseInt(val, 10);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2591</th>
  <td class="line-code diff_in">
    <pre>          }) + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2592</th>
  <td class="line-code diff_in">
    <pre>        default: return proceed(element, style);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2593</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2594</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2595</th>
  <td class="line-code diff_in">
    <pre>  );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2596</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2597</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.readAttribute = Element.Methods.readAttribute.wrap(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2598</th>
  <td class="line-code diff_in">
    <pre>    function(proceed, element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2599</th>
  <td class="line-code diff_in">
    <pre>      if (attribute === 'title') return element.title;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2600</th>
  <td class="line-code diff_in">
    <pre>      return proceed(element, attribute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2601</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2602</th>
  <td class="line-code diff_in">
    <pre>  );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2603</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2604</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2605</th>
  <td class="line-code diff_in">
    <pre>else if (Prototype.Browser.IE) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2606</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.getOffsetParent = Element.Methods.getOffsetParent.wrap(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2607</th>
  <td class="line-code diff_in">
    <pre>    function(proceed, element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2608</th>
  <td class="line-code diff_in">
    <pre>      element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2609</th>
  <td class="line-code diff_in">
    <pre>      if (!element.parentNode) return $(document.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2610</th>
  <td class="line-code diff_in">
    <pre>      var position = element.getStyle('position');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2611</th>
  <td class="line-code diff_in">
    <pre>      if (position !== 'static') return proceed(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2612</th>
  <td class="line-code diff_in">
    <pre>      element.setStyle({ position: 'relative' });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2613</th>
  <td class="line-code diff_in">
    <pre>      var value = proceed(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2614</th>
  <td class="line-code diff_in">
    <pre>      element.setStyle({ position: position });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2615</th>
  <td class="line-code diff_in">
    <pre>      return value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2616</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2617</th>
  <td class="line-code diff_in">
    <pre>  );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2618</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2619</th>
  <td class="line-code diff_in">
    <pre>  $w('positionedOffset viewportOffset').each(function(method) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2620</th>
  <td class="line-code diff_in">
    <pre>    Element.Methods[method] = Element.Methods[method].wrap(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2621</th>
  <td class="line-code diff_in">
    <pre>      function(proceed, element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2622</th>
  <td class="line-code diff_in">
    <pre>        element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2623</th>
  <td class="line-code diff_in">
    <pre>        if (!element.parentNode) return Element._returnOffset(0, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2624</th>
  <td class="line-code diff_in">
    <pre>        var position = element.getStyle('position');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2625</th>
  <td class="line-code diff_in">
    <pre>        if (position !== 'static') return proceed(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2626</th>
  <td class="line-code diff_in">
    <pre>        var offsetParent = element.getOffsetParent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2627</th>
  <td class="line-code diff_in">
    <pre>        if (offsetParent &amp;&amp; offsetParent.getStyle('position') === 'fixed')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2628</th>
  <td class="line-code diff_in">
    <pre>          offsetParent.setStyle({ zoom: 1 });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2629</th>
  <td class="line-code diff_in">
    <pre>        element.setStyle({ position: 'relative' });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2630</th>
  <td class="line-code diff_in">
    <pre>        var value = proceed(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2631</th>
  <td class="line-code diff_in">
    <pre>        element.setStyle({ position: position });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2632</th>
  <td class="line-code diff_in">
    <pre>        return value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2633</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2634</th>
  <td class="line-code diff_in">
    <pre>    );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2635</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2636</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2637</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.getStyle = function(element, style) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2638</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2639</th>
  <td class="line-code diff_in">
    <pre>    style = (style == 'float' || style == 'cssFloat') ? 'styleFloat' : style.camelize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2640</th>
  <td class="line-code diff_in">
    <pre>    var value = element.style[style];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2641</th>
  <td class="line-code diff_in">
    <pre>    if (!value &amp;&amp; element.currentStyle) value = element.currentStyle[style];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2642</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2643</th>
  <td class="line-code diff_in">
    <pre>    if (style == 'opacity') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2644</th>
  <td class="line-code diff_in">
    <pre>      if (value = (element.getStyle('filter') || '').match(/alpha\(opacity=(.*)\)/))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2645</th>
  <td class="line-code diff_in">
    <pre>        if (value[1]) return parseFloat(value[1]) / 100;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2646</th>
  <td class="line-code diff_in">
    <pre>      return 1.0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2647</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2648</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2649</th>
  <td class="line-code diff_in">
    <pre>    if (value == 'auto') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2650</th>
  <td class="line-code diff_in">
    <pre>      if ((style == 'width' || style == 'height') &amp;&amp; (element.getStyle('display') != 'none'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2651</th>
  <td class="line-code diff_in">
    <pre>        return element['offset' + style.capitalize()] + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2652</th>
  <td class="line-code diff_in">
    <pre>      return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2653</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2654</th>
  <td class="line-code diff_in">
    <pre>    return value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2655</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2656</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2657</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.setOpacity = function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2658</th>
  <td class="line-code diff_in">
    <pre>    function stripAlpha(filter){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2659</th>
  <td class="line-code diff_in">
    <pre>      return filter.replace(/alpha\([^\)]*\)/gi,'');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2660</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2661</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2662</th>
  <td class="line-code diff_in">
    <pre>    var currentStyle = element.currentStyle;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2663</th>
  <td class="line-code diff_in">
    <pre>    if ((currentStyle &amp;&amp; !currentStyle.hasLayout) ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2664</th>
  <td class="line-code diff_in">
    <pre>      (!currentStyle &amp;&amp; element.style.zoom == 'normal'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2665</th>
  <td class="line-code diff_in">
    <pre>        element.style.zoom = 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2666</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2667</th>
  <td class="line-code diff_in">
    <pre>    var filter = element.getStyle('filter'), style = element.style;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2668</th>
  <td class="line-code diff_in">
    <pre>    if (value == 1 || value === '') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2669</th>
  <td class="line-code diff_in">
    <pre>      (filter = stripAlpha(filter)) ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2670</th>
  <td class="line-code diff_in">
    <pre>        style.filter = filter : style.removeAttribute('filter');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2671</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2672</th>
  <td class="line-code diff_in">
    <pre>    } else if (value &lt; 0.00001) value = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2673</th>
  <td class="line-code diff_in">
    <pre>    style.filter = stripAlpha(filter) +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2674</th>
  <td class="line-code diff_in">
    <pre>      'alpha(opacity=' + (value * 100) + ')';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2675</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2676</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2677</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2678</th>
  <td class="line-code diff_in">
    <pre>  Element._attributeTranslations = (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2679</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2680</th>
  <td class="line-code diff_in">
    <pre>    var classProp = 'className',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2681</th>
  <td class="line-code diff_in">
    <pre>        forProp = 'for',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2682</th>
  <td class="line-code diff_in">
    <pre>        el = document.createElement('div');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2683</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2684</th>
  <td class="line-code diff_in">
    <pre>    el.setAttribute(classProp, 'x');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2685</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2686</th>
  <td class="line-code diff_in">
    <pre>    if (el.className !== 'x') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2687</th>
  <td class="line-code diff_in">
    <pre>      el.setAttribute('class', 'x');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2688</th>
  <td class="line-code diff_in">
    <pre>      if (el.className === 'x') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2689</th>
  <td class="line-code diff_in">
    <pre>        classProp = 'class';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2690</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2691</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2692</th>
  <td class="line-code diff_in">
    <pre>    el = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2693</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2694</th>
  <td class="line-code diff_in">
    <pre>    el = document.createElement('label');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2695</th>
  <td class="line-code diff_in">
    <pre>    el.setAttribute(forProp, 'x');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2696</th>
  <td class="line-code diff_in">
    <pre>    if (el.htmlFor !== 'x') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2697</th>
  <td class="line-code diff_in">
    <pre>      el.setAttribute('htmlFor', 'x');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2698</th>
  <td class="line-code diff_in">
    <pre>      if (el.htmlFor === 'x') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2699</th>
  <td class="line-code diff_in">
    <pre>        forProp = 'htmlFor';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2700</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2701</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2702</th>
  <td class="line-code diff_in">
    <pre>    el = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2703</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2704</th>
  <td class="line-code diff_in">
    <pre>    return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2705</th>
  <td class="line-code diff_in">
    <pre>      read: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2706</th>
  <td class="line-code diff_in">
    <pre>        names: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2707</th>
  <td class="line-code diff_in">
    <pre>          'class':      classProp,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2708</th>
  <td class="line-code diff_in">
    <pre>          'className':  classProp,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2709</th>
  <td class="line-code diff_in">
    <pre>          'for':        forProp,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2710</th>
  <td class="line-code diff_in">
    <pre>          'htmlFor':    forProp
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2711</th>
  <td class="line-code diff_in">
    <pre>        },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2712</th>
  <td class="line-code diff_in">
    <pre>        values: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2713</th>
  <td class="line-code diff_in">
    <pre>          _getAttr: function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2714</th>
  <td class="line-code diff_in">
    <pre>            return element.getAttribute(attribute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2715</th>
  <td class="line-code diff_in">
    <pre>          },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2716</th>
  <td class="line-code diff_in">
    <pre>          _getAttr2: function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2717</th>
  <td class="line-code diff_in">
    <pre>            return element.getAttribute(attribute, 2);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2718</th>
  <td class="line-code diff_in">
    <pre>          },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2719</th>
  <td class="line-code diff_in">
    <pre>          _getAttrNode: function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2720</th>
  <td class="line-code diff_in">
    <pre>            var node = element.getAttributeNode(attribute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2721</th>
  <td class="line-code diff_in">
    <pre>            return node ? node.value : &quot;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2722</th>
  <td class="line-code diff_in">
    <pre>          },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2723</th>
  <td class="line-code diff_in">
    <pre>          _getEv: (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2724</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2725</th>
  <td class="line-code diff_in">
    <pre>            var el = document.createElement('div'), f;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2726</th>
  <td class="line-code diff_in">
    <pre>            el.onclick = Prototype.emptyFunction;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2727</th>
  <td class="line-code diff_in">
    <pre>            var value = el.getAttribute('onclick');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2728</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2729</th>
  <td class="line-code diff_in">
    <pre>            if (String(value).indexOf('{') &gt; -1) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2730</th>
  <td class="line-code diff_in">
    <pre>              f = function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2731</th>
  <td class="line-code diff_in">
    <pre>                attribute = element.getAttribute(attribute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2732</th>
  <td class="line-code diff_in">
    <pre>                if (!attribute) return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2733</th>
  <td class="line-code diff_in">
    <pre>                attribute = attribute.toString();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2734</th>
  <td class="line-code diff_in">
    <pre>                attribute = attribute.split('{')[1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2735</th>
  <td class="line-code diff_in">
    <pre>                attribute = attribute.split('}')[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2736</th>
  <td class="line-code diff_in">
    <pre>                return attribute.strip();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2737</th>
  <td class="line-code diff_in">
    <pre>              };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2738</th>
  <td class="line-code diff_in">
    <pre>            }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2739</th>
  <td class="line-code diff_in">
    <pre>            else if (value === '') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2740</th>
  <td class="line-code diff_in">
    <pre>              f = function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2741</th>
  <td class="line-code diff_in">
    <pre>                attribute = element.getAttribute(attribute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2742</th>
  <td class="line-code diff_in">
    <pre>                if (!attribute) return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2743</th>
  <td class="line-code diff_in">
    <pre>                return attribute.strip();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2744</th>
  <td class="line-code diff_in">
    <pre>              };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2745</th>
  <td class="line-code diff_in">
    <pre>            }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2746</th>
  <td class="line-code diff_in">
    <pre>            el = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2747</th>
  <td class="line-code diff_in">
    <pre>            return f;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2748</th>
  <td class="line-code diff_in">
    <pre>          })(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2749</th>
  <td class="line-code diff_in">
    <pre>          _flag: function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2750</th>
  <td class="line-code diff_in">
    <pre>            return $(element).hasAttribute(attribute) ? attribute : null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2751</th>
  <td class="line-code diff_in">
    <pre>          },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2752</th>
  <td class="line-code diff_in">
    <pre>          style: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2753</th>
  <td class="line-code diff_in">
    <pre>            return element.style.cssText.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2754</th>
  <td class="line-code diff_in">
    <pre>          },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2755</th>
  <td class="line-code diff_in">
    <pre>          title: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2756</th>
  <td class="line-code diff_in">
    <pre>            return element.title;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2757</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2758</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2759</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2760</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2761</th>
  <td class="line-code diff_in">
    <pre>  })();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2762</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2763</th>
  <td class="line-code diff_in">
    <pre>  Element._attributeTranslations.write = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2764</th>
  <td class="line-code diff_in">
    <pre>    names: Object.extend({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2765</th>
  <td class="line-code diff_in">
    <pre>      cellpadding: 'cellPadding',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2766</th>
  <td class="line-code diff_in">
    <pre>      cellspacing: 'cellSpacing'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2767</th>
  <td class="line-code diff_in">
    <pre>    }, Element._attributeTranslations.read.names),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2768</th>
  <td class="line-code diff_in">
    <pre>    values: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2769</th>
  <td class="line-code diff_in">
    <pre>      checked: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2770</th>
  <td class="line-code diff_in">
    <pre>        element.checked = !!value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2771</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2772</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2773</th>
  <td class="line-code diff_in">
    <pre>      style: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2774</th>
  <td class="line-code diff_in">
    <pre>        element.style.cssText = value ? value : '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2775</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2776</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2777</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2778</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2779</th>
  <td class="line-code diff_in">
    <pre>  Element._attributeTranslations.has = {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2780</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2781</th>
  <td class="line-code diff_in">
    <pre>  $w('colSpan rowSpan vAlign dateTime accessKey tabIndex ' +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2782</th>
  <td class="line-code diff_in">
    <pre>      'encType maxLength readOnly longDesc frameBorder').each(function(attr) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2783</th>
  <td class="line-code diff_in">
    <pre>    Element._attributeTranslations.write.names[attr.toLowerCase()] = attr;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2784</th>
  <td class="line-code diff_in">
    <pre>    Element._attributeTranslations.has[attr.toLowerCase()] = attr;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2785</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2786</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2787</th>
  <td class="line-code diff_in">
    <pre>  (function(v) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2788</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(v, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2789</th>
  <td class="line-code diff_in">
    <pre>      href:        v._getAttr2,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2790</th>
  <td class="line-code diff_in">
    <pre>      src:         v._getAttr2,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2791</th>
  <td class="line-code diff_in">
    <pre>      type:        v._getAttr,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2792</th>
  <td class="line-code diff_in">
    <pre>      action:      v._getAttrNode,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2793</th>
  <td class="line-code diff_in">
    <pre>      disabled:    v._flag,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2794</th>
  <td class="line-code diff_in">
    <pre>      checked:     v._flag,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2795</th>
  <td class="line-code diff_in">
    <pre>      readonly:    v._flag,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2796</th>
  <td class="line-code diff_in">
    <pre>      multiple:    v._flag,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2797</th>
  <td class="line-code diff_in">
    <pre>      onload:      v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2798</th>
  <td class="line-code diff_in">
    <pre>      onunload:    v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2799</th>
  <td class="line-code diff_in">
    <pre>      onclick:     v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2800</th>
  <td class="line-code diff_in">
    <pre>      ondblclick:  v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2801</th>
  <td class="line-code diff_in">
    <pre>      onmousedown: v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2802</th>
  <td class="line-code diff_in">
    <pre>      onmouseup:   v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2803</th>
  <td class="line-code diff_in">
    <pre>      onmouseover: v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2804</th>
  <td class="line-code diff_in">
    <pre>      onmousemove: v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2805</th>
  <td class="line-code diff_in">
    <pre>      onmouseout:  v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2806</th>
  <td class="line-code diff_in">
    <pre>      onfocus:     v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2807</th>
  <td class="line-code diff_in">
    <pre>      onblur:      v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2808</th>
  <td class="line-code diff_in">
    <pre>      onkeypress:  v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2809</th>
  <td class="line-code diff_in">
    <pre>      onkeydown:   v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2810</th>
  <td class="line-code diff_in">
    <pre>      onkeyup:     v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2811</th>
  <td class="line-code diff_in">
    <pre>      onsubmit:    v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2812</th>
  <td class="line-code diff_in">
    <pre>      onreset:     v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2813</th>
  <td class="line-code diff_in">
    <pre>      onselect:    v._getEv,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2814</th>
  <td class="line-code diff_in">
    <pre>      onchange:    v._getEv
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2815</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2816</th>
  <td class="line-code diff_in">
    <pre>  })(Element._attributeTranslations.read.values);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2817</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2818</th>
  <td class="line-code diff_in">
    <pre>  if (Prototype.BrowserFeatures.ElementExtensions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2819</th>
  <td class="line-code diff_in">
    <pre>    (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2820</th>
  <td class="line-code diff_in">
    <pre>      function _descendants(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2821</th>
  <td class="line-code diff_in">
    <pre>        var nodes = element.getElementsByTagName('*'), results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2822</th>
  <td class="line-code diff_in">
    <pre>        for (var i = 0, node; node = nodes[i]; i++)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2823</th>
  <td class="line-code diff_in">
    <pre>          if (node.tagName !== &quot;!&quot;) // Filter out comment nodes.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2824</th>
  <td class="line-code diff_in">
    <pre>            results.push(node);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2825</th>
  <td class="line-code diff_in">
    <pre>        return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2826</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2827</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2828</th>
  <td class="line-code diff_in">
    <pre>      Element.Methods.down = function(element, expression, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2829</th>
  <td class="line-code diff_in">
    <pre>        element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2830</th>
  <td class="line-code diff_in">
    <pre>        if (arguments.length == 1) return element.firstDescendant();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2831</th>
  <td class="line-code diff_in">
    <pre>        return Object.isNumber(expression) ? _descendants(element)[expression] :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2832</th>
  <td class="line-code diff_in">
    <pre>          Element.select(element, expression)[index || 0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2833</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2834</th>
  <td class="line-code diff_in">
    <pre>    })();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2835</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2836</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2837</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2838</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2839</th>
  <td class="line-code diff_in">
    <pre>else if (Prototype.Browser.Gecko &amp;&amp; /rv:1\.8\.0/.test(navigator.userAgent)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2840</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.setOpacity = function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2841</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2842</th>
  <td class="line-code diff_in">
    <pre>    element.style.opacity = (value == 1) ? 0.999999 :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2843</th>
  <td class="line-code diff_in">
    <pre>      (value === '') ? '' : (value &lt; 0.00001) ? 0 : value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2844</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2845</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2846</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2847</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2848</th>
  <td class="line-code diff_in">
    <pre>else if (Prototype.Browser.WebKit) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2849</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.setOpacity = function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2850</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2851</th>
  <td class="line-code diff_in">
    <pre>    element.style.opacity = (value == 1 || value === '') ? '' :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2852</th>
  <td class="line-code diff_in">
    <pre>      (value &lt; 0.00001) ? 0 : value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2853</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2854</th>
  <td class="line-code diff_in">
    <pre>    if (value == 1)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2855</th>
  <td class="line-code diff_in">
    <pre>      if (element.tagName.toUpperCase() == 'IMG' &amp;&amp; element.width) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2856</th>
  <td class="line-code diff_in">
    <pre>        element.width++; element.width--;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2857</th>
  <td class="line-code diff_in">
    <pre>      } else try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2858</th>
  <td class="line-code diff_in">
    <pre>        var n = document.createTextNode(' ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2859</th>
  <td class="line-code diff_in">
    <pre>        element.appendChild(n);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2860</th>
  <td class="line-code diff_in">
    <pre>        element.removeChild(n);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2861</th>
  <td class="line-code diff_in">
    <pre>      } catch (e) { }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2862</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2863</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2864</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2865</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2866</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.cumulativeOffset = function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2867</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2868</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2869</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.offsetTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2870</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.offsetLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2871</th>
  <td class="line-code diff_in">
    <pre>      if (element.offsetParent == document.body)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2872</th>
  <td class="line-code diff_in">
    <pre>        if (Element.getStyle(element, 'position') == 'absolute') break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2873</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2874</th>
  <td class="line-code diff_in">
    <pre>      element = element.offsetParent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2875</th>
  <td class="line-code diff_in">
    <pre>    } while (element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2876</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2877</th>
  <td class="line-code diff_in">
    <pre>    return Element._returnOffset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2878</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2879</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2880</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2881</th>
  <td class="line-code diff_in">
    <pre>if ('outerHTML' in document.documentElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2882</th>
  <td class="line-code diff_in">
    <pre>  Element.Methods.replace = function(element, content) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2883</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2884</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2885</th>
  <td class="line-code diff_in">
    <pre>    if (content &amp;&amp; content.toElement) content = content.toElement();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2886</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isElement(content)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2887</th>
  <td class="line-code diff_in">
    <pre>      element.parentNode.replaceChild(content, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2888</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2889</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2890</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2891</th>
  <td class="line-code diff_in">
    <pre>    content = Object.toHTML(content);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2892</th>
  <td class="line-code diff_in">
    <pre>    var parent = element.parentNode, tagName = parent.tagName.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2893</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2894</th>
  <td class="line-code diff_in">
    <pre>    if (Element._insertionTranslations.tags[tagName]) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2895</th>
  <td class="line-code diff_in">
    <pre>      var nextSibling = element.next(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2896</th>
  <td class="line-code diff_in">
    <pre>          fragments = Element._getContentFromAnonymousElement(tagName, content.stripScripts());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2897</th>
  <td class="line-code diff_in">
    <pre>      parent.removeChild(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2898</th>
  <td class="line-code diff_in">
    <pre>      if (nextSibling)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2899</th>
  <td class="line-code diff_in">
    <pre>        fragments.each(function(node) { parent.insertBefore(node, nextSibling) });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2900</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2901</th>
  <td class="line-code diff_in">
    <pre>        fragments.each(function(node) { parent.appendChild(node) });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2902</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2903</th>
  <td class="line-code diff_in">
    <pre>    else element.outerHTML = content.stripScripts();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2904</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2905</th>
  <td class="line-code diff_in">
    <pre>    content.evalScripts.bind(content).defer();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2906</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2907</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2908</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2909</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2910</th>
  <td class="line-code diff_in">
    <pre>Element._returnOffset = function(l, t) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2911</th>
  <td class="line-code diff_in">
    <pre>  var result = [l, t];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2912</th>
  <td class="line-code diff_in">
    <pre>  result.left = l;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2913</th>
  <td class="line-code diff_in">
    <pre>  result.top = t;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2914</th>
  <td class="line-code diff_in">
    <pre>  return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2915</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2916</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2917</th>
  <td class="line-code diff_in">
    <pre>Element._getContentFromAnonymousElement = function(tagName, html) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2918</th>
  <td class="line-code diff_in">
    <pre>  var div = new Element('div'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2919</th>
  <td class="line-code diff_in">
    <pre>      t = Element._insertionTranslations.tags[tagName];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2920</th>
  <td class="line-code diff_in">
    <pre>  if (t) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2921</th>
  <td class="line-code diff_in">
    <pre>    div.innerHTML = t[0] + html + t[1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2922</th>
  <td class="line-code diff_in">
    <pre>    for (var i = t[2]; i--; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2923</th>
  <td class="line-code diff_in">
    <pre>      div = div.firstChild;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2924</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2925</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2926</th>
  <td class="line-code diff_in">
    <pre>  else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2927</th>
  <td class="line-code diff_in">
    <pre>    div.innerHTML = html;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2928</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2929</th>
  <td class="line-code diff_in">
    <pre>  return $A(div.childNodes);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2930</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2931</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2932</th>
  <td class="line-code diff_in">
    <pre>Element._insertionTranslations = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2933</th>
  <td class="line-code diff_in">
    <pre>  before: function(element, node) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2934</th>
  <td class="line-code diff_in">
    <pre>    element.parentNode.insertBefore(node, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2935</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2936</th>
  <td class="line-code diff_in">
    <pre>  top: function(element, node) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2937</th>
  <td class="line-code diff_in">
    <pre>    element.insertBefore(node, element.firstChild);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2938</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2939</th>
  <td class="line-code diff_in">
    <pre>  bottom: function(element, node) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2940</th>
  <td class="line-code diff_in">
    <pre>    element.appendChild(node);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2941</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2942</th>
  <td class="line-code diff_in">
    <pre>  after: function(element, node) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2943</th>
  <td class="line-code diff_in">
    <pre>    element.parentNode.insertBefore(node, element.nextSibling);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2944</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2945</th>
  <td class="line-code diff_in">
    <pre>  tags: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2946</th>
  <td class="line-code diff_in">
    <pre>    TABLE:  ['&lt;table&gt;',                '&lt;/table&gt;',                   1],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2947</th>
  <td class="line-code diff_in">
    <pre>    TBODY:  ['&lt;table&gt;&lt;tbody&gt;',         '&lt;/tbody&gt;&lt;/table&gt;',           2],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2948</th>
  <td class="line-code diff_in">
    <pre>    TR:     ['&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;',     '&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;',      3],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2949</th>
  <td class="line-code diff_in">
    <pre>    TD:     ['&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;', '&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;', 4],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2950</th>
  <td class="line-code diff_in">
    <pre>    SELECT: ['&lt;select&gt;',               '&lt;/select&gt;',                  1]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2951</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2952</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2953</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2954</th>
  <td class="line-code diff_in">
    <pre>(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2955</th>
  <td class="line-code diff_in">
    <pre>  var tags = Element._insertionTranslations.tags;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2956</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(tags, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2957</th>
  <td class="line-code diff_in">
    <pre>    THEAD: tags.TBODY,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2958</th>
  <td class="line-code diff_in">
    <pre>    TFOOT: tags.TBODY,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2959</th>
  <td class="line-code diff_in">
    <pre>    TH:    tags.TD
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2960</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2961</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2962</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2963</th>
  <td class="line-code diff_in">
    <pre>Element.Methods.Simulated = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2964</th>
  <td class="line-code diff_in">
    <pre>  hasAttribute: function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2965</th>
  <td class="line-code diff_in">
    <pre>    attribute = Element._attributeTranslations.has[attribute] || attribute;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2966</th>
  <td class="line-code diff_in">
    <pre>    var node = $(element).getAttributeNode(attribute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2967</th>
  <td class="line-code diff_in">
    <pre>    return !!(node &amp;&amp; node.specified);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2968</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2969</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2970</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2971</th>
  <td class="line-code diff_in">
    <pre>Element.Methods.ByTag = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2972</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2973</th>
  <td class="line-code diff_in">
    <pre>Object.extend(Element, Element.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2974</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2975</th>
  <td class="line-code diff_in">
    <pre>(function(div) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2976</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2977</th>
  <td class="line-code diff_in">
    <pre>  if (!Prototype.BrowserFeatures.ElementExtensions &amp;&amp; div['__proto__']) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2978</th>
  <td class="line-code diff_in">
    <pre>    window.HTMLElement = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2979</th>
  <td class="line-code diff_in">
    <pre>    window.HTMLElement.prototype = div['__proto__'];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2980</th>
  <td class="line-code diff_in">
    <pre>    Prototype.BrowserFeatures.ElementExtensions = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2981</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2982</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2983</th>
  <td class="line-code diff_in">
    <pre>  div = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2984</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2985</th>
  <td class="line-code diff_in">
    <pre>})(document.createElement('div'));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2986</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2987</th>
  <td class="line-code diff_in">
    <pre>Element.extend = (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2988</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2989</th>
  <td class="line-code diff_in">
    <pre>  function checkDeficiency(tagName) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2990</th>
  <td class="line-code diff_in">
    <pre>    if (typeof window.Element != 'undefined') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2991</th>
  <td class="line-code diff_in">
    <pre>      var proto = window.Element.prototype;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2992</th>
  <td class="line-code diff_in">
    <pre>      if (proto) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2993</th>
  <td class="line-code diff_in">
    <pre>        var id = '_' + (Math.random()+'').slice(2),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2994</th>
  <td class="line-code diff_in">
    <pre>            el = document.createElement(tagName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2995</th>
  <td class="line-code diff_in">
    <pre>        proto[id] = 'x';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2996</th>
  <td class="line-code diff_in">
    <pre>        var isBuggy = (el[id] !== 'x');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2997</th>
  <td class="line-code diff_in">
    <pre>        delete proto[id];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2998</th>
  <td class="line-code diff_in">
    <pre>        el = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2999</th>
  <td class="line-code diff_in">
    <pre>        return isBuggy;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3000</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3001</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3002</th>
  <td class="line-code diff_in">
    <pre>    return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3003</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3004</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3005</th>
  <td class="line-code diff_in">
    <pre>  function extendElementWith(element, methods) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3006</th>
  <td class="line-code diff_in">
    <pre>    for (var property in methods) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3007</th>
  <td class="line-code diff_in">
    <pre>      var value = methods[property];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3008</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isFunction(value) &amp;&amp; !(property in element))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3009</th>
  <td class="line-code diff_in">
    <pre>        element[property] = value.methodize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3010</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3011</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3012</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3013</th>
  <td class="line-code diff_in">
    <pre>  var HTMLOBJECTELEMENT_PROTOTYPE_BUGGY = checkDeficiency('object');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3014</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3015</th>
  <td class="line-code diff_in">
    <pre>  if (Prototype.BrowserFeatures.SpecificElementExtensions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3016</th>
  <td class="line-code diff_in">
    <pre>    if (HTMLOBJECTELEMENT_PROTOTYPE_BUGGY) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3017</th>
  <td class="line-code diff_in">
    <pre>      return function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3018</th>
  <td class="line-code diff_in">
    <pre>        if (element &amp;&amp; typeof element._extendedByPrototype == 'undefined') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3019</th>
  <td class="line-code diff_in">
    <pre>          var t = element.tagName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3020</th>
  <td class="line-code diff_in">
    <pre>          if (t &amp;&amp; (/^(?:object|applet|embed)$/i.test(t))) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3021</th>
  <td class="line-code diff_in">
    <pre>            extendElementWith(element, Element.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3022</th>
  <td class="line-code diff_in">
    <pre>            extendElementWith(element, Element.Methods.Simulated);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3023</th>
  <td class="line-code diff_in">
    <pre>            extendElementWith(element, Element.Methods.ByTag[t.toUpperCase()]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3024</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3025</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3026</th>
  <td class="line-code diff_in">
    <pre>        return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3027</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3028</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3029</th>
  <td class="line-code diff_in">
    <pre>    return Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3030</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3031</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3032</th>
  <td class="line-code diff_in">
    <pre>  var Methods = { }, ByTag = Element.Methods.ByTag;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3033</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3034</th>
  <td class="line-code diff_in">
    <pre>  var extend = Object.extend(function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3035</th>
  <td class="line-code diff_in">
    <pre>    if (!element || typeof element._extendedByPrototype != 'undefined' ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3036</th>
  <td class="line-code diff_in">
    <pre>        element.nodeType != 1 || element == window) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3037</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3038</th>
  <td class="line-code diff_in">
    <pre>    var methods = Object.clone(Methods),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3039</th>
  <td class="line-code diff_in">
    <pre>        tagName = element.tagName.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3040</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3041</th>
  <td class="line-code diff_in">
    <pre>    if (ByTag[tagName]) Object.extend(methods, ByTag[tagName]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3042</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3043</th>
  <td class="line-code diff_in">
    <pre>    extendElementWith(element, methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3044</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3045</th>
  <td class="line-code diff_in">
    <pre>    element._extendedByPrototype = Prototype.emptyFunction;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3046</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3047</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3048</th>
  <td class="line-code diff_in">
    <pre>  }, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3049</th>
  <td class="line-code diff_in">
    <pre>    refresh: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3050</th>
  <td class="line-code diff_in">
    <pre>      if (!Prototype.BrowserFeatures.ElementExtensions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3051</th>
  <td class="line-code diff_in">
    <pre>        Object.extend(Methods, Element.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3052</th>
  <td class="line-code diff_in">
    <pre>        Object.extend(Methods, Element.Methods.Simulated);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3053</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3054</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3055</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3056</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3057</th>
  <td class="line-code diff_in">
    <pre>  extend.refresh();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3058</th>
  <td class="line-code diff_in">
    <pre>  return extend;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3059</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3060</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3061</th>
  <td class="line-code diff_in">
    <pre>if (document.documentElement.hasAttribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3062</th>
  <td class="line-code diff_in">
    <pre>  Element.hasAttribute = function(element, attribute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3063</th>
  <td class="line-code diff_in">
    <pre>    return element.hasAttribute(attribute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3064</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3065</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3066</th>
  <td class="line-code diff_in">
    <pre>else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3067</th>
  <td class="line-code diff_in">
    <pre>  Element.hasAttribute = Element.Methods.Simulated.hasAttribute;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3068</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3069</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3070</th>
  <td class="line-code diff_in">
    <pre>Element.addMethods = function(methods) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3071</th>
  <td class="line-code diff_in">
    <pre>  var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3072</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3073</th>
  <td class="line-code diff_in">
    <pre>  if (!methods) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3074</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(Form, Form.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3075</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(Form.Element, Form.Element.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3076</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(Element.Methods.ByTag, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3077</th>
  <td class="line-code diff_in">
    <pre>      &quot;FORM&quot;:     Object.clone(Form.Methods),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3078</th>
  <td class="line-code diff_in">
    <pre>      &quot;INPUT&quot;:    Object.clone(Form.Element.Methods),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3079</th>
  <td class="line-code diff_in">
    <pre>      &quot;SELECT&quot;:   Object.clone(Form.Element.Methods),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3080</th>
  <td class="line-code diff_in">
    <pre>      &quot;TEXTAREA&quot;: Object.clone(Form.Element.Methods)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3081</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3082</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3083</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3084</th>
  <td class="line-code diff_in">
    <pre>  if (arguments.length == 2) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3085</th>
  <td class="line-code diff_in">
    <pre>    var tagName = methods;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3086</th>
  <td class="line-code diff_in">
    <pre>    methods = arguments[1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3087</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3088</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3089</th>
  <td class="line-code diff_in">
    <pre>  if (!tagName) Object.extend(Element.Methods, methods || { });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3090</th>
  <td class="line-code diff_in">
    <pre>  else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3091</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isArray(tagName)) tagName.each(extend);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3092</th>
  <td class="line-code diff_in">
    <pre>    else extend(tagName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3093</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3094</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3095</th>
  <td class="line-code diff_in">
    <pre>  function extend(tagName) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3096</th>
  <td class="line-code diff_in">
    <pre>    tagName = tagName.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3097</th>
  <td class="line-code diff_in">
    <pre>    if (!Element.Methods.ByTag[tagName])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3098</th>
  <td class="line-code diff_in">
    <pre>      Element.Methods.ByTag[tagName] = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3099</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(Element.Methods.ByTag[tagName], methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3100</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3101</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3102</th>
  <td class="line-code diff_in">
    <pre>  function copy(methods, destination, onlyIfAbsent) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3103</th>
  <td class="line-code diff_in">
    <pre>    onlyIfAbsent = onlyIfAbsent || false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3104</th>
  <td class="line-code diff_in">
    <pre>    for (var property in methods) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3105</th>
  <td class="line-code diff_in">
    <pre>      var value = methods[property];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3106</th>
  <td class="line-code diff_in">
    <pre>      if (!Object.isFunction(value)) continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3107</th>
  <td class="line-code diff_in">
    <pre>      if (!onlyIfAbsent || !(property in destination))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3108</th>
  <td class="line-code diff_in">
    <pre>        destination[property] = value.methodize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3109</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3110</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3111</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3112</th>
  <td class="line-code diff_in">
    <pre>  function findDOMClass(tagName) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3113</th>
  <td class="line-code diff_in">
    <pre>    var klass;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3114</th>
  <td class="line-code diff_in">
    <pre>    var trans = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3115</th>
  <td class="line-code diff_in">
    <pre>      &quot;OPTGROUP&quot;: &quot;OptGroup&quot;, &quot;TEXTAREA&quot;: &quot;TextArea&quot;, &quot;P&quot;: &quot;Paragraph&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3116</th>
  <td class="line-code diff_in">
    <pre>      &quot;FIELDSET&quot;: &quot;FieldSet&quot;, &quot;UL&quot;: &quot;UList&quot;, &quot;OL&quot;: &quot;OList&quot;, &quot;DL&quot;: &quot;DList&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3117</th>
  <td class="line-code diff_in">
    <pre>      &quot;DIR&quot;: &quot;Directory&quot;, &quot;H1&quot;: &quot;Heading&quot;, &quot;H2&quot;: &quot;Heading&quot;, &quot;H3&quot;: &quot;Heading&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3118</th>
  <td class="line-code diff_in">
    <pre>      &quot;H4&quot;: &quot;Heading&quot;, &quot;H5&quot;: &quot;Heading&quot;, &quot;H6&quot;: &quot;Heading&quot;, &quot;Q&quot;: &quot;Quote&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3119</th>
  <td class="line-code diff_in">
    <pre>      &quot;INS&quot;: &quot;Mod&quot;, &quot;DEL&quot;: &quot;Mod&quot;, &quot;A&quot;: &quot;Anchor&quot;, &quot;IMG&quot;: &quot;Image&quot;, &quot;CAPTION&quot;:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3120</th>
  <td class="line-code diff_in">
    <pre>      &quot;TableCaption&quot;, &quot;COL&quot;: &quot;TableCol&quot;, &quot;COLGROUP&quot;: &quot;TableCol&quot;, &quot;THEAD&quot;:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3121</th>
  <td class="line-code diff_in">
    <pre>      &quot;TableSection&quot;, &quot;TFOOT&quot;: &quot;TableSection&quot;, &quot;TBODY&quot;: &quot;TableSection&quot;, &quot;TR&quot;:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3122</th>
  <td class="line-code diff_in">
    <pre>      &quot;TableRow&quot;, &quot;TH&quot;: &quot;TableCell&quot;, &quot;TD&quot;: &quot;TableCell&quot;, &quot;FRAMESET&quot;:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3123</th>
  <td class="line-code diff_in">
    <pre>      &quot;FrameSet&quot;, &quot;IFRAME&quot;: &quot;IFrame&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3124</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3125</th>
  <td class="line-code diff_in">
    <pre>    if (trans[tagName]) klass = 'HTML' + trans[tagName] + 'Element';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3126</th>
  <td class="line-code diff_in">
    <pre>    if (window[klass]) return window[klass];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3127</th>
  <td class="line-code diff_in">
    <pre>    klass = 'HTML' + tagName + 'Element';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3128</th>
  <td class="line-code diff_in">
    <pre>    if (window[klass]) return window[klass];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3129</th>
  <td class="line-code diff_in">
    <pre>    klass = 'HTML' + tagName.capitalize() + 'Element';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3130</th>
  <td class="line-code diff_in">
    <pre>    if (window[klass]) return window[klass];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3131</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3132</th>
  <td class="line-code diff_in">
    <pre>    var element = document.createElement(tagName),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3133</th>
  <td class="line-code diff_in">
    <pre>        proto = element['__proto__'] || element.constructor.prototype;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3134</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3135</th>
  <td class="line-code diff_in">
    <pre>    element = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3136</th>
  <td class="line-code diff_in">
    <pre>    return proto;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3137</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3138</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3139</th>
  <td class="line-code diff_in">
    <pre>  var elementPrototype = window.HTMLElement ? HTMLElement.prototype :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3140</th>
  <td class="line-code diff_in">
    <pre>   Element.prototype;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3141</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3142</th>
  <td class="line-code diff_in">
    <pre>  if (F.ElementExtensions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3143</th>
  <td class="line-code diff_in">
    <pre>    copy(Element.Methods, elementPrototype);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3144</th>
  <td class="line-code diff_in">
    <pre>    copy(Element.Methods.Simulated, elementPrototype, true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3145</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3146</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3147</th>
  <td class="line-code diff_in">
    <pre>  if (F.SpecificElementExtensions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3148</th>
  <td class="line-code diff_in">
    <pre>    for (var tag in Element.Methods.ByTag) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3149</th>
  <td class="line-code diff_in">
    <pre>      var klass = findDOMClass(tag);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3150</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isUndefined(klass)) continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3151</th>
  <td class="line-code diff_in">
    <pre>      copy(T[tag], klass.prototype);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3152</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3153</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3154</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3155</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(Element, Element.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3156</th>
  <td class="line-code diff_in">
    <pre>  delete Element.ByTag;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3157</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3158</th>
  <td class="line-code diff_in">
    <pre>  if (Element.extend.refresh) Element.extend.refresh();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3159</th>
  <td class="line-code diff_in">
    <pre>  Element.cache = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3160</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3161</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3162</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3163</th>
  <td class="line-code diff_in">
    <pre>document.viewport = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3164</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3165</th>
  <td class="line-code diff_in">
    <pre>  getDimensions: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3166</th>
  <td class="line-code diff_in">
    <pre>    return { width: this.getWidth(), height: this.getHeight() };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3167</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3168</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3169</th>
  <td class="line-code diff_in">
    <pre>  getScrollOffsets: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3170</th>
  <td class="line-code diff_in">
    <pre>    return Element._returnOffset(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3171</th>
  <td class="line-code diff_in">
    <pre>      window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3172</th>
  <td class="line-code diff_in">
    <pre>      window.pageYOffset || document.documentElement.scrollTop  || document.body.scrollTop);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3173</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3174</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3175</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3176</th>
  <td class="line-code diff_in">
    <pre>(function(viewport) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3177</th>
  <td class="line-code diff_in">
    <pre>  var B = Prototype.Browser, doc = document, element, property = {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3178</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3179</th>
  <td class="line-code diff_in">
    <pre>  function getRootElement() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3180</th>
  <td class="line-code diff_in">
    <pre>    if (B.WebKit &amp;&amp; !doc.evaluate)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3181</th>
  <td class="line-code diff_in">
    <pre>      return document;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3182</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3183</th>
  <td class="line-code diff_in">
    <pre>    if (B.Opera &amp;&amp; window.parseFloat(window.opera.version()) &lt; 9.5)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3184</th>
  <td class="line-code diff_in">
    <pre>      return document.body;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3185</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3186</th>
  <td class="line-code diff_in">
    <pre>    return document.documentElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3187</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3188</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3189</th>
  <td class="line-code diff_in">
    <pre>  function define(D) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3190</th>
  <td class="line-code diff_in">
    <pre>    if (!element) element = getRootElement();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3191</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3192</th>
  <td class="line-code diff_in">
    <pre>    property[D] = 'client' + D;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3193</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3194</th>
  <td class="line-code diff_in">
    <pre>    viewport['get' + D] = function() { return element[property[D]] };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3195</th>
  <td class="line-code diff_in">
    <pre>    return viewport['get' + D]();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3196</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3197</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3198</th>
  <td class="line-code diff_in">
    <pre>  viewport.getWidth  = define.curry('Width');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3199</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3200</th>
  <td class="line-code diff_in">
    <pre>  viewport.getHeight = define.curry('Height');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3201</th>
  <td class="line-code diff_in">
    <pre>})(document.viewport);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3202</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3203</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3204</th>
  <td class="line-code diff_in">
    <pre>Element.Storage = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3205</th>
  <td class="line-code diff_in">
    <pre>  UID: 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3206</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3207</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3208</th>
  <td class="line-code diff_in">
    <pre>Element.addMethods({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3209</th>
  <td class="line-code diff_in">
    <pre>  getStorage: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3210</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3211</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3212</th>
  <td class="line-code diff_in">
    <pre>    var uid;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3213</th>
  <td class="line-code diff_in">
    <pre>    if (element === window) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3214</th>
  <td class="line-code diff_in">
    <pre>      uid = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3215</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3216</th>
  <td class="line-code diff_in">
    <pre>      if (typeof element._prototypeUID === &quot;undefined&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3217</th>
  <td class="line-code diff_in">
    <pre>        element._prototypeUID = Element.Storage.UID++;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3218</th>
  <td class="line-code diff_in">
    <pre>      uid = element._prototypeUID;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3219</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3220</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3221</th>
  <td class="line-code diff_in">
    <pre>    if (!Element.Storage[uid])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3222</th>
  <td class="line-code diff_in">
    <pre>      Element.Storage[uid] = $H();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3223</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3224</th>
  <td class="line-code diff_in">
    <pre>    return Element.Storage[uid];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3225</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3226</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3227</th>
  <td class="line-code diff_in">
    <pre>  store: function(element, key, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3228</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3229</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3230</th>
  <td class="line-code diff_in">
    <pre>    if (arguments.length === 2) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3231</th>
  <td class="line-code diff_in">
    <pre>      Element.getStorage(element).update(key);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3232</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3233</th>
  <td class="line-code diff_in">
    <pre>      Element.getStorage(element).set(key, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3234</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3235</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3236</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3237</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3238</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3239</th>
  <td class="line-code diff_in">
    <pre>  retrieve: function(element, key, defaultValue) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3240</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3241</th>
  <td class="line-code diff_in">
    <pre>    var hash = Element.getStorage(element), value = hash.get(key);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3242</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3243</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(value)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3244</th>
  <td class="line-code diff_in">
    <pre>      hash.set(key, defaultValue);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3245</th>
  <td class="line-code diff_in">
    <pre>      value = defaultValue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3246</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3247</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3248</th>
  <td class="line-code diff_in">
    <pre>    return value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3249</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3250</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3251</th>
  <td class="line-code diff_in">
    <pre>  clone: function(element, deep) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3252</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3253</th>
  <td class="line-code diff_in">
    <pre>    var clone = element.cloneNode(deep);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3254</th>
  <td class="line-code diff_in">
    <pre>    clone._prototypeUID = void 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3255</th>
  <td class="line-code diff_in">
    <pre>    if (deep) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3256</th>
  <td class="line-code diff_in">
    <pre>      var descendants = Element.select(clone, '*'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3257</th>
  <td class="line-code diff_in">
    <pre>          i = descendants.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3258</th>
  <td class="line-code diff_in">
    <pre>      while (i--) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3259</th>
  <td class="line-code diff_in">
    <pre>        descendants[i]._prototypeUID = void 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3260</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3261</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3262</th>
  <td class="line-code diff_in">
    <pre>    return Element.extend(clone);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3263</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3264</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3265</th>
  <td class="line-code diff_in">
    <pre>  purge: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3266</th>
  <td class="line-code diff_in">
    <pre>    if (!(element = $(element))) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3267</th>
  <td class="line-code diff_in">
    <pre>    purgeElement(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3268</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3269</th>
  <td class="line-code diff_in">
    <pre>    var descendants = element.getElementsByTagName('*'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3270</th>
  <td class="line-code diff_in">
    <pre>     i = descendants.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3271</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3272</th>
  <td class="line-code diff_in">
    <pre>    while (i--) purgeElement(descendants[i]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3273</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3274</th>
  <td class="line-code diff_in">
    <pre>    return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3275</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3276</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3277</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3278</th>
  <td class="line-code diff_in">
    <pre>(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3279</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3280</th>
  <td class="line-code diff_in">
    <pre>  function toDecimal(pctString) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3281</th>
  <td class="line-code diff_in">
    <pre>    var match = pctString.match(/^(\d+)%?$/i);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3282</th>
  <td class="line-code diff_in">
    <pre>    if (!match) return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3283</th>
  <td class="line-code diff_in">
    <pre>    return (Number(match[1]) / 100);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3284</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3285</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3286</th>
  <td class="line-code diff_in">
    <pre>  function getPixelValue(value, property) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3287</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isElement(value)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3288</th>
  <td class="line-code diff_in">
    <pre>      element = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3289</th>
  <td class="line-code diff_in">
    <pre>      value = element.getStyle(property);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3290</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3291</th>
  <td class="line-code diff_in">
    <pre>    if (value === null) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3292</th>
  <td class="line-code diff_in">
    <pre>      return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3293</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3294</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3295</th>
  <td class="line-code diff_in">
    <pre>    if ((/^(?:-)?\d+(\.\d+)?(px)?$/i).test(value)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3296</th>
  <td class="line-code diff_in">
    <pre>      return window.parseFloat(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3297</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3298</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3299</th>
  <td class="line-code diff_in">
    <pre>    if (/\d/.test(value) &amp;&amp; element.runtimeStyle) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3300</th>
  <td class="line-code diff_in">
    <pre>      var style = element.style.left, rStyle = element.runtimeStyle.left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3301</th>
  <td class="line-code diff_in">
    <pre>      element.runtimeStyle.left = element.currentStyle.left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3302</th>
  <td class="line-code diff_in">
    <pre>      element.style.left = value || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3303</th>
  <td class="line-code diff_in">
    <pre>      value = element.style.pixelLeft;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3304</th>
  <td class="line-code diff_in">
    <pre>      element.style.left = style;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3305</th>
  <td class="line-code diff_in">
    <pre>      element.runtimeStyle.left = rStyle;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3306</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3307</th>
  <td class="line-code diff_in">
    <pre>      return value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3308</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3309</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3310</th>
  <td class="line-code diff_in">
    <pre>    if (value.include('%')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3311</th>
  <td class="line-code diff_in">
    <pre>      var decimal = toDecimal(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3312</th>
  <td class="line-code diff_in">
    <pre>      var whole;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3313</th>
  <td class="line-code diff_in">
    <pre>      if (property.include('left') || property.include('right') ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3314</th>
  <td class="line-code diff_in">
    <pre>       property.include('width')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3315</th>
  <td class="line-code diff_in">
    <pre>        whole = $(element.parentNode).measure('width');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3316</th>
  <td class="line-code diff_in">
    <pre>      } else if (property.include('top') || property.include('bottom') ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3317</th>
  <td class="line-code diff_in">
    <pre>       property.include('height')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3318</th>
  <td class="line-code diff_in">
    <pre>        whole = $(element.parentNode).measure('height');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3319</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3320</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3321</th>
  <td class="line-code diff_in">
    <pre>      return whole * decimal;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3322</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3323</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3324</th>
  <td class="line-code diff_in">
    <pre>    return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3325</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3326</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3327</th>
  <td class="line-code diff_in">
    <pre>  function toCSSPixels(number) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3328</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(number) &amp;&amp; number.endsWith('px')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3329</th>
  <td class="line-code diff_in">
    <pre>      return number;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3330</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3331</th>
  <td class="line-code diff_in">
    <pre>    return number + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3332</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3333</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3334</th>
  <td class="line-code diff_in">
    <pre>  function isDisplayed(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3335</th>
  <td class="line-code diff_in">
    <pre>    var originalElement = element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3336</th>
  <td class="line-code diff_in">
    <pre>    while (element &amp;&amp; element.parentNode) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3337</th>
  <td class="line-code diff_in">
    <pre>      var display = element.getStyle('display');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3338</th>
  <td class="line-code diff_in">
    <pre>      if (display === 'none') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3339</th>
  <td class="line-code diff_in">
    <pre>        return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3340</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3341</th>
  <td class="line-code diff_in">
    <pre>      element = $(element.parentNode);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3342</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3343</th>
  <td class="line-code diff_in">
    <pre>    return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3344</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3345</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3346</th>
  <td class="line-code diff_in">
    <pre>  var hasLayout = Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3347</th>
  <td class="line-code diff_in">
    <pre>  if ('currentStyle' in document.documentElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3348</th>
  <td class="line-code diff_in">
    <pre>    hasLayout = function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3349</th>
  <td class="line-code diff_in">
    <pre>      if (!element.currentStyle.hasLayout) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3350</th>
  <td class="line-code diff_in">
    <pre>        element.style.zoom = 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3351</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3352</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3353</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3354</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3355</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3356</th>
  <td class="line-code diff_in">
    <pre>  function cssNameFor(key) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3357</th>
  <td class="line-code diff_in">
    <pre>    if (key.include('border')) key = key + '-width';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3358</th>
  <td class="line-code diff_in">
    <pre>    return key.camelize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3359</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3360</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3361</th>
  <td class="line-code diff_in">
    <pre>  Element.Layout = Class.create(Hash, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3362</th>
  <td class="line-code diff_in">
    <pre>    initialize: function($super, element, preCompute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3363</th>
  <td class="line-code diff_in">
    <pre>      $super();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3364</th>
  <td class="line-code diff_in">
    <pre>      this.element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3365</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3366</th>
  <td class="line-code diff_in">
    <pre>      Element.Layout.PROPERTIES.each( function(property) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3367</th>
  <td class="line-code diff_in">
    <pre>        this._set(property, null);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3368</th>
  <td class="line-code diff_in">
    <pre>      }, this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3369</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3370</th>
  <td class="line-code diff_in">
    <pre>      if (preCompute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3371</th>
  <td class="line-code diff_in">
    <pre>        this._preComputing = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3372</th>
  <td class="line-code diff_in">
    <pre>        this._begin();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3373</th>
  <td class="line-code diff_in">
    <pre>        Element.Layout.PROPERTIES.each( this._compute, this );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3374</th>
  <td class="line-code diff_in">
    <pre>        this._end();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3375</th>
  <td class="line-code diff_in">
    <pre>        this._preComputing = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3376</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3377</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3378</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3379</th>
  <td class="line-code diff_in">
    <pre>    _set: function(property, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3380</th>
  <td class="line-code diff_in">
    <pre>      return Hash.prototype.set.call(this, property, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3381</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3382</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3383</th>
  <td class="line-code diff_in">
    <pre>    set: function(property, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3384</th>
  <td class="line-code diff_in">
    <pre>      throw &quot;Properties of Element.Layout are read-only.&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3385</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3386</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3387</th>
  <td class="line-code diff_in">
    <pre>    get: function($super, property) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3388</th>
  <td class="line-code diff_in">
    <pre>      var value = $super(property);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3389</th>
  <td class="line-code diff_in">
    <pre>      return value === null ? this._compute(property) : value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3390</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3391</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3392</th>
  <td class="line-code diff_in">
    <pre>    _begin: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3393</th>
  <td class="line-code diff_in">
    <pre>      if (this._prepared) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3394</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3395</th>
  <td class="line-code diff_in">
    <pre>      var element = this.element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3396</th>
  <td class="line-code diff_in">
    <pre>      if (isDisplayed(element)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3397</th>
  <td class="line-code diff_in">
    <pre>        this._prepared = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3398</th>
  <td class="line-code diff_in">
    <pre>        return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3399</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3400</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3401</th>
  <td class="line-code diff_in">
    <pre>      var originalStyles = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3402</th>
  <td class="line-code diff_in">
    <pre>        position:   element.style.position   || '',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3403</th>
  <td class="line-code diff_in">
    <pre>        width:      element.style.width      || '',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3404</th>
  <td class="line-code diff_in">
    <pre>        visibility: element.style.visibility || '',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3405</th>
  <td class="line-code diff_in">
    <pre>        display:    element.style.display    || ''
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3406</th>
  <td class="line-code diff_in">
    <pre>      };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3407</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3408</th>
  <td class="line-code diff_in">
    <pre>      element.store('prototype_original_styles', originalStyles);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3409</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3410</th>
  <td class="line-code diff_in">
    <pre>      var position = element.getStyle('position'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3411</th>
  <td class="line-code diff_in">
    <pre>       width = element.getStyle('width');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3412</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3413</th>
  <td class="line-code diff_in">
    <pre>      element.setStyle({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3414</th>
  <td class="line-code diff_in">
    <pre>        position:   'absolute',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3415</th>
  <td class="line-code diff_in">
    <pre>        visibility: 'hidden',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3416</th>
  <td class="line-code diff_in">
    <pre>        display:    'block'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3417</th>
  <td class="line-code diff_in">
    <pre>      });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3418</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3419</th>
  <td class="line-code diff_in">
    <pre>      var positionedWidth = element.getStyle('width');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3420</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3421</th>
  <td class="line-code diff_in">
    <pre>      var newWidth;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3422</th>
  <td class="line-code diff_in">
    <pre>      if (width &amp;&amp; (positionedWidth === width)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3423</th>
  <td class="line-code diff_in">
    <pre>        newWidth = getPixelValue(width);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3424</th>
  <td class="line-code diff_in">
    <pre>      } else if (width &amp;&amp; (position === 'absolute' || position === 'fixed')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3425</th>
  <td class="line-code diff_in">
    <pre>        newWidth = getPixelValue(width);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3426</th>
  <td class="line-code diff_in">
    <pre>      } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3427</th>
  <td class="line-code diff_in">
    <pre>        var parent = element.parentNode, pLayout = $(parent).getLayout();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3428</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3429</th>
  <td class="line-code diff_in">
    <pre>        newWidth = pLayout.get('width') -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3430</th>
  <td class="line-code diff_in">
    <pre>         this.get('margin-left') -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3431</th>
  <td class="line-code diff_in">
    <pre>         this.get('border-left') -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3432</th>
  <td class="line-code diff_in">
    <pre>         this.get('padding-left') -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3433</th>
  <td class="line-code diff_in">
    <pre>         this.get('padding-right') -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3434</th>
  <td class="line-code diff_in">
    <pre>         this.get('border-right') -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3435</th>
  <td class="line-code diff_in">
    <pre>         this.get('margin-right');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3436</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3437</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3438</th>
  <td class="line-code diff_in">
    <pre>      element.setStyle({ width: newWidth + 'px' });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3439</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3440</th>
  <td class="line-code diff_in">
    <pre>      this._prepared = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3441</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3442</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3443</th>
  <td class="line-code diff_in">
    <pre>    _end: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3444</th>
  <td class="line-code diff_in">
    <pre>      var element = this.element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3445</th>
  <td class="line-code diff_in">
    <pre>      var originalStyles = element.retrieve('prototype_original_styles');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3446</th>
  <td class="line-code diff_in">
    <pre>      element.store('prototype_original_styles', null);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3447</th>
  <td class="line-code diff_in">
    <pre>      element.setStyle(originalStyles);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3448</th>
  <td class="line-code diff_in">
    <pre>      this._prepared = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3449</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3450</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3451</th>
  <td class="line-code diff_in">
    <pre>    _compute: function(property) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3452</th>
  <td class="line-code diff_in">
    <pre>      var COMPUTATIONS = Element.Layout.COMPUTATIONS;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3453</th>
  <td class="line-code diff_in">
    <pre>      if (!(property in COMPUTATIONS)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3454</th>
  <td class="line-code diff_in">
    <pre>        throw &quot;Property not found.&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3455</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3456</th>
  <td class="line-code diff_in">
    <pre>      return this._set(property, COMPUTATIONS[property].call(this, this.element));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3457</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3458</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3459</th>
  <td class="line-code diff_in">
    <pre>    toObject: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3460</th>
  <td class="line-code diff_in">
    <pre>      var args = $A(arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3461</th>
  <td class="line-code diff_in">
    <pre>      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3462</th>
  <td class="line-code diff_in">
    <pre>       args.join(' ').split(' ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3463</th>
  <td class="line-code diff_in">
    <pre>      var obj = {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3464</th>
  <td class="line-code diff_in">
    <pre>      keys.each( function(key) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3465</th>
  <td class="line-code diff_in">
    <pre>        if (!Element.Layout.PROPERTIES.include(key)) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3466</th>
  <td class="line-code diff_in">
    <pre>        var value = this.get(key);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3467</th>
  <td class="line-code diff_in">
    <pre>        if (value != null) obj[key] = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3468</th>
  <td class="line-code diff_in">
    <pre>      }, this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3469</th>
  <td class="line-code diff_in">
    <pre>      return obj;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3470</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3471</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3472</th>
  <td class="line-code diff_in">
    <pre>    toHash: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3473</th>
  <td class="line-code diff_in">
    <pre>      var obj = this.toObject.apply(this, arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3474</th>
  <td class="line-code diff_in">
    <pre>      return new Hash(obj);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3475</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3476</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3477</th>
  <td class="line-code diff_in">
    <pre>    toCSS: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3478</th>
  <td class="line-code diff_in">
    <pre>      var args = $A(arguments);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3479</th>
  <td class="line-code diff_in">
    <pre>      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3480</th>
  <td class="line-code diff_in">
    <pre>       args.join(' ').split(' ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3481</th>
  <td class="line-code diff_in">
    <pre>      var css = {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3482</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3483</th>
  <td class="line-code diff_in">
    <pre>      keys.each( function(key) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3484</th>
  <td class="line-code diff_in">
    <pre>        if (!Element.Layout.PROPERTIES.include(key)) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3485</th>
  <td class="line-code diff_in">
    <pre>        if (Element.Layout.COMPOSITE_PROPERTIES.include(key)) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3486</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3487</th>
  <td class="line-code diff_in">
    <pre>        var value = this.get(key);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3488</th>
  <td class="line-code diff_in">
    <pre>        if (value != null) css[cssNameFor(key)] = value + 'px';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3489</th>
  <td class="line-code diff_in">
    <pre>      }, this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3490</th>
  <td class="line-code diff_in">
    <pre>      return css;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3491</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3492</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3493</th>
  <td class="line-code diff_in">
    <pre>    inspect: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3494</th>
  <td class="line-code diff_in">
    <pre>      return &quot;#&lt;Element.Layout&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3495</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3496</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3497</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3498</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(Element.Layout, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3499</th>
  <td class="line-code diff_in">
    <pre>    PROPERTIES: $w('height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3500</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3501</th>
  <td class="line-code diff_in">
    <pre>    COMPOSITE_PROPERTIES: $w('padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3502</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3503</th>
  <td class="line-code diff_in">
    <pre>    COMPUTATIONS: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3504</th>
  <td class="line-code diff_in">
    <pre>      'height': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3505</th>
  <td class="line-code diff_in">
    <pre>        if (!this._preComputing) this._begin();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3506</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3507</th>
  <td class="line-code diff_in">
    <pre>        var bHeight = this.get('border-box-height');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3508</th>
  <td class="line-code diff_in">
    <pre>        if (bHeight &lt;= 0) return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3509</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3510</th>
  <td class="line-code diff_in">
    <pre>        var bTop = this.get('border-top'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3511</th>
  <td class="line-code diff_in">
    <pre>         bBottom = this.get('border-bottom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3512</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3513</th>
  <td class="line-code diff_in">
    <pre>        var pTop = this.get('padding-top'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3514</th>
  <td class="line-code diff_in">
    <pre>         pBottom = this.get('padding-bottom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3515</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3516</th>
  <td class="line-code diff_in">
    <pre>        if (!this._preComputing) this._end();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3517</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3518</th>
  <td class="line-code diff_in">
    <pre>        return bHeight - bTop - bBottom - pTop - pBottom;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3519</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3520</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3521</th>
  <td class="line-code diff_in">
    <pre>      'width': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3522</th>
  <td class="line-code diff_in">
    <pre>        if (!this._preComputing) this._begin();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3523</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3524</th>
  <td class="line-code diff_in">
    <pre>        var bWidth = this.get('border-box-width');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3525</th>
  <td class="line-code diff_in">
    <pre>        if (bWidth &lt;= 0) return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3526</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3527</th>
  <td class="line-code diff_in">
    <pre>        var bLeft = this.get('border-left'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3528</th>
  <td class="line-code diff_in">
    <pre>         bRight = this.get('border-right');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3529</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3530</th>
  <td class="line-code diff_in">
    <pre>        var pLeft = this.get('padding-left'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3531</th>
  <td class="line-code diff_in">
    <pre>         pRight = this.get('padding-right');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3532</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3533</th>
  <td class="line-code diff_in">
    <pre>        if (!this._preComputing) this._end();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3534</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3535</th>
  <td class="line-code diff_in">
    <pre>        return bWidth - bLeft - bRight - pLeft - pRight;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3536</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3537</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3538</th>
  <td class="line-code diff_in">
    <pre>      'padding-box-height': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3539</th>
  <td class="line-code diff_in">
    <pre>        var height = this.get('height'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3540</th>
  <td class="line-code diff_in">
    <pre>         pTop = this.get('padding-top'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3541</th>
  <td class="line-code diff_in">
    <pre>         pBottom = this.get('padding-bottom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3542</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3543</th>
  <td class="line-code diff_in">
    <pre>        return height + pTop + pBottom;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3544</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3545</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3546</th>
  <td class="line-code diff_in">
    <pre>      'padding-box-width': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3547</th>
  <td class="line-code diff_in">
    <pre>        var width = this.get('width'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3548</th>
  <td class="line-code diff_in">
    <pre>         pLeft = this.get('padding-left'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3549</th>
  <td class="line-code diff_in">
    <pre>         pRight = this.get('padding-right');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3550</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3551</th>
  <td class="line-code diff_in">
    <pre>        return width + pLeft + pRight;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3552</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3553</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3554</th>
  <td class="line-code diff_in">
    <pre>      'border-box-height': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3555</th>
  <td class="line-code diff_in">
    <pre>        return element.offsetHeight;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3556</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3557</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3558</th>
  <td class="line-code diff_in">
    <pre>      'border-box-width': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3559</th>
  <td class="line-code diff_in">
    <pre>        return element.offsetWidth;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3560</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3561</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3562</th>
  <td class="line-code diff_in">
    <pre>      'margin-box-height': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3563</th>
  <td class="line-code diff_in">
    <pre>        var bHeight = this.get('border-box-height'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3564</th>
  <td class="line-code diff_in">
    <pre>         mTop = this.get('margin-top'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3565</th>
  <td class="line-code diff_in">
    <pre>         mBottom = this.get('margin-bottom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3566</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3567</th>
  <td class="line-code diff_in">
    <pre>        if (bHeight &lt;= 0) return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3568</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3569</th>
  <td class="line-code diff_in">
    <pre>        return bHeight + mTop + mBottom;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3570</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3571</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3572</th>
  <td class="line-code diff_in">
    <pre>      'margin-box-width': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3573</th>
  <td class="line-code diff_in">
    <pre>        var bWidth = this.get('border-box-width'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3574</th>
  <td class="line-code diff_in">
    <pre>         mLeft = this.get('margin-left'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3575</th>
  <td class="line-code diff_in">
    <pre>         mRight = this.get('margin-right');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3576</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3577</th>
  <td class="line-code diff_in">
    <pre>        if (bWidth &lt;= 0) return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3578</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3579</th>
  <td class="line-code diff_in">
    <pre>        return bWidth + mLeft + mRight;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3580</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3581</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3582</th>
  <td class="line-code diff_in">
    <pre>      'top': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3583</th>
  <td class="line-code diff_in">
    <pre>        var offset = element.positionedOffset();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3584</th>
  <td class="line-code diff_in">
    <pre>        return offset.top;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3585</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3586</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3587</th>
  <td class="line-code diff_in">
    <pre>      'bottom': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3588</th>
  <td class="line-code diff_in">
    <pre>        var offset = element.positionedOffset(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3589</th>
  <td class="line-code diff_in">
    <pre>         parent = element.getOffsetParent(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3590</th>
  <td class="line-code diff_in">
    <pre>         pHeight = parent.measure('height');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3591</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3592</th>
  <td class="line-code diff_in">
    <pre>        var mHeight = this.get('border-box-height');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3593</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3594</th>
  <td class="line-code diff_in">
    <pre>        return pHeight - mHeight - offset.top;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3595</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3596</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3597</th>
  <td class="line-code diff_in">
    <pre>      'left': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3598</th>
  <td class="line-code diff_in">
    <pre>        var offset = element.positionedOffset();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3599</th>
  <td class="line-code diff_in">
    <pre>        return offset.left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3600</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3601</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3602</th>
  <td class="line-code diff_in">
    <pre>      'right': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3603</th>
  <td class="line-code diff_in">
    <pre>        var offset = element.positionedOffset(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3604</th>
  <td class="line-code diff_in">
    <pre>         parent = element.getOffsetParent(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3605</th>
  <td class="line-code diff_in">
    <pre>         pWidth = parent.measure('width');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3606</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3607</th>
  <td class="line-code diff_in">
    <pre>        var mWidth = this.get('border-box-width');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3608</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3609</th>
  <td class="line-code diff_in">
    <pre>        return pWidth - mWidth - offset.left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3610</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3611</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3612</th>
  <td class="line-code diff_in">
    <pre>      'padding-top': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3613</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'paddingTop');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3614</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3615</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3616</th>
  <td class="line-code diff_in">
    <pre>      'padding-bottom': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3617</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'paddingBottom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3618</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3619</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3620</th>
  <td class="line-code diff_in">
    <pre>      'padding-left': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3621</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'paddingLeft');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3622</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3623</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3624</th>
  <td class="line-code diff_in">
    <pre>      'padding-right': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3625</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'paddingRight');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3626</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3627</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3628</th>
  <td class="line-code diff_in">
    <pre>      'border-top': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3629</th>
  <td class="line-code diff_in">
    <pre>        return Object.isNumber(element.clientTop) ? element.clientTop :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3630</th>
  <td class="line-code diff_in">
    <pre>         getPixelValue(element, 'borderTopWidth');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3631</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3632</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3633</th>
  <td class="line-code diff_in">
    <pre>      'border-bottom': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3634</th>
  <td class="line-code diff_in">
    <pre>        return Object.isNumber(element.clientBottom) ? element.clientBottom :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3635</th>
  <td class="line-code diff_in">
    <pre>         getPixelValue(element, 'borderBottomWidth');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3636</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3637</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3638</th>
  <td class="line-code diff_in">
    <pre>      'border-left': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3639</th>
  <td class="line-code diff_in">
    <pre>        return Object.isNumber(element.clientLeft) ? element.clientLeft :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3640</th>
  <td class="line-code diff_in">
    <pre>         getPixelValue(element, 'borderLeftWidth');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3641</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3642</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3643</th>
  <td class="line-code diff_in">
    <pre>      'border-right': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3644</th>
  <td class="line-code diff_in">
    <pre>        return Object.isNumber(element.clientRight) ? element.clientRight :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3645</th>
  <td class="line-code diff_in">
    <pre>         getPixelValue(element, 'borderRightWidth');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3646</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3647</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3648</th>
  <td class="line-code diff_in">
    <pre>      'margin-top': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3649</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'marginTop');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3650</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3651</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3652</th>
  <td class="line-code diff_in">
    <pre>      'margin-bottom': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3653</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'marginBottom');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3654</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3655</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3656</th>
  <td class="line-code diff_in">
    <pre>      'margin-left': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3657</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'marginLeft');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3658</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3659</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3660</th>
  <td class="line-code diff_in">
    <pre>      'margin-right': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3661</th>
  <td class="line-code diff_in">
    <pre>        return getPixelValue(element, 'marginRight');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3662</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3663</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3664</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3665</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3666</th>
  <td class="line-code diff_in">
    <pre>  if ('getBoundingClientRect' in document.documentElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3667</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(Element.Layout.COMPUTATIONS, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3668</th>
  <td class="line-code diff_in">
    <pre>      'right': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3669</th>
  <td class="line-code diff_in">
    <pre>        var parent = hasLayout(element.getOffsetParent());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3670</th>
  <td class="line-code diff_in">
    <pre>        var rect = element.getBoundingClientRect(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3671</th>
  <td class="line-code diff_in">
    <pre>         pRect = parent.getBoundingClientRect();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3672</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3673</th>
  <td class="line-code diff_in">
    <pre>        return (pRect.right - rect.right).round();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3674</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3675</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3676</th>
  <td class="line-code diff_in">
    <pre>      'bottom': function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3677</th>
  <td class="line-code diff_in">
    <pre>        var parent = hasLayout(element.getOffsetParent());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3678</th>
  <td class="line-code diff_in">
    <pre>        var rect = element.getBoundingClientRect(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3679</th>
  <td class="line-code diff_in">
    <pre>         pRect = parent.getBoundingClientRect();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3680</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3681</th>
  <td class="line-code diff_in">
    <pre>        return (pRect.bottom - rect.bottom).round();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3682</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3683</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3684</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3685</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3686</th>
  <td class="line-code diff_in">
    <pre>  Element.Offset = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3687</th>
  <td class="line-code diff_in">
    <pre>    initialize: function(left, top) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3688</th>
  <td class="line-code diff_in">
    <pre>      this.left = left.round();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3689</th>
  <td class="line-code diff_in">
    <pre>      this.top  = top.round();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3690</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3691</th>
  <td class="line-code diff_in">
    <pre>      this[0] = this.left;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3692</th>
  <td class="line-code diff_in">
    <pre>      this[1] = this.top;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3693</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3694</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3695</th>
  <td class="line-code diff_in">
    <pre>    relativeTo: function(offset) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3696</th>
  <td class="line-code diff_in">
    <pre>      return new Element.Offset(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3697</th>
  <td class="line-code diff_in">
    <pre>        this.left - offset.left,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3698</th>
  <td class="line-code diff_in">
    <pre>        this.top  - offset.top
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3699</th>
  <td class="line-code diff_in">
    <pre>      );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3700</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3701</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3702</th>
  <td class="line-code diff_in">
    <pre>    inspect: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3703</th>
  <td class="line-code diff_in">
    <pre>      return &quot;#&lt;Element.Offset left: #{left} top: #{top}&gt;&quot;.interpolate(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3704</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3705</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3706</th>
  <td class="line-code diff_in">
    <pre>    toString: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3707</th>
  <td class="line-code diff_in">
    <pre>      return &quot;[#{left}, #{top}]&quot;.interpolate(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3708</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3709</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3710</th>
  <td class="line-code diff_in">
    <pre>    toArray: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3711</th>
  <td class="line-code diff_in">
    <pre>      return [this.left, this.top];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3712</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3713</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3714</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3715</th>
  <td class="line-code diff_in">
    <pre>  function getLayout(element, preCompute) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3716</th>
  <td class="line-code diff_in">
    <pre>    return new Element.Layout(element, preCompute);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3717</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3718</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3719</th>
  <td class="line-code diff_in">
    <pre>  function measure(element, property) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3720</th>
  <td class="line-code diff_in">
    <pre>    return $(element).getLayout().get(property);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3721</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3722</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3723</th>
  <td class="line-code diff_in">
    <pre>  function getDimensions(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3724</th>
  <td class="line-code diff_in">
    <pre>    var layout = $(element).getLayout();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3725</th>
  <td class="line-code diff_in">
    <pre>    return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3726</th>
  <td class="line-code diff_in">
    <pre>      width:  layout.get('width'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3727</th>
  <td class="line-code diff_in">
    <pre>      height: layout.get('height')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3728</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3729</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3730</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3731</th>
  <td class="line-code diff_in">
    <pre>  function getOffsetParent(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3732</th>
  <td class="line-code diff_in">
    <pre>    if (isDetached(element)) return $(document.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3733</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3734</th>
  <td class="line-code diff_in">
    <pre>    var isInline = (Element.getStyle(element, 'display') === 'inline');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3735</th>
  <td class="line-code diff_in">
    <pre>    if (!isInline &amp;&amp; element.offsetParent) return $(element.offsetParent);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3736</th>
  <td class="line-code diff_in">
    <pre>    if (element === document.body) return $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3737</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3738</th>
  <td class="line-code diff_in">
    <pre>    while ((element = element.parentNode) &amp;&amp; element !== document.body) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3739</th>
  <td class="line-code diff_in">
    <pre>      if (Element.getStyle(element, 'position') !== 'static') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3740</th>
  <td class="line-code diff_in">
    <pre>        return (element.nodeName === 'HTML') ? $(document.body) : $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3741</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3742</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3743</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3744</th>
  <td class="line-code diff_in">
    <pre>    return $(document.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3745</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3746</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3747</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3748</th>
  <td class="line-code diff_in">
    <pre>  function cumulativeOffset(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3749</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3750</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3751</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.offsetTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3752</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.offsetLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3753</th>
  <td class="line-code diff_in">
    <pre>      element = element.offsetParent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3754</th>
  <td class="line-code diff_in">
    <pre>    } while (element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3755</th>
  <td class="line-code diff_in">
    <pre>    return new Element.Offset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3756</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3757</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3758</th>
  <td class="line-code diff_in">
    <pre>  function positionedOffset(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3759</th>
  <td class="line-code diff_in">
    <pre>    var layout = element.getLayout();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3760</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3761</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3762</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3763</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.offsetTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3764</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.offsetLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3765</th>
  <td class="line-code diff_in">
    <pre>      element = element.offsetParent;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3766</th>
  <td class="line-code diff_in">
    <pre>      if (element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3767</th>
  <td class="line-code diff_in">
    <pre>        if (isBody(element)) break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3768</th>
  <td class="line-code diff_in">
    <pre>        var p = Element.getStyle(element, 'position');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3769</th>
  <td class="line-code diff_in">
    <pre>        if (p !== 'static') break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3770</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3771</th>
  <td class="line-code diff_in">
    <pre>    } while (element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3772</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3773</th>
  <td class="line-code diff_in">
    <pre>    valueL -= layout.get('margin-top');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3774</th>
  <td class="line-code diff_in">
    <pre>    valueT -= layout.get('margin-left');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3775</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3776</th>
  <td class="line-code diff_in">
    <pre>    return new Element.Offset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3777</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3778</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3779</th>
  <td class="line-code diff_in">
    <pre>  function cumulativeScrollOffset(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3780</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3781</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3782</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.scrollTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3783</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.scrollLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3784</th>
  <td class="line-code diff_in">
    <pre>      element = element.parentNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3785</th>
  <td class="line-code diff_in">
    <pre>    } while (element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3786</th>
  <td class="line-code diff_in">
    <pre>    return new Element.Offset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3787</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3788</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3789</th>
  <td class="line-code diff_in">
    <pre>  function viewportOffset(forElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3790</th>
  <td class="line-code diff_in">
    <pre>    var valueT = 0, valueL = 0, docBody = document.body;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3791</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3792</th>
  <td class="line-code diff_in">
    <pre>    var element = forElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3793</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3794</th>
  <td class="line-code diff_in">
    <pre>      valueT += element.offsetTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3795</th>
  <td class="line-code diff_in">
    <pre>      valueL += element.offsetLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3796</th>
  <td class="line-code diff_in">
    <pre>      if (element.offsetParent == docBody &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3797</th>
  <td class="line-code diff_in">
    <pre>        Element.getStyle(element, 'position') == 'absolute') break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3798</th>
  <td class="line-code diff_in">
    <pre>    } while (element = element.offsetParent);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3799</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3800</th>
  <td class="line-code diff_in">
    <pre>    element = forElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3801</th>
  <td class="line-code diff_in">
    <pre>    do {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3802</th>
  <td class="line-code diff_in">
    <pre>      if (element != docBody) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3803</th>
  <td class="line-code diff_in">
    <pre>        valueT -= element.scrollTop  || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3804</th>
  <td class="line-code diff_in">
    <pre>        valueL -= element.scrollLeft || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3805</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3806</th>
  <td class="line-code diff_in">
    <pre>    } while (element = element.parentNode);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3807</th>
  <td class="line-code diff_in">
    <pre>    return new Element.Offset(valueL, valueT);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3808</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3809</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3810</th>
  <td class="line-code diff_in">
    <pre>  function absolutize(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3811</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3812</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3813</th>
  <td class="line-code diff_in">
    <pre>    if (Element.getStyle(element, 'position') === 'absolute') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3814</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3815</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3816</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3817</th>
  <td class="line-code diff_in">
    <pre>    var offsetParent = getOffsetParent(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3818</th>
  <td class="line-code diff_in">
    <pre>    var eOffset = element.viewportOffset(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3819</th>
  <td class="line-code diff_in">
    <pre>     pOffset = offsetParent.viewportOffset();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3820</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3821</th>
  <td class="line-code diff_in">
    <pre>    var offset = eOffset.relativeTo(pOffset);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3822</th>
  <td class="line-code diff_in">
    <pre>    var layout = element.getLayout();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3823</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3824</th>
  <td class="line-code diff_in">
    <pre>    element.store('prototype_absolutize_original_styles', {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3825</th>
  <td class="line-code diff_in">
    <pre>      left:   element.getStyle('left'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3826</th>
  <td class="line-code diff_in">
    <pre>      top:    element.getStyle('top'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3827</th>
  <td class="line-code diff_in">
    <pre>      width:  element.getStyle('width'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3828</th>
  <td class="line-code diff_in">
    <pre>      height: element.getStyle('height')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3829</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3830</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3831</th>
  <td class="line-code diff_in">
    <pre>    element.setStyle({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3832</th>
  <td class="line-code diff_in">
    <pre>      position: 'absolute',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3833</th>
  <td class="line-code diff_in">
    <pre>      top:    offset.top + 'px',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3834</th>
  <td class="line-code diff_in">
    <pre>      left:   offset.left + 'px',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3835</th>
  <td class="line-code diff_in">
    <pre>      width:  layout.get('width') + 'px',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3836</th>
  <td class="line-code diff_in">
    <pre>      height: layout.get('height') + 'px'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3837</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3838</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3839</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3840</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3841</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3842</th>
  <td class="line-code diff_in">
    <pre>  function relativize(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3843</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3844</th>
  <td class="line-code diff_in">
    <pre>    if (Element.getStyle(element, 'position') === 'relative') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3845</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3846</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3847</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3848</th>
  <td class="line-code diff_in">
    <pre>    var originalStyles =
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3849</th>
  <td class="line-code diff_in">
    <pre>     element.retrieve('prototype_absolutize_original_styles');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3850</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3851</th>
  <td class="line-code diff_in">
    <pre>    if (originalStyles) element.setStyle(originalStyles);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3852</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3853</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3854</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3855</th>
  <td class="line-code diff_in">
    <pre>  Element.addMethods({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3856</th>
  <td class="line-code diff_in">
    <pre>    getLayout:              getLayout,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3857</th>
  <td class="line-code diff_in">
    <pre>    measure:                measure,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3858</th>
  <td class="line-code diff_in">
    <pre>    getDimensions:          getDimensions,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3859</th>
  <td class="line-code diff_in">
    <pre>    getOffsetParent:        getOffsetParent,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3860</th>
  <td class="line-code diff_in">
    <pre>    cumulativeOffset:       cumulativeOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3861</th>
  <td class="line-code diff_in">
    <pre>    positionedOffset:       positionedOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3862</th>
  <td class="line-code diff_in">
    <pre>    cumulativeScrollOffset: cumulativeScrollOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3863</th>
  <td class="line-code diff_in">
    <pre>    viewportOffset:         viewportOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3864</th>
  <td class="line-code diff_in">
    <pre>    absolutize:             absolutize,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3865</th>
  <td class="line-code diff_in">
    <pre>    relativize:             relativize
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3866</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3867</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3868</th>
  <td class="line-code diff_in">
    <pre>  function isBody(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3869</th>
  <td class="line-code diff_in">
    <pre>    return element.nodeName.toUpperCase() === 'BODY';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3870</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3871</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3872</th>
  <td class="line-code diff_in">
    <pre>  function isDetached(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3873</th>
  <td class="line-code diff_in">
    <pre>    return element !== document.body &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3874</th>
  <td class="line-code diff_in">
    <pre>     !Element.descendantOf(element, document.body);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3875</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3876</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3877</th>
  <td class="line-code diff_in">
    <pre>  if ('getBoundingClientRect' in document.documentElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3878</th>
  <td class="line-code diff_in">
    <pre>    Element.addMethods({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3879</th>
  <td class="line-code diff_in">
    <pre>      viewportOffset: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3880</th>
  <td class="line-code diff_in">
    <pre>        element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3881</th>
  <td class="line-code diff_in">
    <pre>        if (isDetached(element)) return new Element.Offset(0, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3882</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3883</th>
  <td class="line-code diff_in">
    <pre>        var rect  = element.getBoundingClientRect(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3884</th>
  <td class="line-code diff_in">
    <pre>         docEl = document.documentElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3885</th>
  <td class="line-code diff_in">
    <pre>        return new Element.Offset(rect.left - docEl.clientLeft,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3886</th>
  <td class="line-code diff_in">
    <pre>         rect.top - docEl.clientTop);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3887</th>
  <td class="line-code diff_in">
    <pre>      },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3888</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3889</th>
  <td class="line-code diff_in">
    <pre>      positionedOffset: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3890</th>
  <td class="line-code diff_in">
    <pre>        element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3891</th>
  <td class="line-code diff_in">
    <pre>        var parent = element.getOffsetParent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3892</th>
  <td class="line-code diff_in">
    <pre>        if (isDetached(element)) return new Element.Offset(0, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3893</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3894</th>
  <td class="line-code diff_in">
    <pre>        if (element.offsetParent &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3895</th>
  <td class="line-code diff_in">
    <pre>         element.offsetParent.nodeName.toUpperCase() === 'HTML') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3896</th>
  <td class="line-code diff_in">
    <pre>          return positionedOffset(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3897</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3898</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3899</th>
  <td class="line-code diff_in">
    <pre>        var eOffset = element.viewportOffset(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3900</th>
  <td class="line-code diff_in">
    <pre>         pOffset = isBody(parent) ? viewportOffset(parent) :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3901</th>
  <td class="line-code diff_in">
    <pre>          parent.viewportOffset();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3902</th>
  <td class="line-code diff_in">
    <pre>        var retOffset = eOffset.relativeTo(pOffset);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3903</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3904</th>
  <td class="line-code diff_in">
    <pre>        var layout = element.getLayout();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3905</th>
  <td class="line-code diff_in">
    <pre>        var top  = retOffset.top  - layout.get('margin-top');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3906</th>
  <td class="line-code diff_in">
    <pre>        var left = retOffset.left - layout.get('margin-left');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3907</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3908</th>
  <td class="line-code diff_in">
    <pre>        return new Element.Offset(left, top);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3909</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3910</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3911</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3912</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3913</th>
  <td class="line-code diff_in">
    <pre>window.$$ = function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3914</th>
  <td class="line-code diff_in">
    <pre>  var expression = $A(arguments).join(', ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3915</th>
  <td class="line-code diff_in">
    <pre>  return Prototype.Selector.select(expression, document);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3916</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3917</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3918</th>
  <td class="line-code diff_in">
    <pre>Prototype.Selector = (function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3919</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3920</th>
  <td class="line-code diff_in">
    <pre>  function select() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3921</th>
  <td class="line-code diff_in">
    <pre>    throw new Error('Method &quot;Prototype.Selector.select&quot; must be defined.');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3922</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3923</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3924</th>
  <td class="line-code diff_in">
    <pre>  function match() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3925</th>
  <td class="line-code diff_in">
    <pre>    throw new Error('Method &quot;Prototype.Selector.match&quot; must be defined.');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3926</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3927</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3928</th>
  <td class="line-code diff_in">
    <pre>  function find(elements, expression, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3929</th>
  <td class="line-code diff_in">
    <pre>    index = index || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3930</th>
  <td class="line-code diff_in">
    <pre>    var match = Prototype.Selector.match, length = elements.length, matchIndex = 0, i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3931</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3932</th>
  <td class="line-code diff_in">
    <pre>    for (i = 0; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3933</th>
  <td class="line-code diff_in">
    <pre>      if (match(elements[i], expression) &amp;&amp; index == matchIndex++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3934</th>
  <td class="line-code diff_in">
    <pre>        return Element.extend(elements[i]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3935</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3936</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3937</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3938</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3939</th>
  <td class="line-code diff_in">
    <pre>  function extendElements(elements) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3940</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = elements.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3941</th>
  <td class="line-code diff_in">
    <pre>      Element.extend(elements[i]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3942</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3943</th>
  <td class="line-code diff_in">
    <pre>    return elements;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3944</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3945</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3946</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3947</th>
  <td class="line-code diff_in">
    <pre>  var K = Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3948</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3949</th>
  <td class="line-code diff_in">
    <pre>  return {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3950</th>
  <td class="line-code diff_in">
    <pre>    select: select,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3951</th>
  <td class="line-code diff_in">
    <pre>    match: match,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3952</th>
  <td class="line-code diff_in">
    <pre>    find: find,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3953</th>
  <td class="line-code diff_in">
    <pre>    extendElements: (Element.extend === K) ? K : extendElements,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3954</th>
  <td class="line-code diff_in">
    <pre>    extendElement: Element.extend
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3955</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3956</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3957</th>
  <td class="line-code diff_in">
    <pre>Prototype._original_property = window.Sizzle;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3958</th>
  <td class="line-code diff_in">
    <pre>/*!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3959</th>
  <td class="line-code diff_in">
    <pre> * Sizzle CSS Selector Engine - v1.0
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3960</th>
  <td class="line-code diff_in">
    <pre> *  Copyright 2009, The Dojo Foundation
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3961</th>
  <td class="line-code diff_in">
    <pre> *  Released under the MIT, BSD, and GPL Licenses.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3962</th>
  <td class="line-code diff_in">
    <pre> *  More information: http://sizzlejs.com/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3963</th>
  <td class="line-code diff_in">
    <pre> */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3964</th>
  <td class="line-code diff_in">
    <pre>(function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3965</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3966</th>
  <td class="line-code diff_in">
    <pre>var chunker = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['&quot;][^'&quot;]*['&quot;]|[^[\]'&quot;]+)+\]|\\.|[^ &gt;+~,(\[\\]+)+|[&gt;+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3967</th>
  <td class="line-code diff_in">
    <pre>	done = 0,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3968</th>
  <td class="line-code diff_in">
    <pre>	toString = Object.prototype.toString,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3969</th>
  <td class="line-code diff_in">
    <pre>	hasDuplicate = false,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3970</th>
  <td class="line-code diff_in">
    <pre>	baseHasDuplicate = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3971</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3972</th>
  <td class="line-code diff_in">
    <pre>[0, 0].sort(function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3973</th>
  <td class="line-code diff_in">
    <pre>	baseHasDuplicate = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3974</th>
  <td class="line-code diff_in">
    <pre>	return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3975</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3976</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3977</th>
  <td class="line-code diff_in">
    <pre>var Sizzle = function(selector, context, results, seed) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3978</th>
  <td class="line-code diff_in">
    <pre>	results = results || [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3979</th>
  <td class="line-code diff_in">
    <pre>	var origContext = context = context || document;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3980</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3981</th>
  <td class="line-code diff_in">
    <pre>	if ( context.nodeType !== 1 &amp;&amp; context.nodeType !== 9 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3982</th>
  <td class="line-code diff_in">
    <pre>		return [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3983</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3984</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3985</th>
  <td class="line-code diff_in">
    <pre>	if ( !selector || typeof selector !== &quot;string&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3986</th>
  <td class="line-code diff_in">
    <pre>		return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3987</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3988</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3989</th>
  <td class="line-code diff_in">
    <pre>	var parts = [], m, set, checkSet, check, mode, extra, prune = true, contextXML = isXML(context),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3990</th>
  <td class="line-code diff_in">
    <pre>		soFar = selector;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3991</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3992</th>
  <td class="line-code diff_in">
    <pre>	while ( (chunker.exec(&quot;&quot;), m = chunker.exec(soFar)) !== null ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3993</th>
  <td class="line-code diff_in">
    <pre>		soFar = m[3];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3994</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3995</th>
  <td class="line-code diff_in">
    <pre>		parts.push( m[1] );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3996</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3997</th>
  <td class="line-code diff_in">
    <pre>		if ( m[2] ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3998</th>
  <td class="line-code diff_in">
    <pre>			extra = m[3];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3999</th>
  <td class="line-code diff_in">
    <pre>			break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4000</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4001</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4002</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4003</th>
  <td class="line-code diff_in">
    <pre>	if ( parts.length &gt; 1 &amp;&amp; origPOS.exec( selector ) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4004</th>
  <td class="line-code diff_in">
    <pre>		if ( parts.length === 2 &amp;&amp; Expr.relative[ parts[0] ] ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4005</th>
  <td class="line-code diff_in">
    <pre>			set = posProcess( parts[0] + parts[1], context );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4006</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4007</th>
  <td class="line-code diff_in">
    <pre>			set = Expr.relative[ parts[0] ] ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4008</th>
  <td class="line-code diff_in">
    <pre>				[ context ] :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4009</th>
  <td class="line-code diff_in">
    <pre>				Sizzle( parts.shift(), context );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4010</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4011</th>
  <td class="line-code diff_in">
    <pre>			while ( parts.length ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4012</th>
  <td class="line-code diff_in">
    <pre>				selector = parts.shift();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4013</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4014</th>
  <td class="line-code diff_in">
    <pre>				if ( Expr.relative[ selector ] )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4015</th>
  <td class="line-code diff_in">
    <pre>					selector += parts.shift();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4016</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4017</th>
  <td class="line-code diff_in">
    <pre>				set = posProcess( selector, set );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4018</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4019</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4020</th>
  <td class="line-code diff_in">
    <pre>	} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4021</th>
  <td class="line-code diff_in">
    <pre>		if ( !seed &amp;&amp; parts.length &gt; 1 &amp;&amp; context.nodeType === 9 &amp;&amp; !contextXML &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4022</th>
  <td class="line-code diff_in">
    <pre>				Expr.match.ID.test(parts[0]) &amp;&amp; !Expr.match.ID.test(parts[parts.length - 1]) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4023</th>
  <td class="line-code diff_in">
    <pre>			var ret = Sizzle.find( parts.shift(), context, contextXML );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4024</th>
  <td class="line-code diff_in">
    <pre>			context = ret.expr ? Sizzle.filter( ret.expr, ret.set )[0] : ret.set[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4025</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4026</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4027</th>
  <td class="line-code diff_in">
    <pre>		if ( context ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4028</th>
  <td class="line-code diff_in">
    <pre>			var ret = seed ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4029</th>
  <td class="line-code diff_in">
    <pre>				{ expr: parts.pop(), set: makeArray(seed) } :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4030</th>
  <td class="line-code diff_in">
    <pre>				Sizzle.find( parts.pop(), parts.length === 1 &amp;&amp; (parts[0] === &quot;~&quot; || parts[0] === &quot;+&quot;) &amp;&amp; context.parentNode ? context.parentNode : context, contextXML );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4031</th>
  <td class="line-code diff_in">
    <pre>			set = ret.expr ? Sizzle.filter( ret.expr, ret.set ) : ret.set;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4032</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4033</th>
  <td class="line-code diff_in">
    <pre>			if ( parts.length &gt; 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4034</th>
  <td class="line-code diff_in">
    <pre>				checkSet = makeArray(set);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4035</th>
  <td class="line-code diff_in">
    <pre>			} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4036</th>
  <td class="line-code diff_in">
    <pre>				prune = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4037</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4038</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4039</th>
  <td class="line-code diff_in">
    <pre>			while ( parts.length ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4040</th>
  <td class="line-code diff_in">
    <pre>				var cur = parts.pop(), pop = cur;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4041</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4042</th>
  <td class="line-code diff_in">
    <pre>				if ( !Expr.relative[ cur ] ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4043</th>
  <td class="line-code diff_in">
    <pre>					cur = &quot;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4044</th>
  <td class="line-code diff_in">
    <pre>				} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4045</th>
  <td class="line-code diff_in">
    <pre>					pop = parts.pop();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4046</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4047</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4048</th>
  <td class="line-code diff_in">
    <pre>				if ( pop == null ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4049</th>
  <td class="line-code diff_in">
    <pre>					pop = context;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4050</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4051</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4052</th>
  <td class="line-code diff_in">
    <pre>				Expr.relative[ cur ]( checkSet, pop, contextXML );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4053</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4054</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4055</th>
  <td class="line-code diff_in">
    <pre>			checkSet = parts = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4056</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4057</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4058</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4059</th>
  <td class="line-code diff_in">
    <pre>	if ( !checkSet ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4060</th>
  <td class="line-code diff_in">
    <pre>		checkSet = set;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4061</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4062</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4063</th>
  <td class="line-code diff_in">
    <pre>	if ( !checkSet ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4064</th>
  <td class="line-code diff_in">
    <pre>		throw &quot;Syntax error, unrecognized expression: &quot; + (cur || selector);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4065</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4066</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4067</th>
  <td class="line-code diff_in">
    <pre>	if ( toString.call(checkSet) === &quot;[object Array]&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4068</th>
  <td class="line-code diff_in">
    <pre>		if ( !prune ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4069</th>
  <td class="line-code diff_in">
    <pre>			results.push.apply( results, checkSet );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4070</th>
  <td class="line-code diff_in">
    <pre>		} else if ( context &amp;&amp; context.nodeType === 1 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4071</th>
  <td class="line-code diff_in">
    <pre>			for ( var i = 0; checkSet[i] != null; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4072</th>
  <td class="line-code diff_in">
    <pre>				if ( checkSet[i] &amp;&amp; (checkSet[i] === true || checkSet[i].nodeType === 1 &amp;&amp; contains(context, checkSet[i])) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4073</th>
  <td class="line-code diff_in">
    <pre>					results.push( set[i] );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4074</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4075</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4076</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4077</th>
  <td class="line-code diff_in">
    <pre>			for ( var i = 0; checkSet[i] != null; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4078</th>
  <td class="line-code diff_in">
    <pre>				if ( checkSet[i] &amp;&amp; checkSet[i].nodeType === 1 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4079</th>
  <td class="line-code diff_in">
    <pre>					results.push( set[i] );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4080</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4081</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4082</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4083</th>
  <td class="line-code diff_in">
    <pre>	} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4084</th>
  <td class="line-code diff_in">
    <pre>		makeArray( checkSet, results );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4085</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4086</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4087</th>
  <td class="line-code diff_in">
    <pre>	if ( extra ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4088</th>
  <td class="line-code diff_in">
    <pre>		Sizzle( extra, origContext, results, seed );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4089</th>
  <td class="line-code diff_in">
    <pre>		Sizzle.uniqueSort( results );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4090</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4091</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4092</th>
  <td class="line-code diff_in">
    <pre>	return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4093</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4094</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4095</th>
  <td class="line-code diff_in">
    <pre>Sizzle.uniqueSort = function(results){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4096</th>
  <td class="line-code diff_in">
    <pre>	if ( sortOrder ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4097</th>
  <td class="line-code diff_in">
    <pre>		hasDuplicate = baseHasDuplicate;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4098</th>
  <td class="line-code diff_in">
    <pre>		results.sort(sortOrder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4099</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4100</th>
  <td class="line-code diff_in">
    <pre>		if ( hasDuplicate ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4101</th>
  <td class="line-code diff_in">
    <pre>			for ( var i = 1; i &lt; results.length; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4102</th>
  <td class="line-code diff_in">
    <pre>				if ( results[i] === results[i-1] ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4103</th>
  <td class="line-code diff_in">
    <pre>					results.splice(i--, 1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4104</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4105</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4106</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4107</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4108</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4109</th>
  <td class="line-code diff_in">
    <pre>	return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4110</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4111</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4112</th>
  <td class="line-code diff_in">
    <pre>Sizzle.matches = function(expr, set){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4113</th>
  <td class="line-code diff_in">
    <pre>	return Sizzle(expr, null, null, set);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4114</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4115</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4116</th>
  <td class="line-code diff_in">
    <pre>Sizzle.find = function(expr, context, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4117</th>
  <td class="line-code diff_in">
    <pre>	var set, match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4118</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4119</th>
  <td class="line-code diff_in">
    <pre>	if ( !expr ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4120</th>
  <td class="line-code diff_in">
    <pre>		return [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4121</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4122</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4123</th>
  <td class="line-code diff_in">
    <pre>	for ( var i = 0, l = Expr.order.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4124</th>
  <td class="line-code diff_in">
    <pre>		var type = Expr.order[i], match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4125</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4126</th>
  <td class="line-code diff_in">
    <pre>		if ( (match = Expr.leftMatch[ type ].exec( expr )) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4127</th>
  <td class="line-code diff_in">
    <pre>			var left = match[1];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4128</th>
  <td class="line-code diff_in">
    <pre>			match.splice(1,1);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4129</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4130</th>
  <td class="line-code diff_in">
    <pre>			if ( left.substr( left.length - 1 ) !== &quot;\\&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4131</th>
  <td class="line-code diff_in">
    <pre>				match[1] = (match[1] || &quot;&quot;).replace(/\\/g, &quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4132</th>
  <td class="line-code diff_in">
    <pre>				set = Expr.find[ type ]( match, context, isXML );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4133</th>
  <td class="line-code diff_in">
    <pre>				if ( set != null ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4134</th>
  <td class="line-code diff_in">
    <pre>					expr = expr.replace( Expr.match[ type ], &quot;&quot; );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4135</th>
  <td class="line-code diff_in">
    <pre>					break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4136</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4137</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4138</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4139</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4140</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4141</th>
  <td class="line-code diff_in">
    <pre>	if ( !set ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4142</th>
  <td class="line-code diff_in">
    <pre>		set = context.getElementsByTagName(&quot;*&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4143</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4144</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4145</th>
  <td class="line-code diff_in">
    <pre>	return {set: set, expr: expr};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4146</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4147</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4148</th>
  <td class="line-code diff_in">
    <pre>Sizzle.filter = function(expr, set, inplace, not){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4149</th>
  <td class="line-code diff_in">
    <pre>	var old = expr, result = [], curLoop = set, match, anyFound,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4150</th>
  <td class="line-code diff_in">
    <pre>		isXMLFilter = set &amp;&amp; set[0] &amp;&amp; isXML(set[0]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4151</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4152</th>
  <td class="line-code diff_in">
    <pre>	while ( expr &amp;&amp; set.length ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4153</th>
  <td class="line-code diff_in">
    <pre>		for ( var type in Expr.filter ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4154</th>
  <td class="line-code diff_in">
    <pre>			if ( (match = Expr.match[ type ].exec( expr )) != null ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4155</th>
  <td class="line-code diff_in">
    <pre>				var filter = Expr.filter[ type ], found, item;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4156</th>
  <td class="line-code diff_in">
    <pre>				anyFound = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4157</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4158</th>
  <td class="line-code diff_in">
    <pre>				if ( curLoop == result ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4159</th>
  <td class="line-code diff_in">
    <pre>					result = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4160</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4161</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4162</th>
  <td class="line-code diff_in">
    <pre>				if ( Expr.preFilter[ type ] ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4163</th>
  <td class="line-code diff_in">
    <pre>					match = Expr.preFilter[ type ]( match, curLoop, inplace, result, not, isXMLFilter );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4164</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4165</th>
  <td class="line-code diff_in">
    <pre>					if ( !match ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4166</th>
  <td class="line-code diff_in">
    <pre>						anyFound = found = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4167</th>
  <td class="line-code diff_in">
    <pre>					} else if ( match === true ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4168</th>
  <td class="line-code diff_in">
    <pre>						continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4169</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4170</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4171</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4172</th>
  <td class="line-code diff_in">
    <pre>				if ( match ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4173</th>
  <td class="line-code diff_in">
    <pre>					for ( var i = 0; (item = curLoop[i]) != null; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4174</th>
  <td class="line-code diff_in">
    <pre>						if ( item ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4175</th>
  <td class="line-code diff_in">
    <pre>							found = filter( item, match, i, curLoop );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4176</th>
  <td class="line-code diff_in">
    <pre>							var pass = not ^ !!found;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4177</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4178</th>
  <td class="line-code diff_in">
    <pre>							if ( inplace &amp;&amp; found != null ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4179</th>
  <td class="line-code diff_in">
    <pre>								if ( pass ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4180</th>
  <td class="line-code diff_in">
    <pre>									anyFound = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4181</th>
  <td class="line-code diff_in">
    <pre>								} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4182</th>
  <td class="line-code diff_in">
    <pre>									curLoop[i] = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4183</th>
  <td class="line-code diff_in">
    <pre>								}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4184</th>
  <td class="line-code diff_in">
    <pre>							} else if ( pass ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4185</th>
  <td class="line-code diff_in">
    <pre>								result.push( item );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4186</th>
  <td class="line-code diff_in">
    <pre>								anyFound = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4187</th>
  <td class="line-code diff_in">
    <pre>							}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4188</th>
  <td class="line-code diff_in">
    <pre>						}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4189</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4190</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4191</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4192</th>
  <td class="line-code diff_in">
    <pre>				if ( found !== undefined ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4193</th>
  <td class="line-code diff_in">
    <pre>					if ( !inplace ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4194</th>
  <td class="line-code diff_in">
    <pre>						curLoop = result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4195</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4196</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4197</th>
  <td class="line-code diff_in">
    <pre>					expr = expr.replace( Expr.match[ type ], &quot;&quot; );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4198</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4199</th>
  <td class="line-code diff_in">
    <pre>					if ( !anyFound ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4200</th>
  <td class="line-code diff_in">
    <pre>						return [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4201</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4202</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4203</th>
  <td class="line-code diff_in">
    <pre>					break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4204</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4205</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4206</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4207</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4208</th>
  <td class="line-code diff_in">
    <pre>		if ( expr == old ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4209</th>
  <td class="line-code diff_in">
    <pre>			if ( anyFound == null ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4210</th>
  <td class="line-code diff_in">
    <pre>				throw &quot;Syntax error, unrecognized expression: &quot; + expr;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4211</th>
  <td class="line-code diff_in">
    <pre>			} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4212</th>
  <td class="line-code diff_in">
    <pre>				break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4213</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4214</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4215</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4216</th>
  <td class="line-code diff_in">
    <pre>		old = expr;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4217</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4218</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4219</th>
  <td class="line-code diff_in">
    <pre>	return curLoop;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4220</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4221</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4222</th>
  <td class="line-code diff_in">
    <pre>var Expr = Sizzle.selectors = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4223</th>
  <td class="line-code diff_in">
    <pre>	order: [ &quot;ID&quot;, &quot;NAME&quot;, &quot;TAG&quot; ],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4224</th>
  <td class="line-code diff_in">
    <pre>	match: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4225</th>
  <td class="line-code diff_in">
    <pre>		ID: /#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4226</th>
  <td class="line-code diff_in">
    <pre>		CLASS: /\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4227</th>
  <td class="line-code diff_in">
    <pre>		NAME: /\[name=['&quot;]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['&quot;]*\]/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4228</th>
  <td class="line-code diff_in">
    <pre>		ATTR: /\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['&quot;]*)(.*?)\3|)\s*\]/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4229</th>
  <td class="line-code diff_in">
    <pre>		TAG: /^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4230</th>
  <td class="line-code diff_in">
    <pre>		CHILD: /:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4231</th>
  <td class="line-code diff_in">
    <pre>		POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4232</th>
  <td class="line-code diff_in">
    <pre>		PSEUDO: /:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['&quot;]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4233</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4234</th>
  <td class="line-code diff_in">
    <pre>	leftMatch: {},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4235</th>
  <td class="line-code diff_in">
    <pre>	attrMap: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4236</th>
  <td class="line-code diff_in">
    <pre>		&quot;class&quot;: &quot;className&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4237</th>
  <td class="line-code diff_in">
    <pre>		&quot;for&quot;: &quot;htmlFor&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4238</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4239</th>
  <td class="line-code diff_in">
    <pre>	attrHandle: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4240</th>
  <td class="line-code diff_in">
    <pre>		href: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4241</th>
  <td class="line-code diff_in">
    <pre>			return elem.getAttribute(&quot;href&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4242</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4243</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4244</th>
  <td class="line-code diff_in">
    <pre>	relative: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4245</th>
  <td class="line-code diff_in">
    <pre>		&quot;+&quot;: function(checkSet, part, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4246</th>
  <td class="line-code diff_in">
    <pre>			var isPartStr = typeof part === &quot;string&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4247</th>
  <td class="line-code diff_in">
    <pre>				isTag = isPartStr &amp;&amp; !/\W/.test(part),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4248</th>
  <td class="line-code diff_in">
    <pre>				isPartStrNotTag = isPartStr &amp;&amp; !isTag;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4249</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4250</th>
  <td class="line-code diff_in">
    <pre>			if ( isTag &amp;&amp; !isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4251</th>
  <td class="line-code diff_in">
    <pre>				part = part.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4252</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4253</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4254</th>
  <td class="line-code diff_in">
    <pre>			for ( var i = 0, l = checkSet.length, elem; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4255</th>
  <td class="line-code diff_in">
    <pre>				if ( (elem = checkSet[i]) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4256</th>
  <td class="line-code diff_in">
    <pre>					while ( (elem = elem.previousSibling) &amp;&amp; elem.nodeType !== 1 ) {}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4257</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4258</th>
  <td class="line-code diff_in">
    <pre>					checkSet[i] = isPartStrNotTag || elem &amp;&amp; elem.nodeName === part ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4259</th>
  <td class="line-code diff_in">
    <pre>						elem || false :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4260</th>
  <td class="line-code diff_in">
    <pre>						elem === part;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4261</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4262</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4263</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4264</th>
  <td class="line-code diff_in">
    <pre>			if ( isPartStrNotTag ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4265</th>
  <td class="line-code diff_in">
    <pre>				Sizzle.filter( part, checkSet, true );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4266</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4267</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4268</th>
  <td class="line-code diff_in">
    <pre>		&quot;&gt;&quot;: function(checkSet, part, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4269</th>
  <td class="line-code diff_in">
    <pre>			var isPartStr = typeof part === &quot;string&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4270</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4271</th>
  <td class="line-code diff_in">
    <pre>			if ( isPartStr &amp;&amp; !/\W/.test(part) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4272</th>
  <td class="line-code diff_in">
    <pre>				part = isXML ? part : part.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4273</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4274</th>
  <td class="line-code diff_in">
    <pre>				for ( var i = 0, l = checkSet.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4275</th>
  <td class="line-code diff_in">
    <pre>					var elem = checkSet[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4276</th>
  <td class="line-code diff_in">
    <pre>					if ( elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4277</th>
  <td class="line-code diff_in">
    <pre>						var parent = elem.parentNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4278</th>
  <td class="line-code diff_in">
    <pre>						checkSet[i] = parent.nodeName === part ? parent : false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4279</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4280</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4281</th>
  <td class="line-code diff_in">
    <pre>			} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4282</th>
  <td class="line-code diff_in">
    <pre>				for ( var i = 0, l = checkSet.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4283</th>
  <td class="line-code diff_in">
    <pre>					var elem = checkSet[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4284</th>
  <td class="line-code diff_in">
    <pre>					if ( elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4285</th>
  <td class="line-code diff_in">
    <pre>						checkSet[i] = isPartStr ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4286</th>
  <td class="line-code diff_in">
    <pre>							elem.parentNode :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4287</th>
  <td class="line-code diff_in">
    <pre>							elem.parentNode === part;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4288</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4289</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4290</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4291</th>
  <td class="line-code diff_in">
    <pre>				if ( isPartStr ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4292</th>
  <td class="line-code diff_in">
    <pre>					Sizzle.filter( part, checkSet, true );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4293</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4294</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4295</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4296</th>
  <td class="line-code diff_in">
    <pre>		&quot;&quot;: function(checkSet, part, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4297</th>
  <td class="line-code diff_in">
    <pre>			var doneName = done++, checkFn = dirCheck;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4298</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4299</th>
  <td class="line-code diff_in">
    <pre>			if ( !/\W/.test(part) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4300</th>
  <td class="line-code diff_in">
    <pre>				var nodeCheck = part = isXML ? part : part.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4301</th>
  <td class="line-code diff_in">
    <pre>				checkFn = dirNodeCheck;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4302</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4303</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4304</th>
  <td class="line-code diff_in">
    <pre>			checkFn(&quot;parentNode&quot;, part, doneName, checkSet, nodeCheck, isXML);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4305</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4306</th>
  <td class="line-code diff_in">
    <pre>		&quot;~&quot;: function(checkSet, part, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4307</th>
  <td class="line-code diff_in">
    <pre>			var doneName = done++, checkFn = dirCheck;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4308</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4309</th>
  <td class="line-code diff_in">
    <pre>			if ( typeof part === &quot;string&quot; &amp;&amp; !/\W/.test(part) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4310</th>
  <td class="line-code diff_in">
    <pre>				var nodeCheck = part = isXML ? part : part.toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4311</th>
  <td class="line-code diff_in">
    <pre>				checkFn = dirNodeCheck;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4312</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4313</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4314</th>
  <td class="line-code diff_in">
    <pre>			checkFn(&quot;previousSibling&quot;, part, doneName, checkSet, nodeCheck, isXML);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4315</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4316</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4317</th>
  <td class="line-code diff_in">
    <pre>	find: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4318</th>
  <td class="line-code diff_in">
    <pre>		ID: function(match, context, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4319</th>
  <td class="line-code diff_in">
    <pre>			if ( typeof context.getElementById !== &quot;undefined&quot; &amp;&amp; !isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4320</th>
  <td class="line-code diff_in">
    <pre>				var m = context.getElementById(match[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4321</th>
  <td class="line-code diff_in">
    <pre>				return m ? [m] : [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4322</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4323</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4324</th>
  <td class="line-code diff_in">
    <pre>		NAME: function(match, context, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4325</th>
  <td class="line-code diff_in">
    <pre>			if ( typeof context.getElementsByName !== &quot;undefined&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4326</th>
  <td class="line-code diff_in">
    <pre>				var ret = [], results = context.getElementsByName(match[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4327</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4328</th>
  <td class="line-code diff_in">
    <pre>				for ( var i = 0, l = results.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4329</th>
  <td class="line-code diff_in">
    <pre>					if ( results[i].getAttribute(&quot;name&quot;) === match[1] ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4330</th>
  <td class="line-code diff_in">
    <pre>						ret.push( results[i] );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4331</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4332</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4333</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4334</th>
  <td class="line-code diff_in">
    <pre>				return ret.length === 0 ? null : ret;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4335</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4336</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4337</th>
  <td class="line-code diff_in">
    <pre>		TAG: function(match, context){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4338</th>
  <td class="line-code diff_in">
    <pre>			return context.getElementsByTagName(match[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4339</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4340</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4341</th>
  <td class="line-code diff_in">
    <pre>	preFilter: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4342</th>
  <td class="line-code diff_in">
    <pre>		CLASS: function(match, curLoop, inplace, result, not, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4343</th>
  <td class="line-code diff_in">
    <pre>			match = &quot; &quot; + match[1].replace(/\\/g, &quot;&quot;) + &quot; &quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4344</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4345</th>
  <td class="line-code diff_in">
    <pre>			if ( isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4346</th>
  <td class="line-code diff_in">
    <pre>				return match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4347</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4348</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4349</th>
  <td class="line-code diff_in">
    <pre>			for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4350</th>
  <td class="line-code diff_in">
    <pre>				if ( elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4351</th>
  <td class="line-code diff_in">
    <pre>					if ( not ^ (elem.className &amp;&amp; (&quot; &quot; + elem.className + &quot; &quot;).indexOf(match) &gt;= 0) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4352</th>
  <td class="line-code diff_in">
    <pre>						if ( !inplace )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4353</th>
  <td class="line-code diff_in">
    <pre>							result.push( elem );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4354</th>
  <td class="line-code diff_in">
    <pre>					} else if ( inplace ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4355</th>
  <td class="line-code diff_in">
    <pre>						curLoop[i] = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4356</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4357</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4358</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4359</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4360</th>
  <td class="line-code diff_in">
    <pre>			return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4361</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4362</th>
  <td class="line-code diff_in">
    <pre>		ID: function(match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4363</th>
  <td class="line-code diff_in">
    <pre>			return match[1].replace(/\\/g, &quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4364</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4365</th>
  <td class="line-code diff_in">
    <pre>		TAG: function(match, curLoop){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4366</th>
  <td class="line-code diff_in">
    <pre>			for ( var i = 0; curLoop[i] === false; i++ ){}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4367</th>
  <td class="line-code diff_in">
    <pre>			return curLoop[i] &amp;&amp; isXML(curLoop[i]) ? match[1] : match[1].toUpperCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4368</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4369</th>
  <td class="line-code diff_in">
    <pre>		CHILD: function(match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4370</th>
  <td class="line-code diff_in">
    <pre>			if ( match[1] == &quot;nth&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4371</th>
  <td class="line-code diff_in">
    <pre>				var test = /(-?)(\d*)n((?:\+|-)?\d*)/.exec(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4372</th>
  <td class="line-code diff_in">
    <pre>					match[2] == &quot;even&quot; &amp;&amp; &quot;2n&quot; || match[2] == &quot;odd&quot; &amp;&amp; &quot;2n+1&quot; ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4373</th>
  <td class="line-code diff_in">
    <pre>					!/\D/.test( match[2] ) &amp;&amp; &quot;0n+&quot; + match[2] || match[2]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4374</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4375</th>
  <td class="line-code diff_in">
    <pre>				match[2] = (test[1] + (test[2] || 1)) - 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4376</th>
  <td class="line-code diff_in">
    <pre>				match[3] = test[3] - 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4377</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4378</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4379</th>
  <td class="line-code diff_in">
    <pre>			match[0] = done++;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4380</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4381</th>
  <td class="line-code diff_in">
    <pre>			return match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4382</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4383</th>
  <td class="line-code diff_in">
    <pre>		ATTR: function(match, curLoop, inplace, result, not, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4384</th>
  <td class="line-code diff_in">
    <pre>			var name = match[1].replace(/\\/g, &quot;&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4385</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4386</th>
  <td class="line-code diff_in">
    <pre>			if ( !isXML &amp;&amp; Expr.attrMap[name] ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4387</th>
  <td class="line-code diff_in">
    <pre>				match[1] = Expr.attrMap[name];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4388</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4389</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4390</th>
  <td class="line-code diff_in">
    <pre>			if ( match[2] === &quot;~=&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4391</th>
  <td class="line-code diff_in">
    <pre>				match[4] = &quot; &quot; + match[4] + &quot; &quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4392</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4393</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4394</th>
  <td class="line-code diff_in">
    <pre>			return match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4395</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4396</th>
  <td class="line-code diff_in">
    <pre>		PSEUDO: function(match, curLoop, inplace, result, not){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4397</th>
  <td class="line-code diff_in">
    <pre>			if ( match[1] === &quot;not&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4398</th>
  <td class="line-code diff_in">
    <pre>				if ( ( chunker.exec(match[3]) || &quot;&quot; ).length &gt; 1 || /^\w/.test(match[3]) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4399</th>
  <td class="line-code diff_in">
    <pre>					match[3] = Sizzle(match[3], null, null, curLoop);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4400</th>
  <td class="line-code diff_in">
    <pre>				} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4401</th>
  <td class="line-code diff_in">
    <pre>					var ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4402</th>
  <td class="line-code diff_in">
    <pre>					if ( !inplace ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4403</th>
  <td class="line-code diff_in">
    <pre>						result.push.apply( result, ret );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4404</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4405</th>
  <td class="line-code diff_in">
    <pre>					return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4406</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4407</th>
  <td class="line-code diff_in">
    <pre>			} else if ( Expr.match.POS.test( match[0] ) || Expr.match.CHILD.test( match[0] ) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4408</th>
  <td class="line-code diff_in">
    <pre>				return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4409</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4410</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4411</th>
  <td class="line-code diff_in">
    <pre>			return match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4412</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4413</th>
  <td class="line-code diff_in">
    <pre>		POS: function(match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4414</th>
  <td class="line-code diff_in">
    <pre>			match.unshift( true );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4415</th>
  <td class="line-code diff_in">
    <pre>			return match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4416</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4417</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4418</th>
  <td class="line-code diff_in">
    <pre>	filters: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4419</th>
  <td class="line-code diff_in">
    <pre>		enabled: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4420</th>
  <td class="line-code diff_in">
    <pre>			return elem.disabled === false &amp;&amp; elem.type !== &quot;hidden&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4421</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4422</th>
  <td class="line-code diff_in">
    <pre>		disabled: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4423</th>
  <td class="line-code diff_in">
    <pre>			return elem.disabled === true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4424</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4425</th>
  <td class="line-code diff_in">
    <pre>		checked: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4426</th>
  <td class="line-code diff_in">
    <pre>			return elem.checked === true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4427</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4428</th>
  <td class="line-code diff_in">
    <pre>		selected: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4429</th>
  <td class="line-code diff_in">
    <pre>			elem.parentNode.selectedIndex;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4430</th>
  <td class="line-code diff_in">
    <pre>			return elem.selected === true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4431</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4432</th>
  <td class="line-code diff_in">
    <pre>		parent: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4433</th>
  <td class="line-code diff_in">
    <pre>			return !!elem.firstChild;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4434</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4435</th>
  <td class="line-code diff_in">
    <pre>		empty: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4436</th>
  <td class="line-code diff_in">
    <pre>			return !elem.firstChild;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4437</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4438</th>
  <td class="line-code diff_in">
    <pre>		has: function(elem, i, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4439</th>
  <td class="line-code diff_in">
    <pre>			return !!Sizzle( match[3], elem ).length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4440</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4441</th>
  <td class="line-code diff_in">
    <pre>		header: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4442</th>
  <td class="line-code diff_in">
    <pre>			return /h\d/i.test( elem.nodeName );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4443</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4444</th>
  <td class="line-code diff_in">
    <pre>		text: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4445</th>
  <td class="line-code diff_in">
    <pre>			return &quot;text&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4446</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4447</th>
  <td class="line-code diff_in">
    <pre>		radio: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4448</th>
  <td class="line-code diff_in">
    <pre>			return &quot;radio&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4449</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4450</th>
  <td class="line-code diff_in">
    <pre>		checkbox: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4451</th>
  <td class="line-code diff_in">
    <pre>			return &quot;checkbox&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4452</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4453</th>
  <td class="line-code diff_in">
    <pre>		file: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4454</th>
  <td class="line-code diff_in">
    <pre>			return &quot;file&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4455</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4456</th>
  <td class="line-code diff_in">
    <pre>		password: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4457</th>
  <td class="line-code diff_in">
    <pre>			return &quot;password&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4458</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4459</th>
  <td class="line-code diff_in">
    <pre>		submit: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4460</th>
  <td class="line-code diff_in">
    <pre>			return &quot;submit&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4461</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4462</th>
  <td class="line-code diff_in">
    <pre>		image: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4463</th>
  <td class="line-code diff_in">
    <pre>			return &quot;image&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4464</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4465</th>
  <td class="line-code diff_in">
    <pre>		reset: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4466</th>
  <td class="line-code diff_in">
    <pre>			return &quot;reset&quot; === elem.type;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4467</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4468</th>
  <td class="line-code diff_in">
    <pre>		button: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4469</th>
  <td class="line-code diff_in">
    <pre>			return &quot;button&quot; === elem.type || elem.nodeName.toUpperCase() === &quot;BUTTON&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4470</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4471</th>
  <td class="line-code diff_in">
    <pre>		input: function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4472</th>
  <td class="line-code diff_in">
    <pre>			return /input|select|textarea|button/i.test(elem.nodeName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4473</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4474</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4475</th>
  <td class="line-code diff_in">
    <pre>	setFilters: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4476</th>
  <td class="line-code diff_in">
    <pre>		first: function(elem, i){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4477</th>
  <td class="line-code diff_in">
    <pre>			return i === 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4478</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4479</th>
  <td class="line-code diff_in">
    <pre>		last: function(elem, i, match, array){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4480</th>
  <td class="line-code diff_in">
    <pre>			return i === array.length - 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4481</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4482</th>
  <td class="line-code diff_in">
    <pre>		even: function(elem, i){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4483</th>
  <td class="line-code diff_in">
    <pre>			return i % 2 === 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4484</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4485</th>
  <td class="line-code diff_in">
    <pre>		odd: function(elem, i){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4486</th>
  <td class="line-code diff_in">
    <pre>			return i % 2 === 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4487</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4488</th>
  <td class="line-code diff_in">
    <pre>		lt: function(elem, i, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4489</th>
  <td class="line-code diff_in">
    <pre>			return i &lt; match[3] - 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4490</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4491</th>
  <td class="line-code diff_in">
    <pre>		gt: function(elem, i, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4492</th>
  <td class="line-code diff_in">
    <pre>			return i &gt; match[3] - 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4493</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4494</th>
  <td class="line-code diff_in">
    <pre>		nth: function(elem, i, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4495</th>
  <td class="line-code diff_in">
    <pre>			return match[3] - 0 == i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4496</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4497</th>
  <td class="line-code diff_in">
    <pre>		eq: function(elem, i, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4498</th>
  <td class="line-code diff_in">
    <pre>			return match[3] - 0 == i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4499</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4500</th>
  <td class="line-code diff_in">
    <pre>	},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4501</th>
  <td class="line-code diff_in">
    <pre>	filter: {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4502</th>
  <td class="line-code diff_in">
    <pre>		PSEUDO: function(elem, match, i, array){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4503</th>
  <td class="line-code diff_in">
    <pre>			var name = match[1], filter = Expr.filters[ name ];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4504</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4505</th>
  <td class="line-code diff_in">
    <pre>			if ( filter ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4506</th>
  <td class="line-code diff_in">
    <pre>				return filter( elem, i, match, array );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4507</th>
  <td class="line-code diff_in">
    <pre>			} else if ( name === &quot;contains&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4508</th>
  <td class="line-code diff_in">
    <pre>				return (elem.textContent || elem.innerText || &quot;&quot;).indexOf(match[3]) &gt;= 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4509</th>
  <td class="line-code diff_in">
    <pre>			} else if ( name === &quot;not&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4510</th>
  <td class="line-code diff_in">
    <pre>				var not = match[3];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4511</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4512</th>
  <td class="line-code diff_in">
    <pre>				for ( var i = 0, l = not.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4513</th>
  <td class="line-code diff_in">
    <pre>					if ( not[i] === elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4514</th>
  <td class="line-code diff_in">
    <pre>						return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4515</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4516</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4517</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4518</th>
  <td class="line-code diff_in">
    <pre>				return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4519</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4520</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4521</th>
  <td class="line-code diff_in">
    <pre>		CHILD: function(elem, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4522</th>
  <td class="line-code diff_in">
    <pre>			var type = match[1], node = elem;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4523</th>
  <td class="line-code diff_in">
    <pre>			switch (type) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4524</th>
  <td class="line-code diff_in">
    <pre>				case 'only':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4525</th>
  <td class="line-code diff_in">
    <pre>				case 'first':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4526</th>
  <td class="line-code diff_in">
    <pre>					while ( (node = node.previousSibling) )  {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4527</th>
  <td class="line-code diff_in">
    <pre>						if ( node.nodeType === 1 ) return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4528</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4529</th>
  <td class="line-code diff_in">
    <pre>					if ( type == 'first') return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4530</th>
  <td class="line-code diff_in">
    <pre>					node = elem;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4531</th>
  <td class="line-code diff_in">
    <pre>				case 'last':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4532</th>
  <td class="line-code diff_in">
    <pre>					while ( (node = node.nextSibling) )  {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4533</th>
  <td class="line-code diff_in">
    <pre>						if ( node.nodeType === 1 ) return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4534</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4535</th>
  <td class="line-code diff_in">
    <pre>					return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4536</th>
  <td class="line-code diff_in">
    <pre>				case 'nth':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4537</th>
  <td class="line-code diff_in">
    <pre>					var first = match[2], last = match[3];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4538</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4539</th>
  <td class="line-code diff_in">
    <pre>					if ( first == 1 &amp;&amp; last == 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4540</th>
  <td class="line-code diff_in">
    <pre>						return true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4541</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4542</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4543</th>
  <td class="line-code diff_in">
    <pre>					var doneName = match[0],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4544</th>
  <td class="line-code diff_in">
    <pre>						parent = elem.parentNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4545</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4546</th>
  <td class="line-code diff_in">
    <pre>					if ( parent &amp;&amp; (parent.sizcache !== doneName || !elem.nodeIndex) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4547</th>
  <td class="line-code diff_in">
    <pre>						var count = 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4548</th>
  <td class="line-code diff_in">
    <pre>						for ( node = parent.firstChild; node; node = node.nextSibling ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4549</th>
  <td class="line-code diff_in">
    <pre>							if ( node.nodeType === 1 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4550</th>
  <td class="line-code diff_in">
    <pre>								node.nodeIndex = ++count;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4551</th>
  <td class="line-code diff_in">
    <pre>							}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4552</th>
  <td class="line-code diff_in">
    <pre>						}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4553</th>
  <td class="line-code diff_in">
    <pre>						parent.sizcache = doneName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4554</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4555</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4556</th>
  <td class="line-code diff_in">
    <pre>					var diff = elem.nodeIndex - last;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4557</th>
  <td class="line-code diff_in">
    <pre>					if ( first == 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4558</th>
  <td class="line-code diff_in">
    <pre>						return diff == 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4559</th>
  <td class="line-code diff_in">
    <pre>					} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4560</th>
  <td class="line-code diff_in">
    <pre>						return ( diff % first == 0 &amp;&amp; diff / first &gt;= 0 );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4561</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4562</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4563</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4564</th>
  <td class="line-code diff_in">
    <pre>		ID: function(elem, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4565</th>
  <td class="line-code diff_in">
    <pre>			return elem.nodeType === 1 &amp;&amp; elem.getAttribute(&quot;id&quot;) === match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4566</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4567</th>
  <td class="line-code diff_in">
    <pre>		TAG: function(elem, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4568</th>
  <td class="line-code diff_in">
    <pre>			return (match === &quot;*&quot; &amp;&amp; elem.nodeType === 1) || elem.nodeName === match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4569</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4570</th>
  <td class="line-code diff_in">
    <pre>		CLASS: function(elem, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4571</th>
  <td class="line-code diff_in">
    <pre>			return (&quot; &quot; + (elem.className || elem.getAttribute(&quot;class&quot;)) + &quot; &quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4572</th>
  <td class="line-code diff_in">
    <pre>				.indexOf( match ) &gt; -1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4573</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4574</th>
  <td class="line-code diff_in">
    <pre>		ATTR: function(elem, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4575</th>
  <td class="line-code diff_in">
    <pre>			var name = match[1],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4576</th>
  <td class="line-code diff_in">
    <pre>				result = Expr.attrHandle[ name ] ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4577</th>
  <td class="line-code diff_in">
    <pre>					Expr.attrHandle[ name ]( elem ) :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4578</th>
  <td class="line-code diff_in">
    <pre>					elem[ name ] != null ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4579</th>
  <td class="line-code diff_in">
    <pre>						elem[ name ] :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4580</th>
  <td class="line-code diff_in">
    <pre>						elem.getAttribute( name ),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4581</th>
  <td class="line-code diff_in">
    <pre>				value = result + &quot;&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4582</th>
  <td class="line-code diff_in">
    <pre>				type = match[2],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4583</th>
  <td class="line-code diff_in">
    <pre>				check = match[4];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4584</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4585</th>
  <td class="line-code diff_in">
    <pre>			return result == null ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4586</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;!=&quot; :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4587</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;=&quot; ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4588</th>
  <td class="line-code diff_in">
    <pre>				value === check :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4589</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;*=&quot; ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4590</th>
  <td class="line-code diff_in">
    <pre>				value.indexOf(check) &gt;= 0 :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4591</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;~=&quot; ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4592</th>
  <td class="line-code diff_in">
    <pre>				(&quot; &quot; + value + &quot; &quot;).indexOf(check) &gt;= 0 :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4593</th>
  <td class="line-code diff_in">
    <pre>				!check ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4594</th>
  <td class="line-code diff_in">
    <pre>				value &amp;&amp; result !== false :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4595</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;!=&quot; ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4596</th>
  <td class="line-code diff_in">
    <pre>				value != check :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4597</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;^=&quot; ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4598</th>
  <td class="line-code diff_in">
    <pre>				value.indexOf(check) === 0 :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4599</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;$=&quot; ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4600</th>
  <td class="line-code diff_in">
    <pre>				value.substr(value.length - check.length) === check :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4601</th>
  <td class="line-code diff_in">
    <pre>				type === &quot;|=&quot; ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4602</th>
  <td class="line-code diff_in">
    <pre>				value === check || value.substr(0, check.length + 1) === check + &quot;-&quot; :
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4603</th>
  <td class="line-code diff_in">
    <pre>				false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4604</th>
  <td class="line-code diff_in">
    <pre>		},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4605</th>
  <td class="line-code diff_in">
    <pre>		POS: function(elem, match, i, array){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4606</th>
  <td class="line-code diff_in">
    <pre>			var name = match[2], filter = Expr.setFilters[ name ];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4607</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4608</th>
  <td class="line-code diff_in">
    <pre>			if ( filter ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4609</th>
  <td class="line-code diff_in">
    <pre>				return filter( elem, i, match, array );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4610</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4611</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4612</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4613</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4614</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4615</th>
  <td class="line-code diff_in">
    <pre>var origPOS = Expr.match.POS;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4616</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4617</th>
  <td class="line-code diff_in">
    <pre>for ( var type in Expr.match ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4618</th>
  <td class="line-code diff_in">
    <pre>	Expr.match[ type ] = new RegExp( Expr.match[ type ].source + /(?![^\[]*\])(?![^\(]*\))/.source );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4619</th>
  <td class="line-code diff_in">
    <pre>	Expr.leftMatch[ type ] = new RegExp( /(^(?:.|\r|\n)*?)/.source + Expr.match[ type ].source );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4620</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4621</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4622</th>
  <td class="line-code diff_in">
    <pre>var makeArray = function(array, results) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4623</th>
  <td class="line-code diff_in">
    <pre>	array = Array.prototype.slice.call( array, 0 );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4624</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4625</th>
  <td class="line-code diff_in">
    <pre>	if ( results ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4626</th>
  <td class="line-code diff_in">
    <pre>		results.push.apply( results, array );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4627</th>
  <td class="line-code diff_in">
    <pre>		return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4628</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4629</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4630</th>
  <td class="line-code diff_in">
    <pre>	return array;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4631</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4632</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4633</th>
  <td class="line-code diff_in">
    <pre>try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4634</th>
  <td class="line-code diff_in">
    <pre>	Array.prototype.slice.call( document.documentElement.childNodes, 0 );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4635</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4636</th>
  <td class="line-code diff_in">
    <pre>} catch(e){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4637</th>
  <td class="line-code diff_in">
    <pre>	makeArray = function(array, results) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4638</th>
  <td class="line-code diff_in">
    <pre>		var ret = results || [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4639</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4640</th>
  <td class="line-code diff_in">
    <pre>		if ( toString.call(array) === &quot;[object Array]&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4641</th>
  <td class="line-code diff_in">
    <pre>			Array.prototype.push.apply( ret, array );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4642</th>
  <td class="line-code diff_in">
    <pre>		} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4643</th>
  <td class="line-code diff_in">
    <pre>			if ( typeof array.length === &quot;number&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4644</th>
  <td class="line-code diff_in">
    <pre>				for ( var i = 0, l = array.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4645</th>
  <td class="line-code diff_in">
    <pre>					ret.push( array[i] );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4646</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4647</th>
  <td class="line-code diff_in">
    <pre>			} else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4648</th>
  <td class="line-code diff_in">
    <pre>				for ( var i = 0; array[i]; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4649</th>
  <td class="line-code diff_in">
    <pre>					ret.push( array[i] );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4650</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4651</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4652</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4653</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4654</th>
  <td class="line-code diff_in">
    <pre>		return ret;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4655</th>
  <td class="line-code diff_in">
    <pre>	};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4656</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4657</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4658</th>
  <td class="line-code diff_in">
    <pre>var sortOrder;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4659</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4660</th>
  <td class="line-code diff_in">
    <pre>if ( document.documentElement.compareDocumentPosition ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4661</th>
  <td class="line-code diff_in">
    <pre>	sortOrder = function( a, b ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4662</th>
  <td class="line-code diff_in">
    <pre>		if ( !a.compareDocumentPosition || !b.compareDocumentPosition ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4663</th>
  <td class="line-code diff_in">
    <pre>			if ( a == b ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4664</th>
  <td class="line-code diff_in">
    <pre>				hasDuplicate = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4665</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4666</th>
  <td class="line-code diff_in">
    <pre>			return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4667</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4668</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4669</th>
  <td class="line-code diff_in">
    <pre>		var ret = a.compareDocumentPosition(b) &amp; 4 ? -1 : a === b ? 0 : 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4670</th>
  <td class="line-code diff_in">
    <pre>		if ( ret === 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4671</th>
  <td class="line-code diff_in">
    <pre>			hasDuplicate = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4672</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4673</th>
  <td class="line-code diff_in">
    <pre>		return ret;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4674</th>
  <td class="line-code diff_in">
    <pre>	};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4675</th>
  <td class="line-code diff_in">
    <pre>} else if ( &quot;sourceIndex&quot; in document.documentElement ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4676</th>
  <td class="line-code diff_in">
    <pre>	sortOrder = function( a, b ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4677</th>
  <td class="line-code diff_in">
    <pre>		if ( !a.sourceIndex || !b.sourceIndex ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4678</th>
  <td class="line-code diff_in">
    <pre>			if ( a == b ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4679</th>
  <td class="line-code diff_in">
    <pre>				hasDuplicate = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4680</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4681</th>
  <td class="line-code diff_in">
    <pre>			return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4682</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4683</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4684</th>
  <td class="line-code diff_in">
    <pre>		var ret = a.sourceIndex - b.sourceIndex;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4685</th>
  <td class="line-code diff_in">
    <pre>		if ( ret === 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4686</th>
  <td class="line-code diff_in">
    <pre>			hasDuplicate = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4687</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4688</th>
  <td class="line-code diff_in">
    <pre>		return ret;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4689</th>
  <td class="line-code diff_in">
    <pre>	};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4690</th>
  <td class="line-code diff_in">
    <pre>} else if ( document.createRange ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4691</th>
  <td class="line-code diff_in">
    <pre>	sortOrder = function( a, b ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4692</th>
  <td class="line-code diff_in">
    <pre>		if ( !a.ownerDocument || !b.ownerDocument ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4693</th>
  <td class="line-code diff_in">
    <pre>			if ( a == b ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4694</th>
  <td class="line-code diff_in">
    <pre>				hasDuplicate = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4695</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4696</th>
  <td class="line-code diff_in">
    <pre>			return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4697</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4698</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4699</th>
  <td class="line-code diff_in">
    <pre>		var aRange = a.ownerDocument.createRange(), bRange = b.ownerDocument.createRange();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4700</th>
  <td class="line-code diff_in">
    <pre>		aRange.setStart(a, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4701</th>
  <td class="line-code diff_in">
    <pre>		aRange.setEnd(a, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4702</th>
  <td class="line-code diff_in">
    <pre>		bRange.setStart(b, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4703</th>
  <td class="line-code diff_in">
    <pre>		bRange.setEnd(b, 0);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4704</th>
  <td class="line-code diff_in">
    <pre>		var ret = aRange.compareBoundaryPoints(Range.START_TO_END, bRange);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4705</th>
  <td class="line-code diff_in">
    <pre>		if ( ret === 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4706</th>
  <td class="line-code diff_in">
    <pre>			hasDuplicate = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4707</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4708</th>
  <td class="line-code diff_in">
    <pre>		return ret;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4709</th>
  <td class="line-code diff_in">
    <pre>	};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4710</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4711</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4712</th>
  <td class="line-code diff_in">
    <pre>(function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4713</th>
  <td class="line-code diff_in">
    <pre>	var form = document.createElement(&quot;div&quot;),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4714</th>
  <td class="line-code diff_in">
    <pre>		id = &quot;script&quot; + (new Date).getTime();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4715</th>
  <td class="line-code diff_in">
    <pre>	form.innerHTML = &quot;&lt;a name='&quot; + id + &quot;'/&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4716</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4717</th>
  <td class="line-code diff_in">
    <pre>	var root = document.documentElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4718</th>
  <td class="line-code diff_in">
    <pre>	root.insertBefore( form, root.firstChild );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4719</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4720</th>
  <td class="line-code diff_in">
    <pre>	if ( !!document.getElementById( id ) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4721</th>
  <td class="line-code diff_in">
    <pre>		Expr.find.ID = function(match, context, isXML){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4722</th>
  <td class="line-code diff_in">
    <pre>			if ( typeof context.getElementById !== &quot;undefined&quot; &amp;&amp; !isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4723</th>
  <td class="line-code diff_in">
    <pre>				var m = context.getElementById(match[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4724</th>
  <td class="line-code diff_in">
    <pre>				return m ? m.id === match[1] || typeof m.getAttributeNode !== &quot;undefined&quot; &amp;&amp; m.getAttributeNode(&quot;id&quot;).nodeValue === match[1] ? [m] : undefined : [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4725</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4726</th>
  <td class="line-code diff_in">
    <pre>		};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4727</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4728</th>
  <td class="line-code diff_in">
    <pre>		Expr.filter.ID = function(elem, match){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4729</th>
  <td class="line-code diff_in">
    <pre>			var node = typeof elem.getAttributeNode !== &quot;undefined&quot; &amp;&amp; elem.getAttributeNode(&quot;id&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4730</th>
  <td class="line-code diff_in">
    <pre>			return elem.nodeType === 1 &amp;&amp; node &amp;&amp; node.nodeValue === match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4731</th>
  <td class="line-code diff_in">
    <pre>		};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4732</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4733</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4734</th>
  <td class="line-code diff_in">
    <pre>	root.removeChild( form );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4735</th>
  <td class="line-code diff_in">
    <pre>	root = form = null; // release memory in IE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4736</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4737</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4738</th>
  <td class="line-code diff_in">
    <pre>(function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4739</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4740</th>
  <td class="line-code diff_in">
    <pre>	var div = document.createElement(&quot;div&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4741</th>
  <td class="line-code diff_in">
    <pre>	div.appendChild( document.createComment(&quot;&quot;) );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4742</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4743</th>
  <td class="line-code diff_in">
    <pre>	if ( div.getElementsByTagName(&quot;*&quot;).length &gt; 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4744</th>
  <td class="line-code diff_in">
    <pre>		Expr.find.TAG = function(match, context){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4745</th>
  <td class="line-code diff_in">
    <pre>			var results = context.getElementsByTagName(match[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4746</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4747</th>
  <td class="line-code diff_in">
    <pre>			if ( match[1] === &quot;*&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4748</th>
  <td class="line-code diff_in">
    <pre>				var tmp = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4749</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4750</th>
  <td class="line-code diff_in">
    <pre>				for ( var i = 0; results[i]; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4751</th>
  <td class="line-code diff_in">
    <pre>					if ( results[i].nodeType === 1 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4752</th>
  <td class="line-code diff_in">
    <pre>						tmp.push( results[i] );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4753</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4754</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4755</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4756</th>
  <td class="line-code diff_in">
    <pre>				results = tmp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4757</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4758</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4759</th>
  <td class="line-code diff_in">
    <pre>			return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4760</th>
  <td class="line-code diff_in">
    <pre>		};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4761</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4762</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4763</th>
  <td class="line-code diff_in">
    <pre>	div.innerHTML = &quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4764</th>
  <td class="line-code diff_in">
    <pre>	if ( div.firstChild &amp;&amp; typeof div.firstChild.getAttribute !== &quot;undefined&quot; &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4765</th>
  <td class="line-code diff_in">
    <pre>			div.firstChild.getAttribute(&quot;href&quot;) !== &quot;#&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4766</th>
  <td class="line-code diff_in">
    <pre>		Expr.attrHandle.href = function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4767</th>
  <td class="line-code diff_in">
    <pre>			return elem.getAttribute(&quot;href&quot;, 2);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4768</th>
  <td class="line-code diff_in">
    <pre>		};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4769</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4770</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4771</th>
  <td class="line-code diff_in">
    <pre>	div = null; // release memory in IE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4772</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4773</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4774</th>
  <td class="line-code diff_in">
    <pre>if ( document.querySelectorAll ) (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4775</th>
  <td class="line-code diff_in">
    <pre>	var oldSizzle = Sizzle, div = document.createElement(&quot;div&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4776</th>
  <td class="line-code diff_in">
    <pre>	div.innerHTML = &quot;&lt;p class='TEST'&gt;&lt;/p&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4777</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4778</th>
  <td class="line-code diff_in">
    <pre>	if ( div.querySelectorAll &amp;&amp; div.querySelectorAll(&quot;.TEST&quot;).length === 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4779</th>
  <td class="line-code diff_in">
    <pre>		return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4780</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4781</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4782</th>
  <td class="line-code diff_in">
    <pre>	Sizzle = function(query, context, extra, seed){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4783</th>
  <td class="line-code diff_in">
    <pre>		context = context || document;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4784</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4785</th>
  <td class="line-code diff_in">
    <pre>		if ( !seed &amp;&amp; context.nodeType === 9 &amp;&amp; !isXML(context) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4786</th>
  <td class="line-code diff_in">
    <pre>			try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4787</th>
  <td class="line-code diff_in">
    <pre>				return makeArray( context.querySelectorAll(query), extra );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4788</th>
  <td class="line-code diff_in">
    <pre>			} catch(e){}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4789</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4790</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4791</th>
  <td class="line-code diff_in">
    <pre>		return oldSizzle(query, context, extra, seed);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4792</th>
  <td class="line-code diff_in">
    <pre>	};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4793</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4794</th>
  <td class="line-code diff_in">
    <pre>	for ( var prop in oldSizzle ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4795</th>
  <td class="line-code diff_in">
    <pre>		Sizzle[ prop ] = oldSizzle[ prop ];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4796</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4797</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4798</th>
  <td class="line-code diff_in">
    <pre>	div = null; // release memory in IE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4799</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4800</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4801</th>
  <td class="line-code diff_in">
    <pre>if ( document.getElementsByClassName &amp;&amp; document.documentElement.getElementsByClassName ) (function(){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4802</th>
  <td class="line-code diff_in">
    <pre>	var div = document.createElement(&quot;div&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4803</th>
  <td class="line-code diff_in">
    <pre>	div.innerHTML = &quot;&lt;div class='test e'&gt;&lt;/div&gt;&lt;div class='test'&gt;&lt;/div&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4804</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4805</th>
  <td class="line-code diff_in">
    <pre>	if ( div.getElementsByClassName(&quot;e&quot;).length === 0 )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4806</th>
  <td class="line-code diff_in">
    <pre>		return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4807</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4808</th>
  <td class="line-code diff_in">
    <pre>	div.lastChild.className = &quot;e&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4809</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4810</th>
  <td class="line-code diff_in">
    <pre>	if ( div.getElementsByClassName(&quot;e&quot;).length === 1 )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4811</th>
  <td class="line-code diff_in">
    <pre>		return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4812</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4813</th>
  <td class="line-code diff_in">
    <pre>	Expr.order.splice(1, 0, &quot;CLASS&quot;);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4814</th>
  <td class="line-code diff_in">
    <pre>	Expr.find.CLASS = function(match, context, isXML) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4815</th>
  <td class="line-code diff_in">
    <pre>		if ( typeof context.getElementsByClassName !== &quot;undefined&quot; &amp;&amp; !isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4816</th>
  <td class="line-code diff_in">
    <pre>			return context.getElementsByClassName(match[1]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4817</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4818</th>
  <td class="line-code diff_in">
    <pre>	};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4819</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4820</th>
  <td class="line-code diff_in">
    <pre>	div = null; // release memory in IE
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4821</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4822</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4823</th>
  <td class="line-code diff_in">
    <pre>function dirNodeCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4824</th>
  <td class="line-code diff_in">
    <pre>	var sibDir = dir == &quot;previousSibling&quot; &amp;&amp; !isXML;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4825</th>
  <td class="line-code diff_in">
    <pre>	for ( var i = 0, l = checkSet.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4826</th>
  <td class="line-code diff_in">
    <pre>		var elem = checkSet[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4827</th>
  <td class="line-code diff_in">
    <pre>		if ( elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4828</th>
  <td class="line-code diff_in">
    <pre>			if ( sibDir &amp;&amp; elem.nodeType === 1 ){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4829</th>
  <td class="line-code diff_in">
    <pre>				elem.sizcache = doneName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4830</th>
  <td class="line-code diff_in">
    <pre>				elem.sizset = i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4831</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4832</th>
  <td class="line-code diff_in">
    <pre>			elem = elem[dir];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4833</th>
  <td class="line-code diff_in">
    <pre>			var match = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4834</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4835</th>
  <td class="line-code diff_in">
    <pre>			while ( elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4836</th>
  <td class="line-code diff_in">
    <pre>				if ( elem.sizcache === doneName ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4837</th>
  <td class="line-code diff_in">
    <pre>					match = checkSet[elem.sizset];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4838</th>
  <td class="line-code diff_in">
    <pre>					break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4839</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4840</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4841</th>
  <td class="line-code diff_in">
    <pre>				if ( elem.nodeType === 1 &amp;&amp; !isXML ){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4842</th>
  <td class="line-code diff_in">
    <pre>					elem.sizcache = doneName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4843</th>
  <td class="line-code diff_in">
    <pre>					elem.sizset = i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4844</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4845</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4846</th>
  <td class="line-code diff_in">
    <pre>				if ( elem.nodeName === cur ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4847</th>
  <td class="line-code diff_in">
    <pre>					match = elem;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4848</th>
  <td class="line-code diff_in">
    <pre>					break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4849</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4850</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4851</th>
  <td class="line-code diff_in">
    <pre>				elem = elem[dir];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4852</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4853</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4854</th>
  <td class="line-code diff_in">
    <pre>			checkSet[i] = match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4855</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4856</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4857</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4858</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4859</th>
  <td class="line-code diff_in">
    <pre>function dirCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4860</th>
  <td class="line-code diff_in">
    <pre>	var sibDir = dir == &quot;previousSibling&quot; &amp;&amp; !isXML;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4861</th>
  <td class="line-code diff_in">
    <pre>	for ( var i = 0, l = checkSet.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4862</th>
  <td class="line-code diff_in">
    <pre>		var elem = checkSet[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4863</th>
  <td class="line-code diff_in">
    <pre>		if ( elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4864</th>
  <td class="line-code diff_in">
    <pre>			if ( sibDir &amp;&amp; elem.nodeType === 1 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4865</th>
  <td class="line-code diff_in">
    <pre>				elem.sizcache = doneName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4866</th>
  <td class="line-code diff_in">
    <pre>				elem.sizset = i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4867</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4868</th>
  <td class="line-code diff_in">
    <pre>			elem = elem[dir];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4869</th>
  <td class="line-code diff_in">
    <pre>			var match = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4870</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4871</th>
  <td class="line-code diff_in">
    <pre>			while ( elem ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4872</th>
  <td class="line-code diff_in">
    <pre>				if ( elem.sizcache === doneName ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4873</th>
  <td class="line-code diff_in">
    <pre>					match = checkSet[elem.sizset];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4874</th>
  <td class="line-code diff_in">
    <pre>					break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4875</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4876</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4877</th>
  <td class="line-code diff_in">
    <pre>				if ( elem.nodeType === 1 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4878</th>
  <td class="line-code diff_in">
    <pre>					if ( !isXML ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4879</th>
  <td class="line-code diff_in">
    <pre>						elem.sizcache = doneName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4880</th>
  <td class="line-code diff_in">
    <pre>						elem.sizset = i;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4881</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4882</th>
  <td class="line-code diff_in">
    <pre>					if ( typeof cur !== &quot;string&quot; ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4883</th>
  <td class="line-code diff_in">
    <pre>						if ( elem === cur ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4884</th>
  <td class="line-code diff_in">
    <pre>							match = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4885</th>
  <td class="line-code diff_in">
    <pre>							break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4886</th>
  <td class="line-code diff_in">
    <pre>						}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4887</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4888</th>
  <td class="line-code diff_in">
    <pre>					} else if ( Sizzle.filter( cur, [elem] ).length &gt; 0 ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4889</th>
  <td class="line-code diff_in">
    <pre>						match = elem;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4890</th>
  <td class="line-code diff_in">
    <pre>						break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4891</th>
  <td class="line-code diff_in">
    <pre>					}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4892</th>
  <td class="line-code diff_in">
    <pre>				}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4893</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4894</th>
  <td class="line-code diff_in">
    <pre>				elem = elem[dir];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4895</th>
  <td class="line-code diff_in">
    <pre>			}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4896</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4897</th>
  <td class="line-code diff_in">
    <pre>			checkSet[i] = match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4898</th>
  <td class="line-code diff_in">
    <pre>		}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4899</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4900</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4901</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4902</th>
  <td class="line-code diff_in">
    <pre>var contains = document.compareDocumentPosition ?  function(a, b){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4903</th>
  <td class="line-code diff_in">
    <pre>	return a.compareDocumentPosition(b) &amp; 16;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4904</th>
  <td class="line-code diff_in">
    <pre>} : function(a, b){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4905</th>
  <td class="line-code diff_in">
    <pre>	return a !== b &amp;&amp; (a.contains ? a.contains(b) : true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4906</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4907</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4908</th>
  <td class="line-code diff_in">
    <pre>var isXML = function(elem){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4909</th>
  <td class="line-code diff_in">
    <pre>	return elem.nodeType === 9 &amp;&amp; elem.documentElement.nodeName !== &quot;HTML&quot; ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4910</th>
  <td class="line-code diff_in">
    <pre>		!!elem.ownerDocument &amp;&amp; elem.ownerDocument.documentElement.nodeName !== &quot;HTML&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4911</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4912</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4913</th>
  <td class="line-code diff_in">
    <pre>var posProcess = function(selector, context){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4914</th>
  <td class="line-code diff_in">
    <pre>	var tmpSet = [], later = &quot;&quot;, match,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4915</th>
  <td class="line-code diff_in">
    <pre>		root = context.nodeType ? [context] : context;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4916</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4917</th>
  <td class="line-code diff_in">
    <pre>	while ( (match = Expr.match.PSEUDO.exec( selector )) ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4918</th>
  <td class="line-code diff_in">
    <pre>		later += match[0];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4919</th>
  <td class="line-code diff_in">
    <pre>		selector = selector.replace( Expr.match.PSEUDO, &quot;&quot; );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4920</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4921</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4922</th>
  <td class="line-code diff_in">
    <pre>	selector = Expr.relative[selector] ? selector + &quot;*&quot; : selector;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4923</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4924</th>
  <td class="line-code diff_in">
    <pre>	for ( var i = 0, l = root.length; i &lt; l; i++ ) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4925</th>
  <td class="line-code diff_in">
    <pre>		Sizzle( selector, root[i], tmpSet );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4926</th>
  <td class="line-code diff_in">
    <pre>	}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4927</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4928</th>
  <td class="line-code diff_in">
    <pre>	return Sizzle.filter( later, tmpSet );
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4929</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4930</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4931</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4932</th>
  <td class="line-code diff_in">
    <pre>window.Sizzle = Sizzle;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4933</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4934</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4935</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4936</th>
  <td class="line-code diff_in">
    <pre>;(function(engine) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4937</th>
  <td class="line-code diff_in">
    <pre>  var extendElements = Prototype.Selector.extendElements;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4938</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4939</th>
  <td class="line-code diff_in">
    <pre>  function select(selector, scope) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4940</th>
  <td class="line-code diff_in">
    <pre>    return extendElements(engine(selector, scope || document));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4941</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4942</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4943</th>
  <td class="line-code diff_in">
    <pre>  function match(element, selector) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4944</th>
  <td class="line-code diff_in">
    <pre>    return engine.matches(selector, [element]).length == 1;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4945</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4946</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4947</th>
  <td class="line-code diff_in">
    <pre>  Prototype.Selector.engine = engine;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4948</th>
  <td class="line-code diff_in">
    <pre>  Prototype.Selector.select = select;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4949</th>
  <td class="line-code diff_in">
    <pre>  Prototype.Selector.match = match;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4950</th>
  <td class="line-code diff_in">
    <pre>})(Sizzle);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4951</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4952</th>
  <td class="line-code diff_in">
    <pre>window.Sizzle = Prototype._original_property;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4953</th>
  <td class="line-code diff_in">
    <pre>delete Prototype._original_property;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4954</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4955</th>
  <td class="line-code diff_in">
    <pre>var Form = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4956</th>
  <td class="line-code diff_in">
    <pre>  reset: function(form) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4957</th>
  <td class="line-code diff_in">
    <pre>    form = $(form);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4958</th>
  <td class="line-code diff_in">
    <pre>    form.reset();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4959</th>
  <td class="line-code diff_in">
    <pre>    return form;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4960</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4961</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4962</th>
  <td class="line-code diff_in">
    <pre>  serializeElements: function(elements, options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4963</th>
  <td class="line-code diff_in">
    <pre>    if (typeof options != 'object') options = { hash: !!options };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4964</th>
  <td class="line-code diff_in">
    <pre>    else if (Object.isUndefined(options.hash)) options.hash = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4965</th>
  <td class="line-code diff_in">
    <pre>    var key, value, submitted = false, submit = options.submit;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4966</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4967</th>
  <td class="line-code diff_in">
    <pre>    var data = elements.inject({ }, function(result, element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4968</th>
  <td class="line-code diff_in">
    <pre>      if (!element.disabled &amp;&amp; element.name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4969</th>
  <td class="line-code diff_in">
    <pre>        key = element.name; value = $(element).getValue();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4970</th>
  <td class="line-code diff_in">
    <pre>        if (value != null &amp;&amp; element.type != 'file' &amp;&amp; (element.type != 'submit' || (!submitted &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4971</th>
  <td class="line-code diff_in">
    <pre>            submit !== false &amp;&amp; (!submit || key == submit) &amp;&amp; (submitted = true)))) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4972</th>
  <td class="line-code diff_in">
    <pre>          if (key in result) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4973</th>
  <td class="line-code diff_in">
    <pre>            if (!Object.isArray(result[key])) result[key] = [result[key]];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4974</th>
  <td class="line-code diff_in">
    <pre>            result[key].push(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4975</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4976</th>
  <td class="line-code diff_in">
    <pre>          else result[key] = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4977</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4978</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4979</th>
  <td class="line-code diff_in">
    <pre>      return result;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4980</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4981</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4982</th>
  <td class="line-code diff_in">
    <pre>    return options.hash ? data : Object.toQueryString(data);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4983</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4984</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4985</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4986</th>
  <td class="line-code diff_in">
    <pre>Form.Methods = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4987</th>
  <td class="line-code diff_in">
    <pre>  serialize: function(form, options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4988</th>
  <td class="line-code diff_in">
    <pre>    return Form.serializeElements(Form.getElements(form), options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4989</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4990</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4991</th>
  <td class="line-code diff_in">
    <pre>  getElements: function(form) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4992</th>
  <td class="line-code diff_in">
    <pre>    var elements = $(form).getElementsByTagName('*'),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4993</th>
  <td class="line-code diff_in">
    <pre>        element,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4994</th>
  <td class="line-code diff_in">
    <pre>        arr = [ ],
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4995</th>
  <td class="line-code diff_in">
    <pre>        serializers = Form.Element.Serializers;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4996</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0; element = elements[i]; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4997</th>
  <td class="line-code diff_in">
    <pre>      arr.push(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4998</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4999</th>
  <td class="line-code diff_in">
    <pre>    return arr.inject([], function(elements, child) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5000</th>
  <td class="line-code diff_in">
    <pre>      if (serializers[child.tagName.toLowerCase()])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5001</th>
  <td class="line-code diff_in">
    <pre>        elements.push(Element.extend(child));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5002</th>
  <td class="line-code diff_in">
    <pre>      return elements;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5003</th>
  <td class="line-code diff_in">
    <pre>    })
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5004</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5005</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5006</th>
  <td class="line-code diff_in">
    <pre>  getInputs: function(form, typeName, name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5007</th>
  <td class="line-code diff_in">
    <pre>    form = $(form);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5008</th>
  <td class="line-code diff_in">
    <pre>    var inputs = form.getElementsByTagName('input');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5009</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5010</th>
  <td class="line-code diff_in">
    <pre>    if (!typeName &amp;&amp; !name) return $A(inputs).map(Element.extend);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5011</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5012</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, matchingInputs = [], length = inputs.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5013</th>
  <td class="line-code diff_in">
    <pre>      var input = inputs[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5014</th>
  <td class="line-code diff_in">
    <pre>      if ((typeName &amp;&amp; input.type != typeName) || (name &amp;&amp; input.name != name))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5015</th>
  <td class="line-code diff_in">
    <pre>        continue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5016</th>
  <td class="line-code diff_in">
    <pre>      matchingInputs.push(Element.extend(input));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5017</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5018</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5019</th>
  <td class="line-code diff_in">
    <pre>    return matchingInputs;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5020</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5021</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5022</th>
  <td class="line-code diff_in">
    <pre>  disable: function(form) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5023</th>
  <td class="line-code diff_in">
    <pre>    form = $(form);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5024</th>
  <td class="line-code diff_in">
    <pre>    Form.getElements(form).invoke('disable');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5025</th>
  <td class="line-code diff_in">
    <pre>    return form;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5026</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5027</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5028</th>
  <td class="line-code diff_in">
    <pre>  enable: function(form) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5029</th>
  <td class="line-code diff_in">
    <pre>    form = $(form);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5030</th>
  <td class="line-code diff_in">
    <pre>    Form.getElements(form).invoke('enable');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5031</th>
  <td class="line-code diff_in">
    <pre>    return form;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5032</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5033</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5034</th>
  <td class="line-code diff_in">
    <pre>  findFirstElement: function(form) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5035</th>
  <td class="line-code diff_in">
    <pre>    var elements = $(form).getElements().findAll(function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5036</th>
  <td class="line-code diff_in">
    <pre>      return 'hidden' != element.type &amp;&amp; !element.disabled;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5037</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5038</th>
  <td class="line-code diff_in">
    <pre>    var firstByIndex = elements.findAll(function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5039</th>
  <td class="line-code diff_in">
    <pre>      return element.hasAttribute('tabIndex') &amp;&amp; element.tabIndex &gt;= 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5040</th>
  <td class="line-code diff_in">
    <pre>    }).sortBy(function(element) { return element.tabIndex }).first();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5041</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5042</th>
  <td class="line-code diff_in">
    <pre>    return firstByIndex ? firstByIndex : elements.find(function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5043</th>
  <td class="line-code diff_in">
    <pre>      return /^(?:input|select|textarea)$/i.test(element.tagName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5044</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5045</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5046</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5047</th>
  <td class="line-code diff_in">
    <pre>  focusFirstElement: function(form) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5048</th>
  <td class="line-code diff_in">
    <pre>    form = $(form);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5049</th>
  <td class="line-code diff_in">
    <pre>    form.findFirstElement().activate();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5050</th>
  <td class="line-code diff_in">
    <pre>    return form;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5051</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5052</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5053</th>
  <td class="line-code diff_in">
    <pre>  request: function(form, options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5054</th>
  <td class="line-code diff_in">
    <pre>    form = $(form), options = Object.clone(options || { });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5055</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5056</th>
  <td class="line-code diff_in">
    <pre>    var params = options.parameters, action = form.readAttribute('action') || '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5057</th>
  <td class="line-code diff_in">
    <pre>    if (action.blank()) action = window.location.href;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5058</th>
  <td class="line-code diff_in">
    <pre>    options.parameters = form.serialize(true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5059</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5060</th>
  <td class="line-code diff_in">
    <pre>    if (params) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5061</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isString(params)) params = params.toQueryParams();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5062</th>
  <td class="line-code diff_in">
    <pre>      Object.extend(options.parameters, params);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5063</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5064</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5065</th>
  <td class="line-code diff_in">
    <pre>    if (form.hasAttribute('method') &amp;&amp; !options.method)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5066</th>
  <td class="line-code diff_in">
    <pre>      options.method = form.method;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5067</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5068</th>
  <td class="line-code diff_in">
    <pre>    return new Ajax.Request(action, options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5069</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5070</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5071</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5072</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5073</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5074</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5075</th>
  <td class="line-code diff_in">
    <pre>Form.Element = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5076</th>
  <td class="line-code diff_in">
    <pre>  focus: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5077</th>
  <td class="line-code diff_in">
    <pre>    $(element).focus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5078</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5079</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5080</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5081</th>
  <td class="line-code diff_in">
    <pre>  select: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5082</th>
  <td class="line-code diff_in">
    <pre>    $(element).select();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5083</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5084</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5085</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5086</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5087</th>
  <td class="line-code diff_in">
    <pre>Form.Element.Methods = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5088</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5089</th>
  <td class="line-code diff_in">
    <pre>  serialize: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5090</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5091</th>
  <td class="line-code diff_in">
    <pre>    if (!element.disabled &amp;&amp; element.name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5092</th>
  <td class="line-code diff_in">
    <pre>      var value = element.getValue();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5093</th>
  <td class="line-code diff_in">
    <pre>      if (value != undefined) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5094</th>
  <td class="line-code diff_in">
    <pre>        var pair = { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5095</th>
  <td class="line-code diff_in">
    <pre>        pair[element.name] = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5096</th>
  <td class="line-code diff_in">
    <pre>        return Object.toQueryString(pair);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5097</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5098</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5099</th>
  <td class="line-code diff_in">
    <pre>    return '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5100</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5101</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5102</th>
  <td class="line-code diff_in">
    <pre>  getValue: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5103</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5104</th>
  <td class="line-code diff_in">
    <pre>    var method = element.tagName.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5105</th>
  <td class="line-code diff_in">
    <pre>    return Form.Element.Serializers[method](element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5106</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5107</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5108</th>
  <td class="line-code diff_in">
    <pre>  setValue: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5109</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5110</th>
  <td class="line-code diff_in">
    <pre>    var method = element.tagName.toLowerCase();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5111</th>
  <td class="line-code diff_in">
    <pre>    Form.Element.Serializers[method](element, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5112</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5113</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5114</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5115</th>
  <td class="line-code diff_in">
    <pre>  clear: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5116</th>
  <td class="line-code diff_in">
    <pre>    $(element).value = '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5117</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5118</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5119</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5120</th>
  <td class="line-code diff_in">
    <pre>  present: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5121</th>
  <td class="line-code diff_in">
    <pre>    return $(element).value != '';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5122</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5123</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5124</th>
  <td class="line-code diff_in">
    <pre>  activate: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5125</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5126</th>
  <td class="line-code diff_in">
    <pre>    try {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5127</th>
  <td class="line-code diff_in">
    <pre>      element.focus();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5128</th>
  <td class="line-code diff_in">
    <pre>      if (element.select &amp;&amp; (element.tagName.toLowerCase() != 'input' ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5129</th>
  <td class="line-code diff_in">
    <pre>          !(/^(?:button|reset|submit)$/i.test(element.type))))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5130</th>
  <td class="line-code diff_in">
    <pre>        element.select();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5131</th>
  <td class="line-code diff_in">
    <pre>    } catch (e) { }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5132</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5133</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5134</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5135</th>
  <td class="line-code diff_in">
    <pre>  disable: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5136</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5137</th>
  <td class="line-code diff_in">
    <pre>    element.disabled = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5138</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5139</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5140</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5141</th>
  <td class="line-code diff_in">
    <pre>  enable: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5142</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5143</th>
  <td class="line-code diff_in">
    <pre>    element.disabled = false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5144</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5145</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5146</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5147</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5148</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5149</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5150</th>
  <td class="line-code diff_in">
    <pre>var Field = Form.Element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5151</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5152</th>
  <td class="line-code diff_in">
    <pre>var $F = Form.Element.Methods.getValue;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5153</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5154</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5155</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5156</th>
  <td class="line-code diff_in">
    <pre>Form.Element.Serializers = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5157</th>
  <td class="line-code diff_in">
    <pre>  input: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5158</th>
  <td class="line-code diff_in">
    <pre>    switch (element.type.toLowerCase()) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5159</th>
  <td class="line-code diff_in">
    <pre>      case 'checkbox':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5160</th>
  <td class="line-code diff_in">
    <pre>      case 'radio':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5161</th>
  <td class="line-code diff_in">
    <pre>        return Form.Element.Serializers.inputSelector(element, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5162</th>
  <td class="line-code diff_in">
    <pre>      default:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5163</th>
  <td class="line-code diff_in">
    <pre>        return Form.Element.Serializers.textarea(element, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5164</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5165</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5166</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5167</th>
  <td class="line-code diff_in">
    <pre>  inputSelector: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5168</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(value)) return element.checked ? element.value : null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5169</th>
  <td class="line-code diff_in">
    <pre>    else element.checked = !!value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5170</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5171</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5172</th>
  <td class="line-code diff_in">
    <pre>  textarea: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5173</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(value)) return element.value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5174</th>
  <td class="line-code diff_in">
    <pre>    else element.value = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5175</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5176</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5177</th>
  <td class="line-code diff_in">
    <pre>  select: function(element, value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5178</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(value))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5179</th>
  <td class="line-code diff_in">
    <pre>      return this[element.type == 'select-one' ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5180</th>
  <td class="line-code diff_in">
    <pre>        'selectOne' : 'selectMany'](element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5181</th>
  <td class="line-code diff_in">
    <pre>    else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5182</th>
  <td class="line-code diff_in">
    <pre>      var opt, currentValue, single = !Object.isArray(value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5183</th>
  <td class="line-code diff_in">
    <pre>      for (var i = 0, length = element.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5184</th>
  <td class="line-code diff_in">
    <pre>        opt = element.options[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5185</th>
  <td class="line-code diff_in">
    <pre>        currentValue = this.optionValue(opt);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5186</th>
  <td class="line-code diff_in">
    <pre>        if (single) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5187</th>
  <td class="line-code diff_in">
    <pre>          if (currentValue == value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5188</th>
  <td class="line-code diff_in">
    <pre>            opt.selected = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5189</th>
  <td class="line-code diff_in">
    <pre>            return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5190</th>
  <td class="line-code diff_in">
    <pre>          }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5191</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5192</th>
  <td class="line-code diff_in">
    <pre>        else opt.selected = value.include(currentValue);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5193</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5194</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5195</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5196</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5197</th>
  <td class="line-code diff_in">
    <pre>  selectOne: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5198</th>
  <td class="line-code diff_in">
    <pre>    var index = element.selectedIndex;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5199</th>
  <td class="line-code diff_in">
    <pre>    return index &gt;= 0 ? this.optionValue(element.options[index]) : null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5200</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5201</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5202</th>
  <td class="line-code diff_in">
    <pre>  selectMany: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5203</th>
  <td class="line-code diff_in">
    <pre>    var values, length = element.length;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5204</th>
  <td class="line-code diff_in">
    <pre>    if (!length) return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5205</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5206</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, values = []; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5207</th>
  <td class="line-code diff_in">
    <pre>      var opt = element.options[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5208</th>
  <td class="line-code diff_in">
    <pre>      if (opt.selected) values.push(this.optionValue(opt));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5209</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5210</th>
  <td class="line-code diff_in">
    <pre>    return values;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5211</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5212</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5213</th>
  <td class="line-code diff_in">
    <pre>  optionValue: function(opt) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5214</th>
  <td class="line-code diff_in">
    <pre>    return Element.extend(opt).hasAttribute('value') ? opt.value : opt.text;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5215</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5216</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5217</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5218</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5219</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5220</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5221</th>
  <td class="line-code diff_in">
    <pre>Abstract.TimedObserver = Class.create(PeriodicalExecuter, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5222</th>
  <td class="line-code diff_in">
    <pre>  initialize: function($super, element, frequency, callback) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5223</th>
  <td class="line-code diff_in">
    <pre>    $super(callback, frequency);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5224</th>
  <td class="line-code diff_in">
    <pre>    this.element   = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5225</th>
  <td class="line-code diff_in">
    <pre>    this.lastValue = this.getValue();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5226</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5227</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5228</th>
  <td class="line-code diff_in">
    <pre>  execute: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5229</th>
  <td class="line-code diff_in">
    <pre>    var value = this.getValue();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5230</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isString(this.lastValue) &amp;&amp; Object.isString(value) ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5231</th>
  <td class="line-code diff_in">
    <pre>        this.lastValue != value : String(this.lastValue) != String(value)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5232</th>
  <td class="line-code diff_in">
    <pre>      this.callback(this.element, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5233</th>
  <td class="line-code diff_in">
    <pre>      this.lastValue = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5234</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5235</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5236</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5237</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5238</th>
  <td class="line-code diff_in">
    <pre>Form.Element.Observer = Class.create(Abstract.TimedObserver, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5239</th>
  <td class="line-code diff_in">
    <pre>  getValue: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5240</th>
  <td class="line-code diff_in">
    <pre>    return Form.Element.getValue(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5241</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5242</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5243</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5244</th>
  <td class="line-code diff_in">
    <pre>Form.Observer = Class.create(Abstract.TimedObserver, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5245</th>
  <td class="line-code diff_in">
    <pre>  getValue: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5246</th>
  <td class="line-code diff_in">
    <pre>    return Form.serialize(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5247</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5248</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5249</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5250</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5251</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5252</th>
  <td class="line-code diff_in">
    <pre>Abstract.EventObserver = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5253</th>
  <td class="line-code diff_in">
    <pre>  initialize: function(element, callback) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5254</th>
  <td class="line-code diff_in">
    <pre>    this.element  = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5255</th>
  <td class="line-code diff_in">
    <pre>    this.callback = callback;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5256</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5257</th>
  <td class="line-code diff_in">
    <pre>    this.lastValue = this.getValue();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5258</th>
  <td class="line-code diff_in">
    <pre>    if (this.element.tagName.toLowerCase() == 'form')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5259</th>
  <td class="line-code diff_in">
    <pre>      this.registerFormCallbacks();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5260</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5261</th>
  <td class="line-code diff_in">
    <pre>      this.registerCallback(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5262</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5263</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5264</th>
  <td class="line-code diff_in">
    <pre>  onElementEvent: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5265</th>
  <td class="line-code diff_in">
    <pre>    var value = this.getValue();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5266</th>
  <td class="line-code diff_in">
    <pre>    if (this.lastValue != value) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5267</th>
  <td class="line-code diff_in">
    <pre>      this.callback(this.element, value);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5268</th>
  <td class="line-code diff_in">
    <pre>      this.lastValue = value;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5269</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5270</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5271</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5272</th>
  <td class="line-code diff_in">
    <pre>  registerFormCallbacks: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5273</th>
  <td class="line-code diff_in">
    <pre>    Form.getElements(this.element).each(this.registerCallback, this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5274</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5275</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5276</th>
  <td class="line-code diff_in">
    <pre>  registerCallback: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5277</th>
  <td class="line-code diff_in">
    <pre>    if (element.type) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5278</th>
  <td class="line-code diff_in">
    <pre>      switch (element.type.toLowerCase()) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5279</th>
  <td class="line-code diff_in">
    <pre>        case 'checkbox':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5280</th>
  <td class="line-code diff_in">
    <pre>        case 'radio':
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5281</th>
  <td class="line-code diff_in">
    <pre>          Event.observe(element, 'click', this.onElementEvent.bind(this));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5282</th>
  <td class="line-code diff_in">
    <pre>          break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5283</th>
  <td class="line-code diff_in">
    <pre>        default:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5284</th>
  <td class="line-code diff_in">
    <pre>          Event.observe(element, 'change', this.onElementEvent.bind(this));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5285</th>
  <td class="line-code diff_in">
    <pre>          break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5286</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5287</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5288</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5289</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5290</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5291</th>
  <td class="line-code diff_in">
    <pre>Form.Element.EventObserver = Class.create(Abstract.EventObserver, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5292</th>
  <td class="line-code diff_in">
    <pre>  getValue: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5293</th>
  <td class="line-code diff_in">
    <pre>    return Form.Element.getValue(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5294</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5295</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5296</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5297</th>
  <td class="line-code diff_in">
    <pre>Form.EventObserver = Class.create(Abstract.EventObserver, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5298</th>
  <td class="line-code diff_in">
    <pre>  getValue: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5299</th>
  <td class="line-code diff_in">
    <pre>    return Form.serialize(this.element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5300</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5301</th>
  <td class="line-code diff_in">
    <pre>});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5302</th>
  <td class="line-code diff_in">
    <pre>(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5303</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5304</th>
  <td class="line-code diff_in">
    <pre>  var Event = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5305</th>
  <td class="line-code diff_in">
    <pre>    KEY_BACKSPACE: 8,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5306</th>
  <td class="line-code diff_in">
    <pre>    KEY_TAB:       9,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5307</th>
  <td class="line-code diff_in">
    <pre>    KEY_RETURN:   13,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5308</th>
  <td class="line-code diff_in">
    <pre>    KEY_ESC:      27,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5309</th>
  <td class="line-code diff_in">
    <pre>    KEY_LEFT:     37,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5310</th>
  <td class="line-code diff_in">
    <pre>    KEY_UP:       38,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5311</th>
  <td class="line-code diff_in">
    <pre>    KEY_RIGHT:    39,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5312</th>
  <td class="line-code diff_in">
    <pre>    KEY_DOWN:     40,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5313</th>
  <td class="line-code diff_in">
    <pre>    KEY_DELETE:   46,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5314</th>
  <td class="line-code diff_in">
    <pre>    KEY_HOME:     36,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5315</th>
  <td class="line-code diff_in">
    <pre>    KEY_END:      35,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5316</th>
  <td class="line-code diff_in">
    <pre>    KEY_PAGEUP:   33,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5317</th>
  <td class="line-code diff_in">
    <pre>    KEY_PAGEDOWN: 34,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5318</th>
  <td class="line-code diff_in">
    <pre>    KEY_INSERT:   45,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5319</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5320</th>
  <td class="line-code diff_in">
    <pre>    cache: {}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5321</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5322</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5323</th>
  <td class="line-code diff_in">
    <pre>  var docEl = document.documentElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5324</th>
  <td class="line-code diff_in">
    <pre>  var MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED = 'onmouseenter' in docEl
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5325</th>
  <td class="line-code diff_in">
    <pre>    &amp;&amp; 'onmouseleave' in docEl;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5326</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5327</th>
  <td class="line-code diff_in">
    <pre>  var _isButton;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5328</th>
  <td class="line-code diff_in">
    <pre>  if (Prototype.Browser.IE) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5329</th>
  <td class="line-code diff_in">
    <pre>    var buttonMap = { 0: 1, 1: 4, 2: 2 };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5330</th>
  <td class="line-code diff_in">
    <pre>    _isButton = function(event, code) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5331</th>
  <td class="line-code diff_in">
    <pre>      return event.button === buttonMap[code];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5332</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5333</th>
  <td class="line-code diff_in">
    <pre>  } else if (Prototype.Browser.WebKit) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5334</th>
  <td class="line-code diff_in">
    <pre>    _isButton = function(event, code) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5335</th>
  <td class="line-code diff_in">
    <pre>      switch (code) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5336</th>
  <td class="line-code diff_in">
    <pre>        case 0: return event.which == 1 &amp;&amp; !event.metaKey;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5337</th>
  <td class="line-code diff_in">
    <pre>        case 1: return event.which == 1 &amp;&amp; event.metaKey;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5338</th>
  <td class="line-code diff_in">
    <pre>        default: return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5339</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5340</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5341</th>
  <td class="line-code diff_in">
    <pre>  } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5342</th>
  <td class="line-code diff_in">
    <pre>    _isButton = function(event, code) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5343</th>
  <td class="line-code diff_in">
    <pre>      return event.which ? (event.which === code + 1) : (event.button === code);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5344</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5345</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5346</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5347</th>
  <td class="line-code diff_in">
    <pre>  function isLeftClick(event)   { return _isButton(event, 0) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5348</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5349</th>
  <td class="line-code diff_in">
    <pre>  function isMiddleClick(event) { return _isButton(event, 1) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5350</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5351</th>
  <td class="line-code diff_in">
    <pre>  function isRightClick(event)  { return _isButton(event, 2) }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5352</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5353</th>
  <td class="line-code diff_in">
    <pre>  function element(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5354</th>
  <td class="line-code diff_in">
    <pre>    event = Event.extend(event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5355</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5356</th>
  <td class="line-code diff_in">
    <pre>    var node = event.target, type = event.type,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5357</th>
  <td class="line-code diff_in">
    <pre>     currentTarget = event.currentTarget;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5358</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5359</th>
  <td class="line-code diff_in">
    <pre>    if (currentTarget &amp;&amp; currentTarget.tagName) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5360</th>
  <td class="line-code diff_in">
    <pre>      if (type === 'load' || type === 'error' ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5361</th>
  <td class="line-code diff_in">
    <pre>        (type === 'click' &amp;&amp; currentTarget.tagName.toLowerCase() === 'input'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5362</th>
  <td class="line-code diff_in">
    <pre>          &amp;&amp; currentTarget.type === 'radio'))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5363</th>
  <td class="line-code diff_in">
    <pre>            node = currentTarget;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5364</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5365</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5366</th>
  <td class="line-code diff_in">
    <pre>    if (node.nodeType == Node.TEXT_NODE)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5367</th>
  <td class="line-code diff_in">
    <pre>      node = node.parentNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5368</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5369</th>
  <td class="line-code diff_in">
    <pre>    return Element.extend(node);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5370</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5371</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5372</th>
  <td class="line-code diff_in">
    <pre>  function findElement(event, expression) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5373</th>
  <td class="line-code diff_in">
    <pre>    var element = Event.element(event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5374</th>
  <td class="line-code diff_in">
    <pre>    if (!expression) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5375</th>
  <td class="line-code diff_in">
    <pre>    while (element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5376</th>
  <td class="line-code diff_in">
    <pre>      if (Object.isElement(element) &amp;&amp; Prototype.Selector.match(element, expression)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5377</th>
  <td class="line-code diff_in">
    <pre>        return Element.extend(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5378</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5379</th>
  <td class="line-code diff_in">
    <pre>      element = element.parentNode;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5380</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5381</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5382</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5383</th>
  <td class="line-code diff_in">
    <pre>  function pointer(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5384</th>
  <td class="line-code diff_in">
    <pre>    return { x: pointerX(event), y: pointerY(event) };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5385</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5386</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5387</th>
  <td class="line-code diff_in">
    <pre>  function pointerX(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5388</th>
  <td class="line-code diff_in">
    <pre>    var docElement = document.documentElement,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5389</th>
  <td class="line-code diff_in">
    <pre>     body = document.body || { scrollLeft: 0 };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5390</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5391</th>
  <td class="line-code diff_in">
    <pre>    return event.pageX || (event.clientX +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5392</th>
  <td class="line-code diff_in">
    <pre>      (docElement.scrollLeft || body.scrollLeft) -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5393</th>
  <td class="line-code diff_in">
    <pre>      (docElement.clientLeft || 0));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5394</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5395</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5396</th>
  <td class="line-code diff_in">
    <pre>  function pointerY(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5397</th>
  <td class="line-code diff_in">
    <pre>    var docElement = document.documentElement,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5398</th>
  <td class="line-code diff_in">
    <pre>     body = document.body || { scrollTop: 0 };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5399</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5400</th>
  <td class="line-code diff_in">
    <pre>    return  event.pageY || (event.clientY +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5401</th>
  <td class="line-code diff_in">
    <pre>       (docElement.scrollTop || body.scrollTop) -
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5402</th>
  <td class="line-code diff_in">
    <pre>       (docElement.clientTop || 0));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5403</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5404</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5405</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5406</th>
  <td class="line-code diff_in">
    <pre>  function stop(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5407</th>
  <td class="line-code diff_in">
    <pre>    Event.extend(event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5408</th>
  <td class="line-code diff_in">
    <pre>    event.preventDefault();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5409</th>
  <td class="line-code diff_in">
    <pre>    event.stopPropagation();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5410</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5411</th>
  <td class="line-code diff_in">
    <pre>    event.stopped = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5412</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5413</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5414</th>
  <td class="line-code diff_in">
    <pre>  Event.Methods = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5415</th>
  <td class="line-code diff_in">
    <pre>    isLeftClick: isLeftClick,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5416</th>
  <td class="line-code diff_in">
    <pre>    isMiddleClick: isMiddleClick,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5417</th>
  <td class="line-code diff_in">
    <pre>    isRightClick: isRightClick,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5418</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5419</th>
  <td class="line-code diff_in">
    <pre>    element: element,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5420</th>
  <td class="line-code diff_in">
    <pre>    findElement: findElement,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5421</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5422</th>
  <td class="line-code diff_in">
    <pre>    pointer: pointer,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5423</th>
  <td class="line-code diff_in">
    <pre>    pointerX: pointerX,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5424</th>
  <td class="line-code diff_in">
    <pre>    pointerY: pointerY,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5425</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5426</th>
  <td class="line-code diff_in">
    <pre>    stop: stop
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5427</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5428</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5429</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5430</th>
  <td class="line-code diff_in">
    <pre>  var methods = Object.keys(Event.Methods).inject({ }, function(m, name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5431</th>
  <td class="line-code diff_in">
    <pre>    m[name] = Event.Methods[name].methodize();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5432</th>
  <td class="line-code diff_in">
    <pre>    return m;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5433</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5434</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5435</th>
  <td class="line-code diff_in">
    <pre>  if (Prototype.Browser.IE) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5436</th>
  <td class="line-code diff_in">
    <pre>    function _relatedTarget(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5437</th>
  <td class="line-code diff_in">
    <pre>      var element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5438</th>
  <td class="line-code diff_in">
    <pre>      switch (event.type) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5439</th>
  <td class="line-code diff_in">
    <pre>        case 'mouseover': element = event.fromElement; break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5440</th>
  <td class="line-code diff_in">
    <pre>        case 'mouseout':  element = event.toElement;   break;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5441</th>
  <td class="line-code diff_in">
    <pre>        default: return null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5442</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5443</th>
  <td class="line-code diff_in">
    <pre>      return Element.extend(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5444</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5445</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5446</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(methods, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5447</th>
  <td class="line-code diff_in">
    <pre>      stopPropagation: function() { this.cancelBubble = true },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5448</th>
  <td class="line-code diff_in">
    <pre>      preventDefault:  function() { this.returnValue = false },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5449</th>
  <td class="line-code diff_in">
    <pre>      inspect: function() { return '[object Event]' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5450</th>
  <td class="line-code diff_in">
    <pre>    });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5451</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5452</th>
  <td class="line-code diff_in">
    <pre>    Event.extend = function(event, element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5453</th>
  <td class="line-code diff_in">
    <pre>      if (!event) return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5454</th>
  <td class="line-code diff_in">
    <pre>      if (event._extendedByPrototype) return event;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5455</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5456</th>
  <td class="line-code diff_in">
    <pre>      event._extendedByPrototype = Prototype.emptyFunction;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5457</th>
  <td class="line-code diff_in">
    <pre>      var pointer = Event.pointer(event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5458</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5459</th>
  <td class="line-code diff_in">
    <pre>      Object.extend(event, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5460</th>
  <td class="line-code diff_in">
    <pre>        target: event.srcElement || element,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5461</th>
  <td class="line-code diff_in">
    <pre>        relatedTarget: _relatedTarget(event),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5462</th>
  <td class="line-code diff_in">
    <pre>        pageX:  pointer.x,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5463</th>
  <td class="line-code diff_in">
    <pre>        pageY:  pointer.y
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5464</th>
  <td class="line-code diff_in">
    <pre>      });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5465</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5466</th>
  <td class="line-code diff_in">
    <pre>      return Object.extend(event, methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5467</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5468</th>
  <td class="line-code diff_in">
    <pre>  } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5469</th>
  <td class="line-code diff_in">
    <pre>    Event.prototype = window.Event.prototype || document.createEvent('HTMLEvents').__proto__;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5470</th>
  <td class="line-code diff_in">
    <pre>    Object.extend(Event.prototype, methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5471</th>
  <td class="line-code diff_in">
    <pre>    Event.extend = Prototype.K;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5472</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5473</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5474</th>
  <td class="line-code diff_in">
    <pre>  function _createResponder(element, eventName, handler) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5475</th>
  <td class="line-code diff_in">
    <pre>    var registry = Element.retrieve(element, 'prototype_event_registry');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5476</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5477</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(registry)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5478</th>
  <td class="line-code diff_in">
    <pre>      CACHE.push(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5479</th>
  <td class="line-code diff_in">
    <pre>      registry = Element.retrieve(element, 'prototype_event_registry', $H());
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5480</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5481</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5482</th>
  <td class="line-code diff_in">
    <pre>    var respondersForEvent = registry.get(eventName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5483</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(respondersForEvent)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5484</th>
  <td class="line-code diff_in">
    <pre>      respondersForEvent = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5485</th>
  <td class="line-code diff_in">
    <pre>      registry.set(eventName, respondersForEvent);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5486</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5487</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5488</th>
  <td class="line-code diff_in">
    <pre>    if (respondersForEvent.pluck('handler').include(handler)) return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5489</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5490</th>
  <td class="line-code diff_in">
    <pre>    var responder;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5491</th>
  <td class="line-code diff_in">
    <pre>    if (eventName.include(&quot;:&quot;)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5492</th>
  <td class="line-code diff_in">
    <pre>      responder = function(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5493</th>
  <td class="line-code diff_in">
    <pre>        if (Object.isUndefined(event.eventName))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5494</th>
  <td class="line-code diff_in">
    <pre>          return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5495</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5496</th>
  <td class="line-code diff_in">
    <pre>        if (event.eventName !== eventName)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5497</th>
  <td class="line-code diff_in">
    <pre>          return false;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5498</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5499</th>
  <td class="line-code diff_in">
    <pre>        Event.extend(event, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5500</th>
  <td class="line-code diff_in">
    <pre>        handler.call(element, event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5501</th>
  <td class="line-code diff_in">
    <pre>      };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5502</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5503</th>
  <td class="line-code diff_in">
    <pre>      if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5504</th>
  <td class="line-code diff_in">
    <pre>       (eventName === &quot;mouseenter&quot; || eventName === &quot;mouseleave&quot;)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5505</th>
  <td class="line-code diff_in">
    <pre>        if (eventName === &quot;mouseenter&quot; || eventName === &quot;mouseleave&quot;) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5506</th>
  <td class="line-code diff_in">
    <pre>          responder = function(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5507</th>
  <td class="line-code diff_in">
    <pre>            Event.extend(event, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5508</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5509</th>
  <td class="line-code diff_in">
    <pre>            var parent = event.relatedTarget;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5510</th>
  <td class="line-code diff_in">
    <pre>            while (parent &amp;&amp; parent !== element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5511</th>
  <td class="line-code diff_in">
    <pre>              try { parent = parent.parentNode; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5512</th>
  <td class="line-code diff_in">
    <pre>              catch(e) { parent = element; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5513</th>
  <td class="line-code diff_in">
    <pre>            }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5514</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5515</th>
  <td class="line-code diff_in">
    <pre>            if (parent === element) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5516</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5517</th>
  <td class="line-code diff_in">
    <pre>            handler.call(element, event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5518</th>
  <td class="line-code diff_in">
    <pre>          };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5519</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5520</th>
  <td class="line-code diff_in">
    <pre>      } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5521</th>
  <td class="line-code diff_in">
    <pre>        responder = function(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5522</th>
  <td class="line-code diff_in">
    <pre>          Event.extend(event, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5523</th>
  <td class="line-code diff_in">
    <pre>          handler.call(element, event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5524</th>
  <td class="line-code diff_in">
    <pre>        };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5525</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5526</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5527</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5528</th>
  <td class="line-code diff_in">
    <pre>    responder.handler = handler;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5529</th>
  <td class="line-code diff_in">
    <pre>    respondersForEvent.push(responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5530</th>
  <td class="line-code diff_in">
    <pre>    return responder;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5531</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5532</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5533</th>
  <td class="line-code diff_in">
    <pre>  function _destroyCache() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5534</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, length = CACHE.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5535</th>
  <td class="line-code diff_in">
    <pre>      Event.stopObserving(CACHE[i]);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5536</th>
  <td class="line-code diff_in">
    <pre>      CACHE[i] = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5537</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5538</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5539</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5540</th>
  <td class="line-code diff_in">
    <pre>  var CACHE = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5541</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5542</th>
  <td class="line-code diff_in">
    <pre>  if (Prototype.Browser.IE)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5543</th>
  <td class="line-code diff_in">
    <pre>    window.attachEvent('onunload', _destroyCache);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5544</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5545</th>
  <td class="line-code diff_in">
    <pre>  if (Prototype.Browser.WebKit)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5546</th>
  <td class="line-code diff_in">
    <pre>    window.addEventListener('unload', Prototype.emptyFunction, false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5547</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5548</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5549</th>
  <td class="line-code diff_in">
    <pre>  var _getDOMEventName = Prototype.K,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5550</th>
  <td class="line-code diff_in">
    <pre>      translations = { mouseenter: &quot;mouseover&quot;, mouseleave: &quot;mouseout&quot; };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5551</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5552</th>
  <td class="line-code diff_in">
    <pre>  if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5553</th>
  <td class="line-code diff_in">
    <pre>    _getDOMEventName = function(eventName) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5554</th>
  <td class="line-code diff_in">
    <pre>      return (translations[eventName] || eventName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5555</th>
  <td class="line-code diff_in">
    <pre>    };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5556</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5557</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5558</th>
  <td class="line-code diff_in">
    <pre>  function observe(element, eventName, handler) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5559</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5560</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5561</th>
  <td class="line-code diff_in">
    <pre>    var responder = _createResponder(element, eventName, handler);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5562</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5563</th>
  <td class="line-code diff_in">
    <pre>    if (!responder) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5564</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5565</th>
  <td class="line-code diff_in">
    <pre>    if (eventName.include(':')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5566</th>
  <td class="line-code diff_in">
    <pre>      if (element.addEventListener)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5567</th>
  <td class="line-code diff_in">
    <pre>        element.addEventListener(&quot;dataavailable&quot;, responder, false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5568</th>
  <td class="line-code diff_in">
    <pre>      else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5569</th>
  <td class="line-code diff_in">
    <pre>        element.attachEvent(&quot;ondataavailable&quot;, responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5570</th>
  <td class="line-code diff_in">
    <pre>        element.attachEvent(&quot;onfilterchange&quot;, responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5571</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5572</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5573</th>
  <td class="line-code diff_in">
    <pre>      var actualEventName = _getDOMEventName(eventName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5574</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5575</th>
  <td class="line-code diff_in">
    <pre>      if (element.addEventListener)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5576</th>
  <td class="line-code diff_in">
    <pre>        element.addEventListener(actualEventName, responder, false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5577</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5578</th>
  <td class="line-code diff_in">
    <pre>        element.attachEvent(&quot;on&quot; + actualEventName, responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5579</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5580</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5581</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5582</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5583</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5584</th>
  <td class="line-code diff_in">
    <pre>  function stopObserving(element, eventName, handler) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5585</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5586</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5587</th>
  <td class="line-code diff_in">
    <pre>    var registry = Element.retrieve(element, 'prototype_event_registry');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5588</th>
  <td class="line-code diff_in">
    <pre>    if (!registry) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5589</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5590</th>
  <td class="line-code diff_in">
    <pre>    if (!eventName) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5591</th>
  <td class="line-code diff_in">
    <pre>      registry.each( function(pair) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5592</th>
  <td class="line-code diff_in">
    <pre>        var eventName = pair.key;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5593</th>
  <td class="line-code diff_in">
    <pre>        stopObserving(element, eventName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5594</th>
  <td class="line-code diff_in">
    <pre>      });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5595</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5596</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5597</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5598</th>
  <td class="line-code diff_in">
    <pre>    var responders = registry.get(eventName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5599</th>
  <td class="line-code diff_in">
    <pre>    if (!responders) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5600</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5601</th>
  <td class="line-code diff_in">
    <pre>    if (!handler) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5602</th>
  <td class="line-code diff_in">
    <pre>      responders.each(function(r) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5603</th>
  <td class="line-code diff_in">
    <pre>        stopObserving(element, eventName, r.handler);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5604</th>
  <td class="line-code diff_in">
    <pre>      });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5605</th>
  <td class="line-code diff_in">
    <pre>      return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5606</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5607</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5608</th>
  <td class="line-code diff_in">
    <pre>    var responder = responders.find( function(r) { return r.handler === handler; });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5609</th>
  <td class="line-code diff_in">
    <pre>    if (!responder) return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5610</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5611</th>
  <td class="line-code diff_in">
    <pre>    if (eventName.include(':')) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5612</th>
  <td class="line-code diff_in">
    <pre>      if (element.removeEventListener)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5613</th>
  <td class="line-code diff_in">
    <pre>        element.removeEventListener(&quot;dataavailable&quot;, responder, false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5614</th>
  <td class="line-code diff_in">
    <pre>      else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5615</th>
  <td class="line-code diff_in">
    <pre>        element.detachEvent(&quot;ondataavailable&quot;, responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5616</th>
  <td class="line-code diff_in">
    <pre>        element.detachEvent(&quot;onfilterchange&quot;,  responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5617</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5618</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5619</th>
  <td class="line-code diff_in">
    <pre>      var actualEventName = _getDOMEventName(eventName);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5620</th>
  <td class="line-code diff_in">
    <pre>      if (element.removeEventListener)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5621</th>
  <td class="line-code diff_in">
    <pre>        element.removeEventListener(actualEventName, responder, false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5622</th>
  <td class="line-code diff_in">
    <pre>      else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5623</th>
  <td class="line-code diff_in">
    <pre>        element.detachEvent('on' + actualEventName, responder);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5624</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5625</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5626</th>
  <td class="line-code diff_in">
    <pre>    registry.set(eventName, responders.without(responder));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5627</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5628</th>
  <td class="line-code diff_in">
    <pre>    return element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5629</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5630</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5631</th>
  <td class="line-code diff_in">
    <pre>  function fire(element, eventName, memo, bubble) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5632</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5633</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5634</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isUndefined(bubble))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5635</th>
  <td class="line-code diff_in">
    <pre>      bubble = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5636</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5637</th>
  <td class="line-code diff_in">
    <pre>    if (element == document &amp;&amp; document.createEvent &amp;&amp; !element.dispatchEvent)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5638</th>
  <td class="line-code diff_in">
    <pre>      element = document.documentElement;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5639</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5640</th>
  <td class="line-code diff_in">
    <pre>    var event;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5641</th>
  <td class="line-code diff_in">
    <pre>    if (document.createEvent) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5642</th>
  <td class="line-code diff_in">
    <pre>      event = document.createEvent('HTMLEvents');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5643</th>
  <td class="line-code diff_in">
    <pre>      event.initEvent('dataavailable', true, true);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5644</th>
  <td class="line-code diff_in">
    <pre>    } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5645</th>
  <td class="line-code diff_in">
    <pre>      event = document.createEventObject();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5646</th>
  <td class="line-code diff_in">
    <pre>      event.eventType = bubble ? 'ondataavailable' : 'onfilterchange';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5647</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5648</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5649</th>
  <td class="line-code diff_in">
    <pre>    event.eventName = eventName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5650</th>
  <td class="line-code diff_in">
    <pre>    event.memo = memo || { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5651</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5652</th>
  <td class="line-code diff_in">
    <pre>    if (document.createEvent)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5653</th>
  <td class="line-code diff_in">
    <pre>      element.dispatchEvent(event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5654</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5655</th>
  <td class="line-code diff_in">
    <pre>      element.fireEvent(event.eventType, event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5656</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5657</th>
  <td class="line-code diff_in">
    <pre>    return Event.extend(event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5658</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5659</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5660</th>
  <td class="line-code diff_in">
    <pre>  Event.Handler = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5661</th>
  <td class="line-code diff_in">
    <pre>    initialize: function(element, eventName, selector, callback) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5662</th>
  <td class="line-code diff_in">
    <pre>      this.element   = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5663</th>
  <td class="line-code diff_in">
    <pre>      this.eventName = eventName;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5664</th>
  <td class="line-code diff_in">
    <pre>      this.selector  = selector;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5665</th>
  <td class="line-code diff_in">
    <pre>      this.callback  = callback;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5666</th>
  <td class="line-code diff_in">
    <pre>      this.handler   = this.handleEvent.bind(this);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5667</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5668</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5669</th>
  <td class="line-code diff_in">
    <pre>    start: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5670</th>
  <td class="line-code diff_in">
    <pre>      Event.observe(this.element, this.eventName, this.handler);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5671</th>
  <td class="line-code diff_in">
    <pre>      return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5672</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5673</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5674</th>
  <td class="line-code diff_in">
    <pre>    stop: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5675</th>
  <td class="line-code diff_in">
    <pre>      Event.stopObserving(this.element, this.eventName, this.handler);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5676</th>
  <td class="line-code diff_in">
    <pre>      return this;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5677</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5678</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5679</th>
  <td class="line-code diff_in">
    <pre>    handleEvent: function(event) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5680</th>
  <td class="line-code diff_in">
    <pre>      var element = event.findElement(this.selector);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5681</th>
  <td class="line-code diff_in">
    <pre>      if (element) this.callback.call(this.element, event, element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5682</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5683</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5684</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5685</th>
  <td class="line-code diff_in">
    <pre>  function on(element, eventName, selector, callback) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5686</th>
  <td class="line-code diff_in">
    <pre>    element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5687</th>
  <td class="line-code diff_in">
    <pre>    if (Object.isFunction(selector) &amp;&amp; Object.isUndefined(callback)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5688</th>
  <td class="line-code diff_in">
    <pre>      callback = selector, selector = null;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5689</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5690</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5691</th>
  <td class="line-code diff_in">
    <pre>    return new Event.Handler(element, eventName, selector, callback).start();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5692</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5693</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5694</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(Event, Event.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5695</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5696</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(Event, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5697</th>
  <td class="line-code diff_in">
    <pre>    fire:          fire,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5698</th>
  <td class="line-code diff_in">
    <pre>    observe:       observe,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5699</th>
  <td class="line-code diff_in">
    <pre>    stopObserving: stopObserving,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5700</th>
  <td class="line-code diff_in">
    <pre>    on:            on
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5701</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5702</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5703</th>
  <td class="line-code diff_in">
    <pre>  Element.addMethods({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5704</th>
  <td class="line-code diff_in">
    <pre>    fire:          fire,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5705</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5706</th>
  <td class="line-code diff_in">
    <pre>    observe:       observe,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5707</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5708</th>
  <td class="line-code diff_in">
    <pre>    stopObserving: stopObserving,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5709</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5710</th>
  <td class="line-code diff_in">
    <pre>    on:            on
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5711</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5712</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5713</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(document, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5714</th>
  <td class="line-code diff_in">
    <pre>    fire:          fire.methodize(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5715</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5716</th>
  <td class="line-code diff_in">
    <pre>    observe:       observe.methodize(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5717</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5718</th>
  <td class="line-code diff_in">
    <pre>    stopObserving: stopObserving.methodize(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5719</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5720</th>
  <td class="line-code diff_in">
    <pre>    on:            on.methodize(),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5721</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5722</th>
  <td class="line-code diff_in">
    <pre>    loaded:        false
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5723</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5724</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5725</th>
  <td class="line-code diff_in">
    <pre>  if (window.Event) Object.extend(window.Event, Event);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5726</th>
  <td class="line-code diff_in">
    <pre>  else window.Event = Event;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5727</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5728</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5729</th>
  <td class="line-code diff_in">
    <pre>(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5730</th>
  <td class="line-code diff_in">
    <pre>  /* Support for the DOMContentLoaded event is based on work by Dan Webb,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5731</th>
  <td class="line-code diff_in">
    <pre>     Matthias Miller, Dean Edwards, John Resig, and Diego Perini. */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5732</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5733</th>
  <td class="line-code diff_in">
    <pre>  var timer;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5734</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5735</th>
  <td class="line-code diff_in">
    <pre>  function fireContentLoadedEvent() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5736</th>
  <td class="line-code diff_in">
    <pre>    if (document.loaded) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5737</th>
  <td class="line-code diff_in">
    <pre>    if (timer) window.clearTimeout(timer);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5738</th>
  <td class="line-code diff_in">
    <pre>    document.loaded = true;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5739</th>
  <td class="line-code diff_in">
    <pre>    document.fire('dom:loaded');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5740</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5741</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5742</th>
  <td class="line-code diff_in">
    <pre>  function checkReadyState() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5743</th>
  <td class="line-code diff_in">
    <pre>    if (document.readyState === 'complete') {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5744</th>
  <td class="line-code diff_in">
    <pre>      document.stopObserving('readystatechange', checkReadyState);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5745</th>
  <td class="line-code diff_in">
    <pre>      fireContentLoadedEvent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5746</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5747</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5748</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5749</th>
  <td class="line-code diff_in">
    <pre>  function pollDoScroll() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5750</th>
  <td class="line-code diff_in">
    <pre>    try { document.documentElement.doScroll('left'); }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5751</th>
  <td class="line-code diff_in">
    <pre>    catch(e) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5752</th>
  <td class="line-code diff_in">
    <pre>      timer = pollDoScroll.defer();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5753</th>
  <td class="line-code diff_in">
    <pre>      return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5754</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5755</th>
  <td class="line-code diff_in">
    <pre>    fireContentLoadedEvent();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5756</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5757</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5758</th>
  <td class="line-code diff_in">
    <pre>  if (document.addEventListener) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5759</th>
  <td class="line-code diff_in">
    <pre>    document.addEventListener('DOMContentLoaded', fireContentLoadedEvent, false);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5760</th>
  <td class="line-code diff_in">
    <pre>  } else {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5761</th>
  <td class="line-code diff_in">
    <pre>    document.observe('readystatechange', checkReadyState);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5762</th>
  <td class="line-code diff_in">
    <pre>    if (window == top)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5763</th>
  <td class="line-code diff_in">
    <pre>      timer = pollDoScroll.defer();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5764</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5765</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5766</th>
  <td class="line-code diff_in">
    <pre>  Event.observe(window, 'load', fireContentLoadedEvent);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5767</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5768</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5769</th>
  <td class="line-code diff_in">
    <pre>Element.addMethods();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5770</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5771</th>
  <td class="line-code diff_in">
    <pre>/*------------------------------- DEPRECATED -------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5772</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5773</th>
  <td class="line-code diff_in">
    <pre>Hash.toQueryString = Object.toQueryString;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5774</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5775</th>
  <td class="line-code diff_in">
    <pre>var Toggle = { display: Element.toggle };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5776</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5777</th>
  <td class="line-code diff_in">
    <pre>Element.Methods.childOf = Element.Methods.descendantOf;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5778</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5779</th>
  <td class="line-code diff_in">
    <pre>var Insertion = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5780</th>
  <td class="line-code diff_in">
    <pre>  Before: function(element, content) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5781</th>
  <td class="line-code diff_in">
    <pre>    return Element.insert(element, {before:content});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5782</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5783</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5784</th>
  <td class="line-code diff_in">
    <pre>  Top: function(element, content) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5785</th>
  <td class="line-code diff_in">
    <pre>    return Element.insert(element, {top:content});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5786</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5787</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5788</th>
  <td class="line-code diff_in">
    <pre>  Bottom: function(element, content) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5789</th>
  <td class="line-code diff_in">
    <pre>    return Element.insert(element, {bottom:content});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5790</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5791</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5792</th>
  <td class="line-code diff_in">
    <pre>  After: function(element, content) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5793</th>
  <td class="line-code diff_in">
    <pre>    return Element.insert(element, {after:content});
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5794</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5795</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5796</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5797</th>
  <td class="line-code diff_in">
    <pre>var $continue = new Error('&quot;throw $continue&quot; is deprecated, use &quot;return&quot; instead');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5798</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5799</th>
  <td class="line-code diff_in">
    <pre>var Position = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5800</th>
  <td class="line-code diff_in">
    <pre>  includeScrollOffsets: false,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5801</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5802</th>
  <td class="line-code diff_in">
    <pre>  prepare: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5803</th>
  <td class="line-code diff_in">
    <pre>    this.deltaX =  window.pageXOffset
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5804</th>
  <td class="line-code diff_in">
    <pre>                || document.documentElement.scrollLeft
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5805</th>
  <td class="line-code diff_in">
    <pre>                || document.body.scrollLeft
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5806</th>
  <td class="line-code diff_in">
    <pre>                || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5807</th>
  <td class="line-code diff_in">
    <pre>    this.deltaY =  window.pageYOffset
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5808</th>
  <td class="line-code diff_in">
    <pre>                || document.documentElement.scrollTop
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5809</th>
  <td class="line-code diff_in">
    <pre>                || document.body.scrollTop
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5810</th>
  <td class="line-code diff_in">
    <pre>                || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5811</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5812</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5813</th>
  <td class="line-code diff_in">
    <pre>  within: function(element, x, y) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5814</th>
  <td class="line-code diff_in">
    <pre>    if (this.includeScrollOffsets)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5815</th>
  <td class="line-code diff_in">
    <pre>      return this.withinIncludingScrolloffsets(element, x, y);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5816</th>
  <td class="line-code diff_in">
    <pre>    this.xcomp = x;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5817</th>
  <td class="line-code diff_in">
    <pre>    this.ycomp = y;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5818</th>
  <td class="line-code diff_in">
    <pre>    this.offset = Element.cumulativeOffset(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5819</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5820</th>
  <td class="line-code diff_in">
    <pre>    return (y &gt;= this.offset[1] &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5821</th>
  <td class="line-code diff_in">
    <pre>            y &lt;  this.offset[1] + element.offsetHeight &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5822</th>
  <td class="line-code diff_in">
    <pre>            x &gt;= this.offset[0] &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5823</th>
  <td class="line-code diff_in">
    <pre>            x &lt;  this.offset[0] + element.offsetWidth);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5824</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5825</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5826</th>
  <td class="line-code diff_in">
    <pre>  withinIncludingScrolloffsets: function(element, x, y) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5827</th>
  <td class="line-code diff_in">
    <pre>    var offsetcache = Element.cumulativeScrollOffset(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5828</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5829</th>
  <td class="line-code diff_in">
    <pre>    this.xcomp = x + offsetcache[0] - this.deltaX;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5830</th>
  <td class="line-code diff_in">
    <pre>    this.ycomp = y + offsetcache[1] - this.deltaY;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5831</th>
  <td class="line-code diff_in">
    <pre>    this.offset = Element.cumulativeOffset(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5832</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5833</th>
  <td class="line-code diff_in">
    <pre>    return (this.ycomp &gt;= this.offset[1] &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5834</th>
  <td class="line-code diff_in">
    <pre>            this.ycomp &lt;  this.offset[1] + element.offsetHeight &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5835</th>
  <td class="line-code diff_in">
    <pre>            this.xcomp &gt;= this.offset[0] &amp;&amp;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5836</th>
  <td class="line-code diff_in">
    <pre>            this.xcomp &lt;  this.offset[0] + element.offsetWidth);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5837</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5838</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5839</th>
  <td class="line-code diff_in">
    <pre>  overlap: function(mode, element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5840</th>
  <td class="line-code diff_in">
    <pre>    if (!mode) return 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5841</th>
  <td class="line-code diff_in">
    <pre>    if (mode == 'vertical')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5842</th>
  <td class="line-code diff_in">
    <pre>      return ((this.offset[1] + element.offsetHeight) - this.ycomp) /
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5843</th>
  <td class="line-code diff_in">
    <pre>        element.offsetHeight;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5844</th>
  <td class="line-code diff_in">
    <pre>    if (mode == 'horizontal')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5845</th>
  <td class="line-code diff_in">
    <pre>      return ((this.offset[0] + element.offsetWidth) - this.xcomp) /
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5846</th>
  <td class="line-code diff_in">
    <pre>        element.offsetWidth;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5847</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5848</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5849</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5850</th>
  <td class="line-code diff_in">
    <pre>  cumulativeOffset: Element.Methods.cumulativeOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5851</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5852</th>
  <td class="line-code diff_in">
    <pre>  positionedOffset: Element.Methods.positionedOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5853</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5854</th>
  <td class="line-code diff_in">
    <pre>  absolutize: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5855</th>
  <td class="line-code diff_in">
    <pre>    Position.prepare();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5856</th>
  <td class="line-code diff_in">
    <pre>    return Element.absolutize(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5857</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5858</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5859</th>
  <td class="line-code diff_in">
    <pre>  relativize: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5860</th>
  <td class="line-code diff_in">
    <pre>    Position.prepare();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5861</th>
  <td class="line-code diff_in">
    <pre>    return Element.relativize(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5862</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5863</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5864</th>
  <td class="line-code diff_in">
    <pre>  realOffset: Element.Methods.cumulativeScrollOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5865</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5866</th>
  <td class="line-code diff_in">
    <pre>  offsetParent: Element.Methods.getOffsetParent,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5867</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5868</th>
  <td class="line-code diff_in">
    <pre>  page: Element.Methods.viewportOffset,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5869</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5870</th>
  <td class="line-code diff_in">
    <pre>  clone: function(source, target, options) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5871</th>
  <td class="line-code diff_in">
    <pre>    options = options || { };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5872</th>
  <td class="line-code diff_in">
    <pre>    return Element.clonePosition(target, source, options);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5873</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5874</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5875</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5876</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5877</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5878</th>
  <td class="line-code diff_in">
    <pre>if (!document.getElementsByClassName) document.getElementsByClassName = function(instanceMethods){
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5879</th>
  <td class="line-code diff_in">
    <pre>  function iter(name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5880</th>
  <td class="line-code diff_in">
    <pre>    return name.blank() ? null : &quot;[contains(concat(' ', @class, ' '), ' &quot; + name + &quot; ')]&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5881</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5882</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5883</th>
  <td class="line-code diff_in">
    <pre>  instanceMethods.getElementsByClassName = Prototype.BrowserFeatures.XPath ?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5884</th>
  <td class="line-code diff_in">
    <pre>  function(element, className) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5885</th>
  <td class="line-code diff_in">
    <pre>    className = className.toString().strip();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5886</th>
  <td class="line-code diff_in">
    <pre>    var cond = /\s/.test(className) ? $w(className).map(iter).join('') : iter(className);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5887</th>
  <td class="line-code diff_in">
    <pre>    return cond ? document._getElementsByXPath('.//*' + cond, element) : [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5888</th>
  <td class="line-code diff_in">
    <pre>  } : function(element, className) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5889</th>
  <td class="line-code diff_in">
    <pre>    className = className.toString().strip();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5890</th>
  <td class="line-code diff_in">
    <pre>    var elements = [], classNames = (/\s/.test(className) ? $w(className) : null);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5891</th>
  <td class="line-code diff_in">
    <pre>    if (!classNames &amp;&amp; !className) return elements;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5892</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5893</th>
  <td class="line-code diff_in">
    <pre>    var nodes = $(element).getElementsByTagName('*');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5894</th>
  <td class="line-code diff_in">
    <pre>    className = ' ' + className + ' ';
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5895</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5896</th>
  <td class="line-code diff_in">
    <pre>    for (var i = 0, child, cn; child = nodes[i]; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5897</th>
  <td class="line-code diff_in">
    <pre>      if (child.className &amp;&amp; (cn = ' ' + child.className + ' ') &amp;&amp; (cn.include(className) ||
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5898</th>
  <td class="line-code diff_in">
    <pre>          (classNames &amp;&amp; classNames.all(function(name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5899</th>
  <td class="line-code diff_in">
    <pre>            return !name.toString().blank() &amp;&amp; cn.include(' ' + name + ' ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5900</th>
  <td class="line-code diff_in">
    <pre>          }))))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5901</th>
  <td class="line-code diff_in">
    <pre>        elements.push(Element.extend(child));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5902</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5903</th>
  <td class="line-code diff_in">
    <pre>    return elements;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5904</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5905</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5906</th>
  <td class="line-code diff_in">
    <pre>  return function(className, parentElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5907</th>
  <td class="line-code diff_in">
    <pre>    return $(parentElement || document.body).getElementsByClassName(className);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5908</th>
  <td class="line-code diff_in">
    <pre>  };
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5909</th>
  <td class="line-code diff_in">
    <pre>}(Element.Methods);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5910</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5911</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5912</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5913</th>
  <td class="line-code diff_in">
    <pre>Element.ClassNames = Class.create();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5914</th>
  <td class="line-code diff_in">
    <pre>Element.ClassNames.prototype = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5915</th>
  <td class="line-code diff_in">
    <pre>  initialize: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5916</th>
  <td class="line-code diff_in">
    <pre>    this.element = $(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5917</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5918</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5919</th>
  <td class="line-code diff_in">
    <pre>  _each: function(iterator) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5920</th>
  <td class="line-code diff_in">
    <pre>    this.element.className.split(/\s+/).select(function(name) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5921</th>
  <td class="line-code diff_in">
    <pre>      return name.length &gt; 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5922</th>
  <td class="line-code diff_in">
    <pre>    })._each(iterator);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5923</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5924</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5925</th>
  <td class="line-code diff_in">
    <pre>  set: function(className) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5926</th>
  <td class="line-code diff_in">
    <pre>    this.element.className = className;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5927</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5928</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5929</th>
  <td class="line-code diff_in">
    <pre>  add: function(classNameToAdd) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5930</th>
  <td class="line-code diff_in">
    <pre>    if (this.include(classNameToAdd)) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5931</th>
  <td class="line-code diff_in">
    <pre>    this.set($A(this).concat(classNameToAdd).join(' '));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5932</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5933</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5934</th>
  <td class="line-code diff_in">
    <pre>  remove: function(classNameToRemove) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5935</th>
  <td class="line-code diff_in">
    <pre>    if (!this.include(classNameToRemove)) return;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5936</th>
  <td class="line-code diff_in">
    <pre>    this.set($A(this).without(classNameToRemove).join(' '));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5937</th>
  <td class="line-code diff_in">
    <pre>  },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5938</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5939</th>
  <td class="line-code diff_in">
    <pre>  toString: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5940</th>
  <td class="line-code diff_in">
    <pre>    return $A(this).join(' ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5941</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5942</th>
  <td class="line-code diff_in">
    <pre>};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5943</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5944</th>
  <td class="line-code diff_in">
    <pre>Object.extend(Element.ClassNames.prototype, Enumerable);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5945</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5946</th>
  <td class="line-code diff_in">
    <pre>/*--------------------------------------------------------------------------*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5947</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5948</th>
  <td class="line-code diff_in">
    <pre>(function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5949</th>
  <td class="line-code diff_in">
    <pre>  window.Selector = Class.create({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5950</th>
  <td class="line-code diff_in">
    <pre>    initialize: function(expression) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5951</th>
  <td class="line-code diff_in">
    <pre>      this.expression = expression.strip();
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5952</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5953</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5954</th>
  <td class="line-code diff_in">
    <pre>    findElements: function(rootElement) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5955</th>
  <td class="line-code diff_in">
    <pre>      return Prototype.Selector.select(this.expression, rootElement);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5956</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5957</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5958</th>
  <td class="line-code diff_in">
    <pre>    match: function(element) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5959</th>
  <td class="line-code diff_in">
    <pre>      return Prototype.Selector.match(element, this.expression);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5960</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5961</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5962</th>
  <td class="line-code diff_in">
    <pre>    toString: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5963</th>
  <td class="line-code diff_in">
    <pre>      return this.expression;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5964</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5965</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5966</th>
  <td class="line-code diff_in">
    <pre>    inspect: function() {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5967</th>
  <td class="line-code diff_in">
    <pre>      return &quot;#&lt;Selector: &quot; + this.expression + &quot;&gt;&quot;;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5968</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5969</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5970</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5971</th>
  <td class="line-code diff_in">
    <pre>  Object.extend(Selector, {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5972</th>
  <td class="line-code diff_in">
    <pre>    matchElements: function(elements, expression) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5973</th>
  <td class="line-code diff_in">
    <pre>      var match = Prototype.Selector.match,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5974</th>
  <td class="line-code diff_in">
    <pre>          results = [];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5975</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5976</th>
  <td class="line-code diff_in">
    <pre>      for (var i = 0, length = elements.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5977</th>
  <td class="line-code diff_in">
    <pre>        var element = elements[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5978</th>
  <td class="line-code diff_in">
    <pre>        if (match(element, expression)) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5979</th>
  <td class="line-code diff_in">
    <pre>          results.push(Element.extend(element));
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5980</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5981</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5982</th>
  <td class="line-code diff_in">
    <pre>      return results;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5983</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5984</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5985</th>
  <td class="line-code diff_in">
    <pre>    findElement: function(elements, expression, index) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5986</th>
  <td class="line-code diff_in">
    <pre>      index = index || 0;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5987</th>
  <td class="line-code diff_in">
    <pre>      var matchIndex = 0, element;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5988</th>
  <td class="line-code diff_in">
    <pre>      for (var i = 0, length = elements.length; i &lt; length; i++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5989</th>
  <td class="line-code diff_in">
    <pre>        element = elements[i];
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5990</th>
  <td class="line-code diff_in">
    <pre>        if (Prototype.Selector.match(element, expression) &amp;&amp; index === matchIndex++) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5991</th>
  <td class="line-code diff_in">
    <pre>          return Element.extend(element);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5992</th>
  <td class="line-code diff_in">
    <pre>        }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5993</th>
  <td class="line-code diff_in">
    <pre>      }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5994</th>
  <td class="line-code diff_in">
    <pre>    },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5995</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5996</th>
  <td class="line-code diff_in">
    <pre>    findChildElements: function(element, expressions) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5997</th>
  <td class="line-code diff_in">
    <pre>      var selector = expressions.toArray().join(', ');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5998</th>
  <td class="line-code diff_in">
    <pre>      return Prototype.Selector.select(selector, element || document);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5999</th>
  <td class="line-code diff_in">
    <pre>    }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6000</th>
  <td class="line-code diff_in">
    <pre>  });
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6001</th>
  <td class="line-code diff_in">
    <pre>})();
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid-selector/remcomments.sed
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>#!/bin/sed -nf
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre># Remove C and C++ comments, by Brian Hiles (brian_hiles@rocketmail.com)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre># Sped up (and bugfixed to some extent) by Paolo Bonzini (bonzini@gnu.org)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre># Works its way through the line, copying to hold space the text up to the
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre># first special character (/, &quot;, ').  The original version went exactly a
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre># character at a time, hence the greater speed of this one.  But the concept
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre># and especially the trick of building the line in hold space are entirely
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre># merit of Brian.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>:loop
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre># This line is sufficient to remove C++ comments!
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>/^\/\// s,.*,,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>/^$/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>  x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  p
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>  n
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>  b loop
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>/^&quot;/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>  :double
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>  /^$/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>    x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>    p
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>    n
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>    /^&quot;/b break
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>    b double
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>  H
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>  x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>  s,\n\(.[^\&quot;]*\).*,\1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>  x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>  s,.[^\&quot;]*,,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>  /^&quot;/b break
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>  /^\\/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>    H
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>    x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>    s,\n\(.\).*,\1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">44</th>
  <td class="line-code diff_in">
    <pre>    x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">45</th>
  <td class="line-code diff_in">
    <pre>    s/.//
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">46</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>  b double
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">48</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>/^'/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>  :single
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">52</th>
  <td class="line-code diff_in">
    <pre>  /^$/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>    x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>    p
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    n
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>    /^'/b break
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>    b single
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>  H
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>  x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>  s,\n\(.[^\']*\).*,\1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>  x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>  s,.[^\']*,,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>  /^'/b break
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>  /^\\/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>    H
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>    x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>    s,\n\(.\).*,\1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>    x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>    s/.//
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">72</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>  b single
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>/^\/\*/{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>  s/.//
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>  :ccom
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>  s,^.[^*]*,,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>  /^$/ n
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>  /^\*\//{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>    s/..//
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>    b loop
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>  }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>  b ccom
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>:break
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>H
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>s,\n\(.[^&quot;'/]*\).*,\1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>x
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>s/.[^&quot;'/]*//
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>b loop
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/javascripts/openid.js
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>/*
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>	Simple OpenID Plugin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>	http://code.google.com/p/openid-selector/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>	
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>	This code is licensed under the New BSD License.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>*/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>var providers;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>var openid = {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>	version : '1.3', // version constant
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>	demo : false,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>	demo_text : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>	cookie_expires : 6 * 30, // 6 months.
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">15</th>
  <td class="line-code diff_in">
    <pre>	cookie_name : 'openid_provider',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>	cookie_path : '/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>	img_path : 'openid-selector/images/',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>	locale : null, // is set in openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">20</th>
  <td class="line-code diff_in">
    <pre>	sprite : null, // usually equals to locale, is set in
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">21</th>
  <td class="line-code diff_in">
    <pre>	// openid-&lt;locale&gt;.js
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>	signin_text : null, // text on submit button on the form
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">23</th>
  <td class="line-code diff_in">
    <pre>	all_small : false, // output large providers w/ small icons
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">24</th>
  <td class="line-code diff_in">
    <pre>	no_sprite : false, // don't use sprite image
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">25</th>
  <td class="line-code diff_in">
    <pre>	image_title : '{provider}', // for image title
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">27</th>
  <td class="line-code diff_in">
    <pre>	input_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>	provider_url : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>	provider_id : null,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">31</th>
  <td class="line-code diff_in">
    <pre>	/**
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>	 * Class constructor
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">33</th>
  <td class="line-code diff_in">
    <pre>	 * 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>	 * @return {Void}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">35</th>
  <td class="line-code diff_in">
    <pre>	 */
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>	init : function(input_id) {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>		providers = {};
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>		Object.extend(providers, providers_large);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>		Object.extend(providers, providers_small);
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>		var openid_btns = $('openid_btns');
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>		this.input_id = input_id;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">42</th>
  <td class="line-code diff_in">
    <pre>		$('openid_choice').setStyle({
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">43</th>
  <td class="line-code diff_in">
    <pre>			display: 'block'
</pre>
  </td>
</tr>
</tbody>
</table>
</div>

... This diff was truncated because it exceeds the maximum size that can be displayed.


<p class="other-formats">(Other formats not available in this archive.</p>




        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

<!-- Mirrored from redmine.ogf.org/projects/redmine-og/repository/revisions/4ce0e021f41bd8092b90a60201a2f519ec398479/diff by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Sep 2022 17:36:04 GMT -->
</html>
