<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from redmine.ogf.org/projects/redmine-og/repository/revisions/1bd5e58c847816ae5751ee0026e55597d1541dd4/diff by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Sep 2022 22:40:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>/ - Diff - Redmine - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="7RiXtn8JMoxXZTBSrtL64n0O2gGmxf69GTM4qjOvQSI="/>
<link rel='shortcut icon' href='https://redmine.ogf.org/favicon.ico?1425381960' />
<link href="https://redmine.ogf.org/themes/ogf_redmine/stylesheets/application.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="https://redmine.ogf.org/javascripts/prototype.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/effects.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/dragdrop.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/controls.js?1425381960" type="text/javascript"></script>
<script src="https://redmine.ogf.org/javascripts/application.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="https://redmine.ogf.org/plugin_assets/extended_fields/stylesheets/extended_fields.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="https://redmine.ogf.org/plugin_assets/wiking/stylesheets/wiking.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

<link href="https://redmine.ogf.org/stylesheets/scm.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
</head>
<body class="theme-Ogf redmine controller-repositories action-diff">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="https://redmine.ogf.org/login" class="login">Login</a></li>
<li><a href="https://redmine.ogf.org/account/register" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="https://redmine.ogf.org/" class="home">Home</a></li>
<li><a href="https://redmine.ogf.org/projects" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/redmine-og" method="get">
        <input name="changesets" type="hidden" value="1" />
        <label for='q'>
          <a href="https://redmine.ogf.org/search/index/redmine-og" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="https://redmine.ogf.org/projects/operations?jump=repository" class="root">Operations</a> » <a href="https://redmine.ogf.org/projects/it-og?jump=repository" class="ancestor">IT</a> » Redmine</h1>

    
    <div id="main-menu">
        <ul><li><a href="https://redmine.ogf.org/projects/redmine-og" class="overview">Overview</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/issues" class="issues">Issues</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/issues/calendar" class="calendar">Calendar</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/news" class="news">News</a></li>
<li><a href="https://redmine.ogf.org/dmsf/redmine-og" class="dmsf">Documents</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/wiki" class="wiki">Wiki</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/files" class="files">Files</a></li>
<li><a href="https://redmine.ogf.org/projects/redmine-og/repository" class="repository selected">Repository</a></li></ul>
    </div>
    
</div>

<div class="nosidebar" id="main">
    <div id="sidebar">
        
        
  
  


    </div>

    <div id="content">
        
        <h2>Revision 1bd5e58c </h2>

<!-- Choose view type -->
<form action="https://redmine.ogf.org/projects/redmine-og/repository/diff" method="get">
  <input id="rev" name="rev" type="hidden" value="1bd5e58c847816ae5751ee0026e55597d1541dd4" />
  
  <p>
    <label>View differences</label>
    <select id="type" name="type" onchange="if (this.value != '') {this.form.submit()}"><option value="inline" selected="selected">inline</option>
<option value="sbs">side by side</option></select>
  </p>
</form>


<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/controllers/repositories_controller.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">28</th>
  <th class="line-num">28</th>
  <td class="line-code ">
    <pre>  default_search_scope :changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">29</th>
  <th class="line-num">29</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">30</th>
  <th class="line-num">30</th>
  <td class="line-code ">
    <pre>  before_filter :find_project_by_project_id, :only =&gt; [:new, :create]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">31</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  before_filter :check_repository_uniqueness, :only =&gt; [:new, :create]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">32</th>
  <th class="line-num">31</th>
  <td class="line-code ">
    <pre>  before_filter :find_repository, :only =&gt; [:edit, :update, :destroy, :committers]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">33</th>
  <th class="line-num">32</th>
  <td class="line-code ">
    <pre>  before_filter :find_project_repository, :except =&gt; [:new, :create, :edit, :update, :destroy, :committers]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">34</th>
  <th class="line-num">33</th>
  <td class="line-code ">
    <pre>  before_filter :authorize
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">39</th>
  <th class="line-num">38</th>
  <td class="line-code ">
    <pre>  def new
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">40</th>
  <th class="line-num">39</th>
  <td class="line-code ">
    <pre>    scm = params[:repository_scm] || Redmine::Scm::Base.all.first
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">41</th>
  <th class="line-num">40</th>
  <td class="line-code ">
    <pre>    @repository = Repository.factory(scm)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>    @repository.is_default = @project.repository.nil?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">42</th>
  <th class="line-num">42</th>
  <td class="line-code ">
    <pre>    @repository.project = @project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">43</th>
  <th class="line-num">43</th>
  <td class="line-code ">
    <pre>    render :layout =&gt; !request.xhr?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">44</th>
  <th class="line-num">44</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">97</th>
  <th class="line-num">97</th>
  <td class="line-code ">
    <pre>      (show_error_not_found; return) unless @entries
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">98</th>
  <th class="line-num">98</th>
  <td class="line-code ">
    <pre>      @changesets = @repository.latest_changesets(@path, @rev)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">99</th>
  <th class="line-num">99</th>
  <td class="line-code ">
    <pre>      @properties = @repository.properties(@path, @rev)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">100</th>
  <td class="line-code diff_in">
    <pre>      @repositories = @project.repositories
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">100</th>
  <th class="line-num">101</th>
  <td class="line-code ">
    <pre>      render :action =&gt; 'show'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">101</th>
  <th class="line-num">102</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">102</th>
  <th class="line-num">103</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">255</th>
  <th class="line-num">256</th>
  <td class="line-code ">
    <pre>    render_404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">256</th>
  <th class="line-num">257</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">257</th>
  <th class="line-num">258</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">258</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  # TODO: remove it when multiple SCM support is added
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">259</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def check_repository_uniqueness
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">260</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    if @project.repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">261</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      redirect_to settings_project_path(@project, :tab =&gt; 'repositories')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">262</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">263</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">264</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">265</th>
  <th class="line-num">259</th>
  <td class="line-code ">
    <pre>  REV_PARAM_RE = %r{\A[a-f0-9]*\Z}i
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">266</th>
  <th class="line-num">260</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">267</th>
  <th class="line-num">261</th>
  <td class="line-code ">
    <pre>  def find_project_repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">268</th>
  <th class="line-num">262</th>
  <td class="line-code ">
    <pre>    @project = Project.find(params[:id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">269</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    @repository = @project.repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>    if params[:repository_id].present?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>      @repository = @project.repositories.find_by_identifier_param(params[:repository_id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>      @repository = @project.repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">270</th>
  <th class="line-num">268</th>
  <td class="line-code ">
    <pre>    (render_404; return false) unless @repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">271</th>
  <th class="line-num">269</th>
  <td class="line-code ">
    <pre>    @path = params[:path].join('/') unless params[:path].nil?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">272</th>
  <th class="line-num">270</th>
  <td class="line-code ">
    <pre>    @path ||= ''
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/controllers/sys_controller.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">19</th>
  <th class="line-num">19</th>
  <td class="line-code ">
    <pre>  before_filter :check_enabled
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">20</th>
  <th class="line-num">20</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">21</th>
  <th class="line-num">21</th>
  <td class="line-code ">
    <pre>  def projects
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">22</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    p = Project.active.has_module(:repository).find(:all, :include =&gt; :repository, :order =&gt; <span>'identifier'</span>)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>    p = Project.active.has_module(:repository).find(:all, :include =&gt; :repository, :order =&gt; <span>&quot;#{Project.table_name}.identifier&quot;</span>)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">23</th>
  <th class="line-num">23</th>
  <td class="line-code ">
    <pre>    # extra_info attribute from repository breaks activeresource client
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">24</th>
  <th class="line-num">24</th>
  <td class="line-code ">
    <pre>    render :xml =&gt; p.to_xml(:only =&gt; [:id, :identifier, :name, :is_public, :status], :include =&gt; {:repository =&gt; {:only =&gt; [:id, :url]}})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">25</th>
  <th class="line-num">25</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">44</th>
  <th class="line-num">44</th>
  <td class="line-code ">
    <pre>    if params[:id]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">45</th>
  <th class="line-num">45</th>
  <td class="line-code ">
    <pre>      projects &lt;&lt; Project.active.has_module(:repository).find(params[:id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">46</th>
  <th class="line-num">46</th>
  <td class="line-code ">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">47</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      projects = Project.active.has_module(:repository).<span>find(:all, :include =&gt; :repository)</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">47</th>
  <td class="line-code diff_in">
    <pre>      projects = Project.active.has_module(:repository).<span>all</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">48</th>
  <th class="line-num">48</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">49</th>
  <th class="line-num">49</th>
  <td class="line-code ">
    <pre>    projects.each do |project|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">50</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      <span>if project.repository</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">51</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>        <span>project.</span>repository.fetch_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>      <span>project.repositories.each do |repository|</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>        <span></span>repository.fetch_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">52</th>
  <th class="line-num">52</th>
  <td class="line-code ">
    <pre>      end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">53</th>
  <th class="line-num">53</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">54</th>
  <th class="line-num">54</th>
  <td class="line-code ">
    <pre>    render :nothing =&gt; true, :status =&gt; 200
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/helpers/application_helper.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">106</th>
  <th class="line-num">106</th>
  <td class="line-code ">
    <pre>  # Generates a link to a SCM revision
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">107</th>
  <th class="line-num">107</th>
  <td class="line-code ">
    <pre>  # Options:
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">108</th>
  <th class="line-num">108</th>
  <td class="line-code ">
    <pre>  # * :text - Link text (default to the formatted revision)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">109</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def link_to_revision(revision, project, options={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>  def link_to_revision(revision, repository, options={})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>    if repository.is_a?(Project)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>      repository = repository.repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">110</th>
  <th class="line-num">113</th>
  <td class="line-code ">
    <pre>    text = options.delete(:text) || format_revision(revision)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">111</th>
  <th class="line-num">114</th>
  <td class="line-code ">
    <pre>    rev = revision.respond_to?(:identifier) ? revision.identifier : revision
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">112</th>
  <th class="line-num">115</th>
  <td class="line-code ">
    <pre>    link_to(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">113</th>
  <th class="line-num">116</th>
  <td class="line-code ">
    <pre>        h(text),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">114</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>        {:controller =&gt; 'repositories', :action =&gt; 'revision', :id =&gt; <span>project</span>, :rev =&gt; rev},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>        {:controller =&gt; 'repositories', :action =&gt; 'revision', :id =&gt; <span>repository.project, :repository_id =&gt; repository.identifier_param</span>, :rev =&gt; rev},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">115</th>
  <th class="line-num">118</th>
  <td class="line-code ">
    <pre>        :title =&gt; l(:label_revision_id, format_revision(revision))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">116</th>
  <th class="line-num">119</th>
  <td class="line-code ">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">117</th>
  <th class="line-num">120</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/helpers/repositories_helper.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">92</th>
  <th class="line-num">92</th>
  <td class="line-code ">
    <pre>        text = link_to(h(text), :controller =&gt; 'repositories',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">93</th>
  <th class="line-num">93</th>
  <td class="line-code ">
    <pre>                             :action =&gt; 'show',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">94</th>
  <th class="line-num">94</th>
  <td class="line-code ">
    <pre>                             :id =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>                             :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">95</th>
  <th class="line-num">96</th>
  <td class="line-code ">
    <pre>                             :path =&gt; path_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">96</th>
  <th class="line-num">97</th>
  <td class="line-code ">
    <pre>                             :rev =&gt; @changeset.identifier)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">97</th>
  <th class="line-num">98</th>
  <td class="line-code ">
    <pre>        output &lt;&lt; &quot;&lt;li class='#{style}'&gt;#{text}&quot;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">103</th>
  <th class="line-num">104</th>
  <td class="line-code ">
    <pre>        text = link_to(h(text), :controller =&gt; 'repositories',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">104</th>
  <th class="line-num">105</th>
  <td class="line-code ">
    <pre>                             :action =&gt; 'entry',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">105</th>
  <th class="line-num">106</th>
  <td class="line-code ">
    <pre>                             :id =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">107</th>
  <td class="line-code diff_in">
    <pre>                             :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">106</th>
  <th class="line-num">108</th>
  <td class="line-code ">
    <pre>                             :path =&gt; path_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">107</th>
  <th class="line-num">109</th>
  <td class="line-code ">
    <pre>                             :rev =&gt; @changeset.identifier) unless c.action == 'D'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">108</th>
  <th class="line-num">110</th>
  <td class="line-code ">
    <pre>        text &lt;&lt; &quot; - #{h(c.revision)}&quot; unless c.revision.blank?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">109</th>
  <th class="line-num">111</th>
  <td class="line-code ">
    <pre>        text &lt;&lt; ' ('.html_safe + link_to(l(:label_diff), :controller =&gt; 'repositories',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">110</th>
  <th class="line-num">112</th>
  <td class="line-code ">
    <pre>                                       :action =&gt; 'diff',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">111</th>
  <th class="line-num">113</th>
  <td class="line-code ">
    <pre>                                       :id =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>                                       :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">112</th>
  <th class="line-num">115</th>
  <td class="line-code ">
    <pre>                                       :path =&gt; path_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">113</th>
  <th class="line-num">116</th>
  <td class="line-code ">
    <pre>                                       :rev =&gt; @changeset.identifier) + ') '.html_safe if c.action == 'M'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">114</th>
  <th class="line-num">117</th>
  <td class="line-code ">
    <pre>        text &lt;&lt; ' '.html_safe + content_tag('span', h(c.from_path), :class =&gt; 'copied-from') unless c.from_path.blank?
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/models/project.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">46</th>
  <th class="line-num">46</th>
  <td class="line-code ">
    <pre>  has_many :news, :dependent =&gt; :destroy, :include =&gt; :author
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">47</th>
  <th class="line-num">47</th>
  <td class="line-code ">
    <pre>  has_many :issue_categories, :dependent =&gt; :delete_all, :order =&gt; &quot;#{IssueCategory.table_name}.name&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">48</th>
  <th class="line-num">48</th>
  <td class="line-code ">
    <pre>  has_many :boards, :dependent =&gt; :destroy, :order =&gt; &quot;position ASC&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">49</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  has_one :repository, :dependent =&gt; :destroy
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">49</th>
  <td class="line-code diff_in">
    <pre>  has_one :repository, :conditions =&gt; [&quot;is_default = ?&quot;, true]
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">50</th>
  <td class="line-code diff_in">
    <pre>  has_many :repositories, :dependent =&gt; :destroy
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">50</th>
  <th class="line-num">51</th>
  <td class="line-code ">
    <pre>  has_many :changesets, :through =&gt; :repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">51</th>
  <th class="line-num">52</th>
  <td class="line-code ">
    <pre>  has_one :wiki, :dependent =&gt; :destroy
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">52</th>
  <th class="line-num">53</th>
  <td class="line-code ">
    <pre>  # Custom field for the project issues
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/models/repository.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">26</th>
  <th class="line-num">26</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">27</th>
  <th class="line-num">27</th>
  <td class="line-code ">
    <pre>  serialize :extra_info
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">28</th>
  <th class="line-num">28</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">29</th>
  <td class="line-code diff_in">
    <pre>  before_save :check_default
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">30</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">29</th>
  <th class="line-num">31</th>
  <td class="line-code ">
    <pre>  # Raw SQL to delete changesets and changes in the database
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">30</th>
  <th class="line-num">32</th>
  <td class="line-code ">
    <pre>  # has_many :changesets, :dependent =&gt; :destroy is too slow for big repositories
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">31</th>
  <th class="line-num">33</th>
  <td class="line-code ">
    <pre>  before_destroy :clear_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">32</th>
  <th class="line-num">34</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">33</th>
  <th class="line-num">35</th>
  <td class="line-code ">
    <pre>  validates_length_of :password, :maximum =&gt; 255, :allow_nil =&gt; true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">36</th>
  <td class="line-code diff_in">
    <pre>  validates_length_of :identifier, :maximum =&gt; 255, :allow_blank =&gt; true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">37</th>
  <td class="line-code diff_in">
    <pre>  validates_presence_of :identifier, :unless =&gt; Proc.new { |r| r.is_default? || r.set_as_default? }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">38</th>
  <td class="line-code diff_in">
    <pre>  validates_uniqueness_of :identifier, :scope =&gt; :project_id, :allow_blank =&gt; true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>  validates_exclusion_of :identifier, :in =&gt; %w(show entry raw changes annotate diff show stats graph)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">40</th>
  <td class="line-code diff_in">
    <pre>  # donwcase letters, digits, dashes but not digits only
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>  validates_format_of :identifier, :with =&gt; /^(?!\d+$)[a-z0-9\-]*$/, :allow_blank =&gt; true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">34</th>
  <th class="line-num">42</th>
  <td class="line-code ">
    <pre>  # Checks if the SCM is enabled when creating a repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">35</th>
  <th class="line-num">43</th>
  <td class="line-code ">
    <pre>  validate :repo_create_validation, :on =&gt; :create
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">36</th>
  <th class="line-num">44</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">65</th>
  <th class="line-num">73</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">66</th>
  <th class="line-num">74</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">67</th>
  <th class="line-num">75</th>
  <td class="line-code ">
    <pre>    send :attributes_without_extra_info=, p, guard_protected_attributes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">68</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    merge_extra_info(p_extra)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>    if p_extra.keys.any?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>      merge_extra_info(p_extra)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">69</th>
  <th class="line-num">79</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">70</th>
  <th class="line-num">80</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">71</th>
  <th class="line-num">81</th>
  <td class="line-code ">
    <pre>  # Removes leading and trailing whitespace
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">101</th>
  <th class="line-num">111</th>
  <td class="line-code ">
    <pre>    self.class.scm_name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">102</th>
  <th class="line-num">112</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">103</th>
  <th class="line-num">113</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>  def name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>    if is_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>      l(:field_repository_is_default)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>    elsif identifier.present?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>      identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">120</th>
  <td class="line-code diff_in">
    <pre>      scm_name
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">121</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">122</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>  def identifier_param
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>    if is_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>      nil
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>    elsif identifier.present?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">128</th>
  <td class="line-code diff_in">
    <pre>      identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">129</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">130</th>
  <td class="line-code diff_in">
    <pre>      id.to_s
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">131</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">132</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">133</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">134</th>
  <td class="line-code diff_in">
    <pre>  def &lt;=&gt;(repository)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">135</th>
  <td class="line-code diff_in">
    <pre>    if is_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">136</th>
  <td class="line-code diff_in">
    <pre>      -1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">137</th>
  <td class="line-code diff_in">
    <pre>    elsif repository.is_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">138</th>
  <td class="line-code diff_in">
    <pre>      1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">139</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">140</th>
  <td class="line-code diff_in">
    <pre>      identifier &lt;=&gt; repository.identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">141</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">142</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">143</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">144</th>
  <td class="line-code diff_in">
    <pre>  def self.find_by_identifier_param(param)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">145</th>
  <td class="line-code diff_in">
    <pre>    if param.to_s =~ /^\d+$/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">146</th>
  <td class="line-code diff_in">
    <pre>      find_by_id(param)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">147</th>
  <td class="line-code diff_in">
    <pre>    else
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">148</th>
  <td class="line-code diff_in">
    <pre>      find_by_identifier(param)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">149</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">150</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">151</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">104</th>
  <th class="line-num">152</th>
  <td class="line-code ">
    <pre>  def merge_extra_info(arg)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">105</th>
  <th class="line-num">153</th>
  <td class="line-code ">
    <pre>    h = extra_info || {}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">106</th>
  <th class="line-num">154</th>
  <td class="line-code ">
    <pre>    return h if arg.nil?
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">269</th>
  <th class="line-num">317</th>
  <td class="line-code ">
    <pre>  # Can be called periodically by an external script
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">270</th>
  <th class="line-num">318</th>
  <td class="line-code ">
    <pre>  # eg. ruby script/runner &quot;Repository.fetch_changesets&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">271</th>
  <th class="line-num">319</th>
  <td class="line-code ">
    <pre>  def self.fetch_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">272</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    Project.active.has_module(:repository).<span>find(:all, :include =&gt; :repository)</span>.each do |project|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">273</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      <span>if project.repository</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>    Project.active.has_module(:repository).<span>all</span>.each do |project|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>      <span>project.repositories.each do |repository|</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">274</th>
  <th class="line-num">322</th>
  <td class="line-code ">
    <pre>        begin
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">275</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>          <span>project.</span>repository.fetch_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">323</th>
  <td class="line-code diff_in">
    <pre>          <span></span>repository.fetch_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">276</th>
  <th class="line-num">324</th>
  <td class="line-code ">
    <pre>        rescue Redmine::Scm::Adapters::CommandFailed =&gt; e
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">277</th>
  <th class="line-num">325</th>
  <td class="line-code ">
    <pre>          logger.error &quot;scm: error during fetching changesets: #{e.message}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">278</th>
  <th class="line-num">326</th>
  <td class="line-code ">
    <pre>        end
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">334</th>
  <th class="line-num">382</th>
  <td class="line-code ">
    <pre>    ret
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">335</th>
  <th class="line-num">383</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">336</th>
  <th class="line-num">384</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">385</th>
  <td class="line-code diff_in">
    <pre>  def set_as_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">386</th>
  <td class="line-code diff_in">
    <pre>    new_record? &amp;&amp; project &amp;&amp; !Repository.first(:conditions =&gt; {:project_id =&gt; project.id})
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">387</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">388</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">389</th>
  <td class="line-code diff_in">
    <pre>  protected
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">390</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">391</th>
  <td class="line-code diff_in">
    <pre>  def check_default
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">392</th>
  <td class="line-code diff_in">
    <pre>    if !is_default? &amp;&amp; set_as_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">393</th>
  <td class="line-code diff_in">
    <pre>      self.is_default = true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">394</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">395</th>
  <td class="line-code diff_in">
    <pre>    if is_default? &amp;&amp; is_default_changed?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">396</th>
  <td class="line-code diff_in">
    <pre>      Repository.update_all([&quot;is_default = ?&quot;, false], [&quot;project_id = ?&quot;, project_id])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">397</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">398</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">399</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">337</th>
  <th class="line-num">400</th>
  <td class="line-code ">
    <pre>  private
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">338</th>
  <th class="line-num">401</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">339</th>
  <th class="line-num">402</th>
  <td class="line-code ">
    <pre>  def clear_changesets
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/issues/_changesets.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre>&lt;% changesets.each do |changeset| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre>    &lt;div class=&quot;changeset &lt;%= cycle('odd', 'even') %&gt;&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    &lt;p&gt;&lt;%= link_to_revision(changeset, changeset.<span>project</span>,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    &lt;p&gt;&lt;%= link_to_revision(changeset, changeset.<span>repository</span>,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>                            :text =&gt; &quot;#{l(:label_revision)} #{changeset.format_identifier}&quot;) %&gt;&lt;br /&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>        &lt;span class=&quot;author&quot;&gt;&lt;%= authoring(changeset.committed_on, changeset.author) %&gt;&lt;/span&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">6</th>
  <td class="line-code ">
    <pre>    &lt;div class=&quot;wiki&quot;&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/projects/settings/_repositories.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;% if @project.repositor<span>y</span> %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;% if @project.repositor<span>ies.any?</span> %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre>&lt;table class=&quot;list&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>  &lt;thead&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>  	&lt;tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>      &lt;th&gt;&lt;%= l(:label_scm) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      &lt;th&gt;&lt;%= l(:field_identifier) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>      &lt;th&gt;&lt;%= l(:field_repository_is_default) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>      &lt;th&gt;&lt;%= l(:label_repository) %&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>      &lt;th&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">10</th>
  <td class="line-code ">
    <pre>    &lt;/tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">11</th>
  <td class="line-code ">
    <pre>	&lt;/thead&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>  &lt;tbody&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  &lt;% <span>repository = @project.repository</span> %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  &lt;% <span>@project.repositories.each do |repository|</span> %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">14</th>
  <td class="line-code ">
    <pre>	  &lt;tr class=&quot;&lt;%= cycle 'odd', 'even' %&gt;&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num">15</th>
  <td class="line-code ">
    <pre>	  	&lt;td&gt;&lt;%=h repository.scm_name %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">16</th>
  <td class="line-code diff_in">
    <pre>      &lt;td&gt;&lt;%=h repository.identifier %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">17</th>
  <td class="line-code diff_in">
    <pre>      &lt;td align=&quot;center&quot;&gt;&lt;%= checked_image repository.is_default? %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">14</th>
  <th class="line-num">18</th>
  <td class="line-code ">
    <pre>			&lt;td&gt;&lt;%=h repository.url %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">15</th>
  <th class="line-num">19</th>
  <td class="line-code ">
    <pre>			&lt;td class=&quot;buttons&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">16</th>
  <th class="line-num">20</th>
  <td class="line-code ">
    <pre>			&lt;% if User.current.allowed_to?(:manage_repository, @project) %&gt;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">25</th>
  <th class="line-num">29</th>
  <td class="line-code ">
    <pre>			&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">26</th>
  <th class="line-num">30</th>
  <td class="line-code ">
    <pre>			&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">27</th>
  <th class="line-num">31</th>
  <td class="line-code ">
    <pre>	  &lt;/tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">32</th>
  <td class="line-code diff_in">
    <pre>  &lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">28</th>
  <th class="line-num">33</th>
  <td class="line-code ">
    <pre>  &lt;/tbody&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">29</th>
  <th class="line-num">34</th>
  <td class="line-code ">
    <pre>&lt;/table&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">30</th>
  <th class="line-num">35</th>
  <td class="line-code ">
    <pre>&lt;% else %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">31</th>
  <th class="line-num">36</th>
  <td class="line-code ">
    <pre>&lt;p class=&quot;nodata&quot;&gt;&lt;%= l(:label_no_data) %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">32</th>
  <th class="line-num">37</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">33</th>
  <th class="line-num">38</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">34</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;% if <span>@project.repository.nil? &amp;&amp; </span>User.current.allowed_to?(:manage_repository, @project) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>&lt;% if <span></span>User.current.allowed_to?(:manage_repository, @project) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">35</th>
  <th class="line-num">40</th>
  <td class="line-code ">
    <pre>  &lt;p&gt;&lt;%= link_to l(:label_repository_new), new_project_repository_path(@project), :class =&gt; 'icon icon-add' %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">36</th>
  <th class="line-num">41</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/_breadcrumbs.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;%= link_to 'root', :action =&gt; 'show', :id =&gt; @project, :<span></span>path =&gt; '', :rev =&gt; @rev %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>&lt;%= link_to 'root', :action =&gt; 'show', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>path =&gt; '', :rev =&gt; @rev %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre>&lt;%
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>dirs = path.split('/')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>if 'file' == kind
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">10</th>
  <th class="line-num">10</th>
  <td class="line-code ">
    <pre>    link_path &lt;&lt; '/' unless link_path.empty?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num">11</th>
  <td class="line-code ">
    <pre>    link_path &lt;&lt; &quot;#{dir}&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>    %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    / &lt;%= link_to h(dir), :action =&gt; 'show', :id =&gt; @project,<span></span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>    / &lt;%= link_to h(dir), :action =&gt; 'show', :id =&gt; @project,<span> :repository_id =&gt; @repository.identifier_param,</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">14</th>
  <th class="line-num">14</th>
  <td class="line-code ">
    <pre>                :path =&gt; to_path_param(link_path), :rev =&gt; @rev %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">15</th>
  <th class="line-num">15</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">16</th>
  <th class="line-num">16</th>
  <td class="line-code ">
    <pre>&lt;% if filename %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">17</th>
  <th class="line-num">17</th>
  <td class="line-code ">
    <pre>    / &lt;%= link_to h(filename),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">18</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                   :action =&gt; 'changes', :id =&gt; @project,<span></span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">18</th>
  <td class="line-code diff_in">
    <pre>                   :action =&gt; 'changes', :id =&gt; @project,<span> :repository_id =&gt; @repository.identifier_param,</span>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">19</th>
  <th class="line-num">19</th>
  <td class="line-code ">
    <pre>                   :path =&gt; to_path_param(&quot;#{link_path}/#{filename}&quot;), :rev =&gt; @rev %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">20</th>
  <th class="line-num">20</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">21</th>
  <th class="line-num">21</th>
  <td class="line-code ">
    <pre>&lt;%
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/_dir_list_content.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">11</th>
  <th class="line-num">11</th>
  <td class="line-code ">
    <pre>                  :url =&gt; {
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>                       :action =&gt; 'show',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num">13</th>
  <td class="line-code ">
    <pre>                       :id     =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>											 :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">14</th>
  <th class="line-num">15</th>
  <td class="line-code ">
    <pre>                       :path   =&gt; to_path_param(ent_path),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">15</th>
  <th class="line-num">16</th>
  <td class="line-code ">
    <pre>                       :rev    =&gt; @rev,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">16</th>
  <th class="line-num">17</th>
  <td class="line-code ">
    <pre>                       :depth  =&gt; (depth + 1),
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">24</th>
  <th class="line-num">25</th>
  <td class="line-code ">
    <pre>                ) %&gt;&quot;&gt;&amp;nbsp&lt;/span&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">25</th>
  <th class="line-num">26</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">26</th>
  <th class="line-num">27</th>
  <td class="line-code ">
    <pre>&lt;%=  link_to h(ent_name),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">27</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>          {:action =&gt; (entry.is_dir? ? 'show' : 'changes'), :id =&gt; @project, :<span></span>path =&gt; to_path_param(ent_path), :rev =&gt; @rev},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>          {:action =&gt; (entry.is_dir? ? 'show' : 'changes'), :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>path =&gt; to_path_param(ent_path), :rev =&gt; @rev},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">28</th>
  <th class="line-num">29</th>
  <td class="line-code ">
    <pre>          :class =&gt; (entry.is_dir? ? 'icon icon-folder' : &quot;icon icon-file #{Redmine::MimeType.css_class_of(ent_name)}&quot;)%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">29</th>
  <th class="line-num">30</th>
  <td class="line-code ">
    <pre>&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">30</th>
  <th class="line-num">31</th>
  <td class="line-code ">
    <pre>&lt;td class=&quot;size&quot;&gt;&lt;%= (entry.size ? number_to_human_size(entry.size) : &quot;?&quot;) unless entry.is_dir? %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">31</th>
  <th class="line-num">32</th>
  <td class="line-code ">
    <pre>&lt;% changeset = @project.repository.find_changeset_by_name(entry.lastrev.identifier) if entry.lastrev &amp;&amp; entry.lastrev.identifier %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">32</th>
  <th class="line-num">33</th>
  <td class="line-code ">
    <pre>&lt;% if @repository.report_last_commit %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">33</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;td class=&quot;revision&quot;&gt;&lt;%= link_to_revision(changeset, @<span>project</span>) if changeset %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">34</th>
  <td class="line-code diff_in">
    <pre>&lt;td class=&quot;revision&quot;&gt;&lt;%= link_to_revision(changeset, @<span>repository</span>) if changeset %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">34</th>
  <th class="line-num">35</th>
  <td class="line-code ">
    <pre>&lt;td class=&quot;age&quot;&gt;&lt;%= distance_of_time_in_words(entry.lastrev.time, Time.now) if entry.lastrev &amp;&amp; entry.lastrev.time %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">35</th>
  <th class="line-num">36</th>
  <td class="line-code ">
    <pre>&lt;td class=&quot;author&quot;&gt;&lt;%= changeset.nil? ? h(Redmine::CodesetUtil.replace_invalid_utf8(entry.lastrev.author.to_s.split('&lt;').first)) : h(changeset.author) if entry.lastrev %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">36</th>
  <th class="line-num">37</th>
  <td class="line-code ">
    <pre>&lt;td class=&quot;comments&quot;&gt;&lt;%=h truncate(changeset.comments, :length =&gt; 50) unless changeset.nil? %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/_form.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">10</th>
  <td class="line-code ">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num">11</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;&lt;%= f.text_field :identifier %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>&lt;p&gt;&lt;%= f.check_box :is_default, :label =&gt; :field_repository_is_default %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">15</th>
  <td class="line-code ">
    <pre>&lt;% button_disabled = true %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num">16</th>
  <td class="line-code ">
    <pre>&lt;% if @repository %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">14</th>
  <th class="line-num">17</th>
  <td class="line-code ">
    <pre>&lt;%   button_disabled = ! @repository.class.scm_available %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/_link_to_functions.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre>&lt;% if @entry &amp;&amp; @entry.kind == 'file' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;%= link_to_if action_name != 'changes', l(:label_history), {:action =&gt; 'changes', :id =&gt; @project, :<span></span>path =&gt; to_path_param(@path), :rev =&gt; @rev } %&gt; |
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;%= link_to_if action_name != 'changes', l(:label_history), {:action =&gt; 'changes', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>path =&gt; to_path_param(@path), :rev =&gt; @rev } %&gt; |
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>&lt;% if @repository.supports_cat? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    &lt;%= link_to_if action_name != 'entry', l(:button_view), {:action =&gt; 'entry', :id =&gt; @project, :<span></span>path =&gt; to_path_param(@path), :rev =&gt; @rev } %&gt; |
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>    &lt;%= link_to_if action_name != 'entry', l(:button_view), {:action =&gt; 'entry', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>path =&gt; to_path_param(@path), :rev =&gt; @rev } %&gt; |
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>&lt;% if @repository.supports_annotate? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    &lt;%= link_to_if action_name != 'annotate', l(:button_annotate), {:action =&gt; 'annotate', :id =&gt; @project, :<span></span>path =&gt; to_path_param(@path), :rev =&gt; @rev } %&gt; |
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>    &lt;%= link_to_if action_name != 'annotate', l(:button_annotate), {:action =&gt; 'annotate', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>path =&gt; to_path_param(@path), :rev =&gt; @rev } %&gt; |
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">10</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;%= link_to(l(:button_download), {:action =&gt; 'entry', :id =&gt; @project, :<span></span>path =&gt; to_path_param(@path), :rev =&gt; @rev, :format =&gt; 'raw' }) if @repository.supports_cat? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>&lt;%= link_to(l(:button_download), {:action =&gt; 'entry', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>path =&gt; to_path_param(@path), :rev =&gt; @rev, :format =&gt; 'raw' }) if @repository.supports_cat? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>&lt;%= &quot;(#{number_to_human_size(@entry.size)})&quot; if @entry.size %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num">13</th>
  <td class="line-code ">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">14</th>
  <th class="line-num">14</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/_navigation.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>&lt;%= link_to l(:label_statistics),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>            {:action =&gt; 'stats', :id =&gt; @project<span></span>},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>            {:action =&gt; 'stats', :id =&gt; @project<span>, :repository_id =&gt; @repository.identifier_param</span>},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>            :class =&gt; 'icon icon-stats' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>&lt;% form_tag({:action =&gt; controller.action_name,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">10</th>
  <td class="line-code ">
    <pre>             :id =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>             :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>             :path =&gt; to_path_param(@path),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">13</th>
  <td class="line-code ">
    <pre>             :rev =&gt; ''},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num">14</th>
  <td class="line-code ">
    <pre>            {:method =&gt; :get, :id =&gt; 'revision_selector'}) do -%&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/_revisions.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre>&lt;% show_revision_graph = ( @repository.supports_revision_graph? &amp;&amp; path.blank? ) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;% form_tag({:controller =&gt; 'repositories', :action =&gt; 'diff', :id =&gt; @project, :<span></span>path =&gt; to_path_param(path)}, :method =&gt; :get) do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;% form_tag({:controller =&gt; 'repositories', :action =&gt; 'diff', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>path =&gt; to_path_param(path)}, :method =&gt; :get) do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>&lt;table class=&quot;list changesets&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>&lt;thead&gt;&lt;tr&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>&lt;% if show_revision_graph %&gt;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">23</th>
  <th class="line-num">23</th>
  <td class="line-code ">
    <pre>      &lt;% href_base = Proc.new {|x| url_for(:controller =&gt; 'repositories',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">24</th>
  <th class="line-num">24</th>
  <td class="line-code ">
    <pre>                                           :action =&gt; 'revision',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">25</th>
  <th class="line-num">25</th>
  <td class="line-code ">
    <pre>                                           :id =&gt; project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">26</th>
  <td class="line-code diff_in">
    <pre>                                           :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">26</th>
  <th class="line-num">27</th>
  <td class="line-code ">
    <pre>                                           :rev =&gt; x) } %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">27</th>
  <th class="line-num">28</th>
  <td class="line-code ">
    <pre>      &lt;%= render :partial =&gt; 'revision_graph',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">28</th>
  <th class="line-num">29</th>
  <td class="line-code ">
    <pre>                 :locals =&gt; {
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">35</th>
  <th class="line-num">36</th>
  <td class="line-code ">
    <pre>    &lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">36</th>
  <th class="line-num">37</th>
  <td class="line-code ">
    <pre>  &lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">37</th>
  <th class="line-num">38</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">38</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;td class=&quot;id&quot;&gt;&lt;%= link_to_revision(changeset, <span>project</span>) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">39</th>
  <td class="line-code diff_in">
    <pre>&lt;td class=&quot;id&quot;&gt;&lt;%= link_to_revision(changeset, <span>@repository</span>) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">39</th>
  <th class="line-num">40</th>
  <td class="line-code ">
    <pre>&lt;td class=&quot;checkbox&quot;&gt;&lt;%= radio_button_tag('rev', changeset.identifier, (line_num==1), :id =&gt; &quot;cb-#{line_num}&quot;, :onclick =&gt; &quot;$('cbto-#{line_num+1}').checked=true;&quot;) if show_diff &amp;&amp; (line_num &lt; revisions.size) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">40</th>
  <th class="line-num">41</th>
  <td class="line-code ">
    <pre>&lt;td class=&quot;checkbox&quot;&gt;&lt;%= radio_button_tag('rev_to', changeset.identifier, (line_num==2), :id =&gt; &quot;cbto-#{line_num}&quot;, :onclick =&gt; &quot;if ($('cb-#{line_num}').checked==true) {$('cb-#{line_num-1}').checked=true;}&quot;) if show_diff &amp;&amp; (line_num &gt; 1) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">41</th>
  <th class="line-num">42</th>
  <td class="line-code ">
    <pre>&lt;td class=&quot;committed_on&quot;&gt;&lt;%= format_time(changeset.committed_on) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/annotate.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">19</th>
  <th class="line-num">19</th>
  <td class="line-code ">
    <pre>      &lt;tr class=&quot;bloc-&lt;%= revision.nil? ? 0 : colors[revision.identifier || revision.revision] %&gt;&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">20</th>
  <th class="line-num">20</th>
  <td class="line-code ">
    <pre>        &lt;th class=&quot;line-num&quot; id=&quot;L&lt;%= line_num %&gt;&quot;&gt;&lt;a href=&quot;#L&lt;%= line_num %&gt;&quot;&gt;&lt;%= line_num %&gt;&lt;/a&gt;&lt;/th&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">21</th>
  <th class="line-num">21</th>
  <td class="line-code ">
    <pre>        &lt;td class=&quot;revision&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">22</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>        &lt;%= (revision.identifier ? link_to_revision(revision, @<span>project</span>) : format_revision(revision)) if revision %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">22</th>
  <td class="line-code diff_in">
    <pre>        &lt;%= (revision.identifier ? link_to_revision(revision, @<span>repository</span>) : format_revision(revision)) if revision %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">23</th>
  <th class="line-num">23</th>
  <td class="line-code ">
    <pre>        &lt;td class=&quot;author&quot;&gt;&lt;%= h(revision.author.to_s.split('&lt;').first) if revision %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">24</th>
  <th class="line-num">24</th>
  <td class="line-code ">
    <pre>        &lt;td class=&quot;line-code&quot;&gt;&lt;pre&gt;&lt;%= line %&gt;&lt;/pre&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">25</th>
  <th class="line-num">25</th>
  <td class="line-code ">
    <pre>      &lt;/tr&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/revision.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre>&lt;div class=&quot;contextual&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre>  &amp;#171;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>  &lt;% unless @changeset.previous.nil? -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    &lt;%= link_to_revision(@changeset.previous, @<span>project</span>, :text =&gt; l(:label_previous)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    &lt;%= link_to_revision(@changeset.previous, @<span>repository</span>, :text =&gt; l(:label_previous)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>  &lt;% else -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">6</th>
  <td class="line-code ">
    <pre>    &lt;%= l(:label_previous) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>  &lt;% end -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>  &lt;% unless @changeset.next.nil? -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    &lt;%= link_to_revision(@changeset.next, @<span>project</span>, :text =&gt; l(:label_next)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>    &lt;%= link_to_revision(@changeset.next, @<span>repository</span>, :text =&gt; l(:label_next)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num">11</th>
  <td class="line-code ">
    <pre>  &lt;% else -%&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>    &lt;%= l(:label_next) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">13</th>
  <th class="line-num">13</th>
  <td class="line-code ">
    <pre>  &lt;% end -%&gt;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">16</th>
  <th class="line-num">16</th>
  <td class="line-code ">
    <pre>  &lt;% form_tag({:controller =&gt; 'repositories',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">17</th>
  <th class="line-num">17</th>
  <td class="line-code ">
    <pre>               :action     =&gt; 'revision',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">18</th>
  <th class="line-num">18</th>
  <td class="line-code ">
    <pre>               :id         =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>               :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">19</th>
  <th class="line-num">20</th>
  <td class="line-code ">
    <pre>               :rev        =&gt; nil},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">20</th>
  <th class="line-num">21</th>
  <td class="line-code ">
    <pre>               :method     =&gt; :get) do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">21</th>
  <th class="line-num">22</th>
  <td class="line-code ">
    <pre>    &lt;%= text_field_tag 'rev', @rev, :size =&gt; 8 %&gt;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">37</th>
  <th class="line-num">38</th>
  <td class="line-code ">
    <pre>      &lt;td&gt;&lt;%= l(:label_parent_revision) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">38</th>
  <th class="line-num">39</th>
  <td class="line-code ">
    <pre>      &lt;td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">39</th>
  <th class="line-num">40</th>
  <td class="line-code ">
    <pre>        &lt;%= @changeset.parents.collect{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">40</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>              |p| link_to_revision(p, @<span>project</span>, :text =&gt; format_revision(p))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>              |p| link_to_revision(p, @<span>repository</span>, :text =&gt; format_revision(p))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">41</th>
  <th class="line-num">42</th>
  <td class="line-code ">
    <pre>            }.join(&quot;, &quot;).html_safe %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">42</th>
  <th class="line-num">43</th>
  <td class="line-code ">
    <pre>      &lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">43</th>
  <th class="line-num">44</th>
  <td class="line-code ">
    <pre>    &lt;/tr&gt;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">47</th>
  <th class="line-num">48</th>
  <td class="line-code ">
    <pre>      &lt;td&gt;&lt;%= l(:label_child_revision) %&gt;&lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">48</th>
  <th class="line-num">49</th>
  <td class="line-code ">
    <pre>      &lt;td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">49</th>
  <th class="line-num">50</th>
  <td class="line-code ">
    <pre>       &lt;%= @changeset.children.collect{
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">50</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>              |p| link_to_revision(p, @<span>project</span>, :text =&gt; format_revision(p))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>              |p| link_to_revision(p, @<span>repository</span>, :text =&gt; format_revision(p))
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">51</th>
  <th class="line-num">52</th>
  <td class="line-code ">
    <pre>             }.join(&quot;, &quot;).html_safe %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">52</th>
  <th class="line-num">53</th>
  <td class="line-code ">
    <pre>      &lt;/td&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">53</th>
  <th class="line-num">54</th>
  <td class="line-code ">
    <pre>    &lt;/tr&gt;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">85</th>
  <th class="line-num">86</th>
  <td class="line-code ">
    <pre>&lt;p&gt;&lt;%= link_to(l(:label_view_diff),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">86</th>
  <th class="line-num">87</th>
  <td class="line-code ">
    <pre>               :action =&gt; 'diff',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">87</th>
  <th class="line-num">88</th>
  <td class="line-code ">
    <pre>               :id     =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>               :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">88</th>
  <th class="line-num">90</th>
  <td class="line-code ">
    <pre>               :path   =&gt; &quot;&quot;,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">89</th>
  <th class="line-num">91</th>
  <td class="line-code ">
    <pre>               :rev    =&gt; @changeset.identifier) if @changeset.changes.any? %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">90</th>
  <th class="line-num">92</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/revisions.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre>&lt;div class=&quot;contextual&quot;&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;% form_tag({:action =&gt; 'revision', :id =&gt; @project<span></span>}) do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>&lt;% form_tag({:action =&gt; 'revision', :id =&gt; @project<span>, :repository_id =&gt; @repository.identifier_param</span>}) do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>&lt;%=   l(:label_revision) %&gt;: &lt;%= text_field_tag 'rev', @rev, :size =&gt; 8 %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num">4</th>
  <td class="line-code ">
    <pre>&lt;%=   submit_tag 'OK' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/show.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">25</th>
  <th class="line-num">25</th>
  <td class="line-code ">
    <pre>     sep = ''
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">26</th>
  <th class="line-num">26</th>
  <td class="line-code ">
    <pre> %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">27</th>
  <th class="line-num">27</th>
  <td class="line-code ">
    <pre>&lt;%   if @repository.supports_all_revisions? &amp;&amp; @path.blank? %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">28</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;%= link_to l(:label_view_all_revisions), :action =&gt; 'revisions', :id =&gt; @project<span></span> %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">28</th>
  <td class="line-code diff_in">
    <pre>&lt;%= link_to l(:label_view_all_revisions), :action =&gt; 'revisions', :id =&gt; @project<span>, :repository_id =&gt; @repository.identifier_param</span> %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">29</th>
  <th class="line-num">29</th>
  <td class="line-code ">
    <pre>&lt;%   sep = '|' %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">30</th>
  <th class="line-num">30</th>
  <td class="line-code ">
    <pre>&lt;%   end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">31</th>
  <th class="line-num">31</th>
  <td class="line-code ">
    <pre>&lt;%
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">38</th>
  <th class="line-num">38</th>
  <td class="line-code ">
    <pre>                   :action =&gt; 'changes',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">39</th>
  <th class="line-num">39</th>
  <td class="line-code ">
    <pre>                   :path   =&gt; to_path_param(@path),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">40</th>
  <th class="line-num">40</th>
  <td class="line-code ">
    <pre>                   :id     =&gt; @project,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">41</th>
  <td class="line-code diff_in">
    <pre>                   :repository_id =&gt; @repository.identifier_param,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">41</th>
  <th class="line-num">42</th>
  <td class="line-code ">
    <pre>                   :rev    =&gt; @rev
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">42</th>
  <th class="line-num">43</th>
  <td class="line-code ">
    <pre>                   %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">43</th>
  <th class="line-num">44</th>
  <td class="line-code ">
    <pre>&lt;%   end %&gt;
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">52</th>
  <th class="line-num">53</th>
  <td class="line-code ">
    <pre>&lt;%     end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">53</th>
  <th class="line-num">54</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">54</th>
  <th class="line-num">55</th>
  <td class="line-code ">
    <pre>&lt;%     other_formats_links do |f| %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">55</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  &lt;%= f.link_to 'Atom', :url =&gt; {:action =&gt; 'revisions', :id =&gt; @project, :<span></span>key =&gt; User.current.rss_key} %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>  &lt;%= f.link_to 'Atom', :url =&gt; {:action =&gt; 'revisions', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>key =&gt; User.current.rss_key} %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">56</th>
  <th class="line-num">57</th>
  <td class="line-code ">
    <pre>&lt;%     end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">57</th>
  <th class="line-num">58</th>
  <td class="line-code ">
    <pre>&lt;%   end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">58</th>
  <th class="line-num">59</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">59</th>
  <th class="line-num">60</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>&lt;% if @repositories.size &gt; 1 %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>	&lt;% content_for :sidebar do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>	  &lt;h3&gt;&lt;%= l(:label_repository_plural) %&gt;&lt;/h3&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>	  &lt;%= @repositories.sort.collect {|repo|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>	        link_to h(repo.name), 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">66</th>
  <td class="line-code diff_in">
    <pre>                  {:controller =&gt; 'repositories', :action =&gt; 'show', :id =&gt; @project, :repository_id =&gt; repo.identifier_param, :rev =&gt; nil, :path =&gt; nil},
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">67</th>
  <td class="line-code diff_in">
    <pre>                  :class =&gt; 'repository' + (repo == @repository ? ' selected' : '')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">68</th>
  <td class="line-code diff_in">
    <pre>	      }.join('&lt;br /&gt;').html_safe %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">69</th>
  <td class="line-code diff_in">
    <pre>	&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">70</th>
  <td class="line-code diff_in">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">71</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">60</th>
  <th class="line-num">72</th>
  <td class="line-code ">
    <pre>&lt;% content_for :header_tags do %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">61</th>
  <th class="line-num">73</th>
  <td class="line-code ">
    <pre>&lt;%= stylesheet_link_tag &quot;scm&quot; %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">62</th>
  <th class="line-num">74</th>
  <td class="line-code ">
    <pre>&lt;% end %&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/app/views/repositories/stats.html.erb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre>&lt;h2&gt;&lt;%= l(:label_statistics) %&gt;&lt;/h2&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;%= tag(&quot;embed&quot;, :width =&gt; 800, :height =&gt; 300, :type =&gt; &quot;image/svg+xml&quot;, :src =&gt; url_for(:controller =&gt; 'repositories', :action =&gt; 'graph', :id =&gt; @project, :<span></span>graph =&gt; &quot;commits_per_month&quot;)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>&lt;%= tag(&quot;embed&quot;, :width =&gt; 800, :height =&gt; 300, :type =&gt; &quot;image/svg+xml&quot;, :src =&gt; url_for(:controller =&gt; 'repositories', :action =&gt; 'graph', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>graph =&gt; &quot;commits_per_month&quot;)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">6</th>
  <th class="line-num">6</th>
  <td class="line-code ">
    <pre>&lt;p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">7</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>&lt;%= tag(&quot;embed&quot;, :width =&gt; 800, :height =&gt; 400, :type =&gt; &quot;image/svg+xml&quot;, :src =&gt; url_for(:controller =&gt; 'repositories', :action =&gt; 'graph', :id =&gt; @project, :<span></span>graph =&gt; &quot;commits_per_author&quot;)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>&lt;%= tag(&quot;embed&quot;, :width =&gt; 800, :height =&gt; 400, :type =&gt; &quot;image/svg+xml&quot;, :src =&gt; url_for(:controller =&gt; 'repositories', :action =&gt; 'graph', :id =&gt; @project, :<span>repository_id =&gt; @repository.identifier_param, :</span>graph =&gt; &quot;commits_per_author&quot;)) %&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>&lt;/p&gt;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">10</th>
  <td class="line-code ">
    <pre>&lt;p&gt;&lt;%= link_to l(:button_back), :action =&gt; 'show', :id =&gt; @project %&gt;&lt;/p&gt;
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/config/locales/en.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">318</th>
  <th class="line-num">318</th>
  <td class="line-code ">
    <pre>  field_root_directory: Root directory
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">319</th>
  <th class="line-num">319</th>
  <td class="line-code ">
    <pre>  field_cvsroot: CVSROOT
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">320</th>
  <th class="line-num">320</th>
  <td class="line-code ">
    <pre>  field_cvs_module: Module
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>  field_repository_is_default: Main repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">321</th>
  <th class="line-num">322</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">322</th>
  <th class="line-num">323</th>
  <td class="line-code ">
    <pre>  setting_app_title: Application title
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">323</th>
  <th class="line-num">324</th>
  <td class="line-code ">
    <pre>  setting_app_subtitle: Application subtitle
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/config/locales/fr.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">317</th>
  <th class="line-num">317</th>
  <td class="line-code ">
    <pre>  field_issues_visibility: Visibilité des demandes
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">318</th>
  <th class="line-num">318</th>
  <td class="line-code ">
    <pre>  field_is_private: Privée
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">319</th>
  <th class="line-num">319</th>
  <td class="line-code ">
    <pre>  field_commit_logs_encoding: Encodage des messages de commit
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>  field_repository_is_default: Dépôt principal
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">320</th>
  <th class="line-num">321</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">321</th>
  <th class="line-num">322</th>
  <td class="line-code ">
    <pre>  setting_app_title: Titre de l'application
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">322</th>
  <th class="line-num">323</th>
  <td class="line-code ">
    <pre>  setting_app_subtitle: Sous-titre de l'application
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/config/routes.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">235</th>
  <th class="line-num">235</th>
  <td class="line-code ">
    <pre>                               :action =&gt; 'show'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">236</th>
  <th class="line-num">236</th>
  <td class="line-code ">
    <pre>      repository_views.connect 'projects/:id/repository/statistics',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">237</th>
  <th class="line-num">237</th>
  <td class="line-code ">
    <pre>                               :action =&gt; 'stats'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">238</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/graph',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'graph'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">239</th>
  <th class="line-num">240</th>
  <td class="line-code ">
    <pre>      repository_views.connect 'projects/:id/repository/revisions',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">240</th>
  <th class="line-num">241</th>
  <td class="line-code ">
    <pre>                               :action =&gt; 'revisions'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">241</th>
  <th class="line-num">242</th>
  <td class="line-code ">
    <pre>      repository_views.connect 'projects/:id/repository/revisions.:format',
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">247</th>
  <th class="line-num">248</th>
  <td class="line-code ">
    <pre>      repository_views.connect 'projects/:id/repository/revisions/:rev/diff.:format',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">248</th>
  <th class="line-num">249</th>
  <td class="line-code ">
    <pre>                               :action =&gt; 'diff'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">249</th>
  <th class="line-num">250</th>
  <td class="line-code ">
    <pre>      repository_views.connect 'projects/:id/repository/revisions/:rev/raw/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">250</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :action =&gt; 'entry',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">251</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :format =&gt; 'raw',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">252</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :requirements =&gt; { :rev =&gt; /[a-z0-9\.\-_]+/ }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'entry', :format =&gt; 'raw'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">253</th>
  <th class="line-num">252</th>
  <td class="line-code ">
    <pre>      repository_views.connect 'projects/:id/repository/revisions/:rev/:action/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">254</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :requirements =&gt; { :rev =&gt; /[a-z0-9\.\-_]+/ }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">255</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>                               :requirements =&gt; { :action =&gt; /(browse|show|entry|changes|annotate|diff)/ }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">256</th>
  <th class="line-num">254</th>
  <td class="line-code ">
    <pre>      repository_views.connect 'projects/:id/repository/raw/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">257</th>
  <th class="line-num">255</th>
  <td class="line-code ">
    <pre>                               :action =&gt; 'entry', :format =&gt; 'raw'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">258</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      repository_views.connect 'projects/:id/repository/browse/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">259</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :action =&gt; 'browse'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">260</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      repository_views.connect 'projects/:id/repository/entry/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">261</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :action =&gt; 'entry'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">262</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      repository_views.connect 'projects/:id/repository/changes/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">263</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :action =&gt; 'changes'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">264</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      repository_views.connect 'projects/:id/repository/annotate/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">265</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :action =&gt; 'annotate'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">266</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      repository_views.connect 'projects/:id/repository/diff/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:action/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>                               :requirements =&gt; { :action =&gt; /(browse|show|entry|changes|annotate|diff)/ }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>      # Same routes with a repository_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">260</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/statistics',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">261</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'stats'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">262</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/graph',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">263</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'graph'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">264</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/revisions',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">265</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'revisions'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">266</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/revisions.:format',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">267</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'revisions'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">268</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/revisions/:rev',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">269</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'revision'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">270</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/revisions/:rev/diff',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">271</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'diff'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">272</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/revisions/:rev/diff.:format',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">267</th>
  <th class="line-num">273</th>
  <td class="line-code ">
    <pre>                               :action =&gt; 'diff'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">268</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      repository_views.connect 'projects/:id/repository/show/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">274</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/revisions/:rev/raw/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">275</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'entry', :format =&gt; 'raw'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">276</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/revisions/:rev/:action/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">277</th>
  <td class="line-code diff_in">
    <pre>                               :requirements =&gt; { :action =&gt; /(browse|show|entry|changes|annotate|diff)/ }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">278</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/raw/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">279</th>
  <td class="line-code diff_in">
    <pre>                               :action =&gt; 'entry', :format =&gt; 'raw'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">280</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id/:action/*path',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">281</th>
  <td class="line-code diff_in">
    <pre>                               :requirements =&gt; { :action =&gt; /(browse|show|entry|changes|annotate|diff)/ }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">282</th>
  <td class="line-code diff_in">
    <pre>      repository_views.connect 'projects/:id/repository/:repository_id',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">269</th>
  <th class="line-num">283</th>
  <td class="line-code ">
    <pre>                               :action =&gt; 'show'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">270</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      repository_views.connect 'projects/:id/repository/graph',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">271</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>                               :action =&gt; 'graph'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">272</th>
  <th class="line-num">284</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">273</th>
  <th class="line-num">285</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">274</th>
  <th class="line-num">286</th>
  <td class="line-code ">
    <pre>    repositories.connect 'projects/:id/repository/revision',
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/db/migrate/20120115143024_add_repositories_identifier.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class AddRepositoriesIdentifier &lt; ActiveRecord::Migration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  def self.up
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    add_column :repositories, :identifier, :string
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  def self.down
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    remove_column :repositories, :identifier
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/db/migrate/20120115143100_add_repositories_is_default.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class AddRepositoriesIsDefault &lt; ActiveRecord::Migration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  def self.up
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    add_column :repositories, :is_default, :boolean, :default =&gt; false
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>  def self.down
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>    remove_column :repositories, :is_default
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/db/migrate/20120115143126_set_default_repositories.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num"></th>
  <th class="line-num">1</th>
  <td class="line-code diff_in">
    <pre>class SetDefaultRepositories &lt; ActiveRecord::Migration
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">2</th>
  <td class="line-code diff_in">
    <pre>  def self.up
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">3</th>
  <td class="line-code diff_in">
    <pre>    Repository.update_all([&quot;is_default = ?&quot;, false])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>    # Sets the last repository as default in case multiple repositories exist for the same project
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">5</th>
  <td class="line-code diff_in">
    <pre>    Repository.connection.select_values(&quot;SELECT r.id FROM #{Repository.table_name} r&quot; +
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">6</th>
  <td class="line-code diff_in">
    <pre>      &quot; WHERE r.id = (SELECT max(r1.id) FROM #{Repository.table_name} r1 WHERE r1.project_id = r.project_id)&quot;).each do |i|
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">7</th>
  <td class="line-code diff_in">
    <pre>        Repository.update_all([&quot;is_default = ?&quot;, true], [&quot;id = ?&quot;, i])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">8</th>
  <td class="line-code diff_in">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">9</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">11</th>
  <td class="line-code diff_in">
    <pre>  def self.down
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">12</th>
  <td class="line-code diff_in">
    <pre>    Repository.update_all([&quot;is_default = ?&quot;, false])
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">13</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">14</th>
  <td class="line-code diff_in">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/public/stylesheets/application.css
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">108</th>
  <th class="line-num">108</th>
  <td class="line-code ">
    <pre>a img{ border: 0; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">109</th>
  <th class="line-num">109</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">110</th>
  <th class="line-num">110</th>
  <td class="line-code ">
    <pre>a.issue.closed, a.issue.closed:link, a.issue.closed:visited { color: #999; text-decoration: line-through; }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>a.repository.selected {font-weight:bold;}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">111</th>
  <th class="line-num">112</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">112</th>
  <th class="line-num">113</th>
  <td class="line-code ">
    <pre>/***** Tables *****/
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">113</th>
  <th class="line-num">114</th>
  <td class="line-code ">
    <pre>table.list { border: 1px solid #e4e4e4;  border-collapse: collapse; width: 100%; margin-bottom: 4px; }
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/exemplars/repository_exemplar.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">1</th>
  <th class="line-num">1</th>
  <td class="line-code ">
    <pre>class Repository &lt; ActiveRecord::Base
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">2</th>
  <th class="line-num">2</th>
  <td class="line-code ">
    <pre>  generator_for :type =&gt; 'Subversion'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">3</th>
  <th class="line-num">3</th>
  <td class="line-code ">
    <pre>  generator_for :url, :start =&gt; 'file:///test/svn'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">4</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">4</th>
  <td class="line-code diff_in">
    <pre>  generator_for :identifier, :start =&gt; 'repo1'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">5</th>
  <th class="line-num">5</th>
  <td class="line-code ">
    <pre>end
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/fixtures/repositories.yml
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">7</th>
  <th class="line-num">7</th>
  <td class="line-code ">
    <pre>  password: &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">8</th>
  <th class="line-num">8</th>
  <td class="line-code ">
    <pre>  login: &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">9</th>
  <th class="line-num">9</th>
  <td class="line-code ">
    <pre>  type: Subversion
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">10</th>
  <td class="line-code diff_in">
    <pre>  is_default: true
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">10</th>
  <th class="line-num">11</th>
  <td class="line-code ">
    <pre>repositories_002: 
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">11</th>
  <th class="line-num">12</th>
  <td class="line-code ">
    <pre>  project_id: 2
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">12</th>
  <th class="line-num">13</th>
  <td class="line-code ">
    <pre>  url: svn://localhost/test
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">15</th>
  <th class="line-num">16</th>
  <td class="line-code ">
    <pre>  password: &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">16</th>
  <th class="line-num">17</th>
  <td class="line-code ">
    <pre>  login: &quot;&quot;
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">17</th>
  <th class="line-num">18</th>
  <td class="line-code ">
    <pre>  type: Subversion
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">19</th>
  <td class="line-code diff_in">
    <pre>  is_default: true
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/functional/repositories_controller_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">43</th>
  <th class="line-num">43</th>
  <td class="line-code ">
    <pre>    assert_tag 'input', :attributes =&gt; {:name =&gt; 'repository[url]'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">44</th>
  <th class="line-num">44</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">45</th>
  <th class="line-num">45</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">46</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  # TODO: remove it when multiple SCM support is added
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">47</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  def test_new_with_existing_repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">48</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    @request.session[:user_id] = 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">49</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    get :new, :project_id =&gt; 'ecookbook'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">50</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>    assert_response 302
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">51</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">52</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">53</th>
  <th class="line-num">46</th>
  <td class="line-code ">
    <pre>  def test_create
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">54</th>
  <th class="line-num">47</th>
  <td class="line-code ">
    <pre>    @request.session[:user_id] = 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">55</th>
  <th class="line-num">48</th>
  <td class="line-code ">
    <pre>    assert_difference 'Repository.count' do
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">56</th>
  <th class="line-num">49</th>
  <td class="line-code ">
    <pre>      post :create, :project_id =&gt; 'subproject1',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">57</th>
  <th class="line-num">50</th>
  <td class="line-code ">
    <pre>           :repository_scm =&gt; 'Subversion',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">58</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>           :repository =&gt; {:url =&gt; 'file:///test'<span></span>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">51</th>
  <td class="line-code diff_in">
    <pre>           :repository =&gt; {:url =&gt; 'file:///test'<span>, :is_default =&gt; '1', :identifier =&gt; ''</span>}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">59</th>
  <th class="line-num">52</th>
  <td class="line-code ">
    <pre>    end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">60</th>
  <th class="line-num">53</th>
  <td class="line-code ">
    <pre>    assert_response 302
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">61</th>
  <th class="line-num">54</th>
  <td class="line-code ">
    <pre>    repository = Repository.first(:order =&gt; 'id DESC')
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">113</th>
  <th class="line-num">106</th>
  <td class="line-code ">
    <pre>    get :revisions, :id =&gt; 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">114</th>
  <th class="line-num">107</th>
  <td class="line-code ">
    <pre>    assert_response :success
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">115</th>
  <th class="line-num">108</th>
  <td class="line-code ">
    <pre>    assert_template 'revisions'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">109</th>
  <td class="line-code diff_in">
    <pre>    assert_equal Repository.find(10), assigns(:repository)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">110</th>
  <td class="line-code diff_in">
    <pre>    assert_not_nil assigns(:changesets)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">111</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">112</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">113</th>
  <td class="line-code diff_in">
    <pre>  def test_revisions_for_other_repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">114</th>
  <td class="line-code diff_in">
    <pre>    repository = Repository::Subversion.create!(:project_id =&gt; 1, :identifier =&gt; 'foo', :url =&gt; 'file:///foo')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">115</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">116</th>
  <td class="line-code diff_in">
    <pre>    get :revisions, :id =&gt; 1, :repository_id =&gt; 'foo'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">117</th>
  <td class="line-code diff_in">
    <pre>    assert_response :success
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">118</th>
  <td class="line-code diff_in">
    <pre>    assert_template 'revisions'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">119</th>
  <td class="line-code diff_in">
    <pre>    assert_equal repository, assigns(:repository)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">116</th>
  <th class="line-num">120</th>
  <td class="line-code ">
    <pre>    assert_not_nil assigns(:changesets)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">117</th>
  <th class="line-num">121</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">118</th>
  <th class="line-num">122</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">123</th>
  <td class="line-code diff_in">
    <pre>  def test_revisions_for_invalid_repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">124</th>
  <td class="line-code diff_in">
    <pre>    get :revisions, :id =&gt; 1, :repository_id =&gt; 'foo'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">125</th>
  <td class="line-code diff_in">
    <pre>    assert_response 404
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">126</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">127</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">119</th>
  <th class="line-num">128</th>
  <td class="line-code ">
    <pre>  def test_revision
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">120</th>
  <th class="line-num">129</th>
  <td class="line-code ">
    <pre>    get :revision, :id =&gt; 1, :rev =&gt; 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">121</th>
  <th class="line-num">130</th>
  <td class="line-code ">
    <pre>    assert_response :success
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/integration/routing/repositories_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">70</th>
  <th class="line-num">70</th>
  <td class="line-code ">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/statistics&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">71</th>
  <th class="line-num">71</th>
  <td class="line-code ">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'stats', :id =&gt; 'redmine' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">72</th>
  <th class="line-num">72</th>
  <td class="line-code ">
    <pre>     )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">73</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">74</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">75</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/graph&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">76</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'graph', :id =&gt; 'redmine' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">77</th>
  <td class="line-code diff_in">
    <pre>     )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">78</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">79</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">80</th>
  <td class="line-code diff_in">
    <pre>  def test_repositories_with_repository_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">81</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">82</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">83</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">84</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'show', :id =&gt; 'redmine', :repository_id =&gt; 'foo' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">85</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">86</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">87</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">88</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/statistics&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">89</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'stats', :id =&gt; 'redmine', :repository_id =&gt; 'foo' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">90</th>
  <td class="line-code diff_in">
    <pre>     )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">91</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">92</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">93</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/graph&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">94</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'graph', :id =&gt; 'redmine', :repository_id =&gt; 'foo' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">95</th>
  <td class="line-code diff_in">
    <pre>     )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">73</th>
  <th class="line-num">96</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">74</th>
  <th class="line-num">97</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">75</th>
  <th class="line-num">98</th>
  <td class="line-code ">
    <pre>  def test_repositories_revisions
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">153</th>
  <th class="line-num">176</th>
  <td class="line-code ">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">154</th>
  <th class="line-num">177</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">155</th>
  <th class="line-num">178</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">179</th>
  <td class="line-code diff_in">
    <pre>  def test_repositories_revisions_with_repository_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">180</th>
  <td class="line-code diff_in">
    <pre>    empty_path_param = []
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">181</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">182</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">183</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">184</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'revisions', :id =&gt; 'redmine', :repository_id =&gt; 'foo' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">185</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">186</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">187</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">188</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions.atom&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">189</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'revisions', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">190</th>
  <td class="line-code diff_in">
    <pre>          :format =&gt; 'atom' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">191</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">192</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">193</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">194</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2457&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">195</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'revision', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">196</th>
  <td class="line-code diff_in">
    <pre>          :rev =&gt; '2457' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">197</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">198</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">199</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">200</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2457/show&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">201</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'show', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">202</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; empty_path_param, :rev =&gt; '2457' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">203</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">204</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">205</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">206</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2457/show/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">207</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'show', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">208</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param] , :rev =&gt; '2457'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">209</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">210</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">211</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">212</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2457/changes&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">213</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'changes', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">214</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; empty_path_param, :rev =&gt; '2457' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">215</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">216</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">217</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">218</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2457/changes/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">219</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'changes', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">220</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param] , :rev =&gt; '2457'}
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">221</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">222</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">223</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">224</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2457/diff&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">225</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'diff', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">226</th>
  <td class="line-code diff_in">
    <pre>          :rev =&gt; '2457' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">227</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">228</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">229</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">230</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2457/diff.diff&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">231</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'diff', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">232</th>
  <td class="line-code diff_in">
    <pre>          :rev =&gt; '2457', :format =&gt; 'diff' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">233</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">234</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">235</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">236</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2/diff/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">237</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'diff', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">238</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param], :rev =&gt; '2' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">239</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">240</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">241</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">242</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2/entry/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">243</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'entry', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">244</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param], :rev =&gt; '2' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">245</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">246</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">247</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">248</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2/raw/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">249</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'entry', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">250</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param], :rev =&gt; '2', :format =&gt; 'raw' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">251</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">252</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">253</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">254</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/revisions/2/annotate/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">255</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'annotate', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">256</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param], :rev =&gt; '2' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">257</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">258</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">259</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">156</th>
  <th class="line-num">260</th>
  <td class="line-code ">
    <pre>  def test_repositories_non_revisions_path
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">157</th>
  <th class="line-num">261</th>
  <td class="line-code ">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">158</th>
  <th class="line-num">262</th>
  <td class="line-code ">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr class="spacing">
  <th class="line-num">...</th><th class="line-num">...</th><td></td>
</tr>
<tr>
  <th class="line-num">192</th>
  <th class="line-num">296</th>
  <td class="line-code ">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">193</th>
  <th class="line-num">297</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">194</th>
  <th class="line-num">298</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">195</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>private
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">299</th>
  <td class="line-code diff_in">
    <pre>  def test_repositories_non_revisions_path_with_repository_id
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">300</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">301</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">302</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/diff/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">303</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'diff', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">304</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param] }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">305</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">306</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">307</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">308</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/browse/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">309</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'browse', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">310</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param] }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">311</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">312</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">313</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">314</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/entry/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">315</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'entry', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">316</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param] }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">317</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">318</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">319</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/raw/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">321</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'entry', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">322</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param], :format =&gt; 'raw' }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">323</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">324</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">325</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">326</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/annotate/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">327</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'annotate', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">328</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param] }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">329</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">330</th>
  <td class="line-code diff_in">
    <pre>    assert_routing(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">331</th>
  <td class="line-code diff_in">
    <pre>        { :method =&gt; 'get',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">332</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; &quot;/projects/redmine/repository/foo/changes/#{@path_hash[:path]}&quot; },
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">333</th>
  <td class="line-code diff_in">
    <pre>        { :controller =&gt; 'repositories', :action =&gt; 'changes', :id =&gt; 'redmine', :repository_id =&gt; 'foo',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">334</th>
  <td class="line-code diff_in">
    <pre>          :path =&gt; @path_hash[:param] }
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">335</th>
  <td class="line-code diff_in">
    <pre>      )
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">336</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">337</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">338</th>
  <td class="line-code diff_in">
    <pre>  private
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">196</th>
  <th class="line-num">339</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">197</th>
  <th class="line-num">340</th>
  <td class="line-code ">
    <pre>  def repository_path_hash(arr)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">198</th>
  <th class="line-num">341</th>
  <td class="line-code ">
    <pre>    hs = {}
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/unit/repository_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">50</th>
  <th class="line-num">50</th>
  <td class="line-code ">
    <pre>    assert_equal repository, project.repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">51</th>
  <th class="line-num">51</th>
  <td class="line-code ">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">52</th>
  <th class="line-num">52</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">53</th>
  <td class="line-code diff_in">
    <pre>  def test_first_repository_should_be_set_as_default
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">54</th>
  <td class="line-code diff_in">
    <pre>    repository1 = Repository::Subversion.new(:project =&gt; Project.find(3), :identifier =&gt; 'svn1', :url =&gt; 'file:///svn1')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">55</th>
  <td class="line-code diff_in">
    <pre>    assert repository1.save
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">56</th>
  <td class="line-code diff_in">
    <pre>    assert repository1.is_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">57</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">58</th>
  <td class="line-code diff_in">
    <pre>    repository2 = Repository::Subversion.new(:project =&gt; Project.find(3), :identifier =&gt; 'svn2', :url =&gt; 'file:///svn2')
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">59</th>
  <td class="line-code diff_in">
    <pre>    assert repository2.save
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">60</th>
  <td class="line-code diff_in">
    <pre>    assert !repository2.is_default?
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">61</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">62</th>
  <td class="line-code diff_in">
    <pre>    assert_equal repository1, Project.find(3).repository
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">63</th>
  <td class="line-code diff_in">
    <pre>    assert_equal [repository1, repository2], Project.find(3).repositories.sort
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">64</th>
  <td class="line-code diff_in">
    <pre>  end
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">65</th>
  <td class="line-code diff_in">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">53</th>
  <th class="line-num">66</th>
  <td class="line-code ">
    <pre>  def test_destroy
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">54</th>
  <th class="line-num">67</th>
  <td class="line-code ">
    <pre>    changesets = Changeset.count(:all, :conditions =&gt; &quot;repository_id = 10&quot;)
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">55</th>
  <th class="line-num">68</th>
  <td class="line-code ">
    <pre>    changes = Change.count(:all, :conditions =&gt; &quot;repository_id = 10&quot;,
</pre>
  </td>
</tr>
</tbody>
</table>
</div>
<div class="autoscroll">
<table class="filecontent">
<thead>
  <tr>
    <th colspan="3" class="filename">
      b/test/unit/user_test.rb
    </th>
  </tr>
</thead>
<tbody>

<tr>
  <th class="line-num">316</th>
  <th class="line-num">316</th>
  <td class="line-code ">
    <pre>
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">317</th>
  <th class="line-num">317</th>
  <td class="line-code ">
    <pre>  def test_destroy_should_nullify_changesets
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">318</th>
  <th class="line-num">318</th>
  <td class="line-code ">
    <pre>    changeset = Changeset.create!(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">319</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>      :repository =&gt; Repository::Subversion.create!(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">320</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>        :project_id =&gt; 1,
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">321</th>
  <th class="line-num"></th>
  <td class="line-code diff_out">
    <pre>        :url =&gt; 'file:///var/svn'
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">319</th>
  <td class="line-code diff_in">
    <pre>      :repository =&gt; Repository::Subversion.generate!(
</pre>
  </td>
</tr>

<tr>
  <th class="line-num"></th>
  <th class="line-num">320</th>
  <td class="line-code diff_in">
    <pre>        :project_id =&gt; 1
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">322</th>
  <th class="line-num">321</th>
  <td class="line-code ">
    <pre>      ),
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">323</th>
  <th class="line-num">322</th>
  <td class="line-code ">
    <pre>      :revision =&gt; '12',
</pre>
  </td>
</tr>

<tr>
  <th class="line-num">324</th>
  <th class="line-num">323</th>
  <td class="line-code ">
    <pre>      :committed_on =&gt; Time.now,
</pre>
  </td>
</tr>
</tbody>
</table>
</div>




<p class="other-formats">(Other formats not available in this archive.</p>




        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

<!-- Mirrored from redmine.ogf.org/projects/redmine-og/repository/revisions/1bd5e58c847816ae5751ee0026e55597d1541dd4/diff by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Sep 2022 22:40:18 GMT -->
</html>
