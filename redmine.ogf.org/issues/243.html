<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from redmine.ogf.org/issues/243 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Sep 2022 21:06:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>document #243: Problems with implied separatorSuppressionPolicy depending on occursCountKind of element - DFDL WG - Open Grid Forum</title>
<meta name="description" content="Redmine" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="7RiXtn8JMoxXZTBSrtL64n0O2gGmxf69GTM4qjOvQSI="/>
<link rel='shortcut icon' href='../favicon4460.ico?1425381960' />
<link href="../themes/ogf_redmine/stylesheets/application4460.css?1425381960" media="all" rel="stylesheet" type="text/css" />

<script src="../javascripts/prototype4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/effects4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/dragdrop4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/controls4460.js?1425381960" type="text/javascript"></script>
<script src="../javascripts/application4460.js?1425381960" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script>

<!--[if IE 6]>
    <style type="text/css">
      * html body{ width: expression( document.documentElement.clientWidth < 900 ? '900px' : '100%' ); }
      body {behavior: url(/stylesheets/csshover.htc?1425381960);}
    </style>
<![endif]-->
<link href="../plugin_assets/extended_fields/stylesheets/extended_fields4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" /> <link href="../plugin_assets/wiking/stylesheets/wiking4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

    <link href="243.atom" rel="alternate" title="DFDL WG - document #243: Problems with implied separatorSuppressionPolicy depending on occursCountKind of element" type="application/atom+xml" />
    <link href="../stylesheets/scm4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    <script src="../javascripts/context_menu4460.js?1425381960" type="text/javascript"></script>
    <link href="../stylesheets/context_menu4460.css?1425381960" media="screen" rel="stylesheet" type="text/css" />
    
</head>
<body class="theme-Ogf redmine controller-issues action-show">
<div id="wrapper">
<div id="wrapper2">
<div id="top-menu">
    <div id="account">
        <ul><li><a href="../login.html" class="login">Login</a></li>
<li><a href="../account/register.html" class="register">Register</a></li></ul>    </div>
    
    <ul><li><a href="../index.html" class="home">Home</a></li>
<li><a href="../projects.html" class="projects">Projects</a></li>
<li><a href="http://www.redmine.org/guide" class="help">Help</a></li></ul></div>

<div id="header">
    
    <div id="quick-search">
        <form action="https://redmine.ogf.org/search/index/dfdl-wg" method="get">
        <input name="issues" type="hidden" value="1" />
        <label for='q'>
          <a href="../search/index/dfdl-wg.html" accesskey="4">Search</a>:
        </label>
        <input accesskey="f" class="small" id="q" name="q" size="20" type="text" />
        </form>
        
    </div>
    

    <h1><a href="../projects/standards/issues.html?jump=issues" class="root">Standards</a> » <a href="../projects/data-area/issues.html?jump=issues" class="ancestor">Data Area</a> » DFDL WG</h1>

    
    <div id="main-menu">
        <ul><li><a href="../projects/dfdl-wg.html" class="overview">Overview</a></li>
<li><a href="../tab/show/dfdl-wg.html" class="tab">Project Info</a></li>
<li><a href="../projects/dfdl-wg/roadmap.html" class="roadmap">Roadmap</a></li>
<li><a href="../projects/dfdl-wg/issues.html" class="issues selected">Issues</a></li>
<li><a href="../projects/dfdl-wg/issues/calendar.html" class="calendar">Calendar</a></li>
<li><a href="../projects/dfdl-wg/news.html" class="news">News</a></li>
<li><a href="../dmsf/dfdl-wg.html" class="dmsf">Documents</a></li>
<li><a href="../projects/dfdl-wg/wiki.html" class="wiki">Wiki</a></li>
<li><a href="../projects/dfdl-wg/files.html" class="files">Files</a></li>
<li><a href="../projects/dfdl-wg/repository.html" class="repository">Repository</a></li>
<li><a href="../projects/dfdl-wg/embedded/index.html" class="embedded">Mailing Lists</a></li></ul>
    </div>
    
</div>

<div class="" id="main">
    <div id="sidebar">
        
  <h3>Issues</h3>
<a href="https://redmine.ogf.org/projects/dfdl-wg/issues?set_filter=1">View all issues</a><br />

<a href="../projects/dfdl-wg/issues/report.html">Summary</a><br />


  
  




  <a href="../projects/dfdl-wg/issues/calendar.html">Calendar</a><br />




<h3>Custom queries</h3><a href="../projects/dfdl-wg/issues1f97.html?query_id=3">open grouped by target version sorted by last updated</a>



  

        
  
  


    </div>

    <div id="content">
        
        <div class="contextual">


<span class="issue-243-watcher"></span>




</div>


<h2>document #243</h2>

<div class="issue status-16 priority-2 closed details">
        

<div class="subject">
<div><h3>Problems with implied separatorSuppressionPolicy depending on occursCountKind of element</h3></div>
</div>
        <p class="author">
        Added by <a href="../users/62.html">Steve Hanson</a> <a href="../projects/dfdl-wg/activitybbc7.html?from=2014-11-25" title="11/25/2014 01:03 PM">almost 8 years</a> ago.
        
        Updated <a href="../projects/dfdl-wg/activityc672.html?from=2017-07-25" title="07/25/2017 11:17 AM">about 5 years</a> ago.
        
        </p>

<table class="attributes">
<tr>
    <th class="status">Status:</th><td class="status">closed</td>
    <th class="start-date">Start date:</th><td class="start-date">11/25/2014</td>
</tr>
<tr>
    <th class="priority">Priority:</th><td class="priority">Normal</td>
    <th class="due-date">Due date:</th><td class="due-date"></td>
</tr>
<tr>
    <th class="assigned-to">Assignee:</th><td class="assigned-to"><a href="../users/62.html">Steve Hanson</a></td>
    <th class="progress">% Done:</th><td class="progress"><table class="progress" style="width: 80px;"><tr><td class="closed" style="width: 100%;"></td></tr></table><p class="pourcent">100%</p></td>
</tr>
<tr>
    <th class="category">Category:</th><td class="category">-</td>
    
</tr>
<tr>
    <th class="fixed-version">Target version:</th><td class="fixed-version">-</td>
    
</tr>
<tr>
	<th>Document Type:</th><td>Proposed Recommendation</td>
</tr>


</table>

<hr />

  <div class="contextual">
  
  </div>

  <p><strong>Description</strong></p>
  <div class="wiki">
  <p>The DFDL separatorSuppressionPolicy is on a sequence, and governs when separators can be suppressed if zero-length content is encountered in the sequence. But section 14.2 of the DFDL specification says that the actual separator suppression behaviour is equally dependent on the DFDL occursCountKind property of the elements in the sequence. This is problematic for implementors, and it should be the policy of the sequence that rules.</p>
  </div>









</div>




<div id="history">
<h3>History</h3>

  <div id="change-661" class="journal has-notes">
    <h4><div class="journal-link"><a href="243.html#note-1">#1</a></div>
    
    <a name="note-1"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="../projects/dfdl-wg/activitybbc7.html?from=2014-11-25" title="11/25/2014 01:06 PM">almost 8 years</a> ago</h4>

    
    <div class="wiki" id="journal-661-notes"><p>Following changes needed to the specification to clarify the behaviour of separator suppression. Changes in* bold.*</p>


	<p>1) 14.2 - updates to paragraphs that describe positional and non-positional sequences</p>


	<p>Positional sequence - Each occurrence in the sequence can be identified by its position in the data. Typically the components of such a sequence do not have an initiator. In some such sequences, the separators for optional zero-length occurrences may or must be omitted when at the end of the group. <strong>In DFDL, a sequence is considered positional if it contains only required elements and/or optional and array elements that have dfdl:occursCountKind 'implicit', 'fixed' or 'expression', and it has dfdl:separatorSuppressionPolicy 'never', 'trailingEmptyStrict'  or 'trailingEmpty'.</strong></p>


	<p>Non-positional sequence - Occurrences in the sequence cannot be identified by their position in the data alone. <strong>Often</strong> the components of such a sequence have an initiator. Such sequences <strong>sometimes</strong> allow the separator to be omitted for optional zero-length occurrences anywhere in the sequence. Speculative parsing might need to be employed by to identify each occurrence. <strong>In DFDL, a sequence is non-positional if it contains any optional or array elements that have dfdl:occursCountKind 'parsed' or 'stopValue', and/or it has dfdl:separatorSuppressionPolicy 'anyEmpty'.</strong></p>


	<p>2) 14.2.2 - updates to the last sentences of the 'When dfdl:occursCountKind is ...' paragraphs to match the table and notes below.</p>


	<p>When an element is required and is not an array then one occurrence is always expected along with its separator. The dfdl:separatorSuppressionPolicy <strong>of the sequence has no effect (nothing is eligible for suppression).</strong> <br />Otherwise the behaviour is dependent on dfdl:occursCountKind.<br />When dfdl:occursCountKind is 'fixed' then XSDL minOccurs must equal maxOccurs and that many occurrences are always expected along with their separators. The dfdl:separatorSuppressionPolicy <strong>of the sequence has no effect (nothing is eligible for suppression).</strong><br />When dfdl:occursCountKind is 'expression' the number of occurrences is given by dfdl:occursCount and exactly that many occurrences are always expected along with their separators. The dfdl:separatorSuppressionPolicy <strong>of the sequence has no effect (nothing is eligible for suppression).</strong><br />When dfdl:occursCountKind is 'parsed' any number of occurrences and their separators are expected. The dfdl:separatorSuppressionPolicy <strong>of the sequence must be 'anyEmpty' and it is a schema definition error otherwise.</strong><br />When dfdl:occursCountKind is 'stopValue', any number of occurrences and their separators are expected followed by the stop value and its separator. The dfdl:separatorSuppressionPolicy <strong>of the sequence has no effect.</strong> <br />When dfdl:occursCountKind is 'implicit', between XSDL minOccurs and maxOccurs (inclusive) occurrences and their separators are expected, <strong>according to the dfdl:separatorSuppressionPolicy of the sequence.</strong></p>


	<p>3) 14.2.3 - updates to the last sentences of the 'When dfdlk:occursCountKind is ...' paragraphs to match the table and notes below.</p>


	<p>When an element is required and is not an array then one occurrence is always output along with its separator. The dfdl:separatorSuppressionPolicy <strong>of the sequence has no effect (nothing is eligible for suppression).</strong><br />Otherwise the behaviour is dependent on dfdl:occursCountKind.<br />When dfdl:occursCountKind is 'fixed' or 'expression' the occurrences in the augmented Infoset are always output along with their separators. The dfdl:separatorSuppressionPolicy <strong>of the sequence has no effect (nothing is eligible for suppression).</strong><br />When dfdl:occursCountKind is 'parsed' non zero-length occurrences in the augmented Infoset are output along with their separators. The dfdl:separatorSuppressionPolicy <strong>of the sequence must be 'anyEmpty' and it is a schema definition error otherwise.</strong><br />When dfdl:occursCountKind is 'stopValue' the occurrences in the augmented Infoset are output along with their separators followed by the stop value and its separator, <strong>according to the dfdl:separatorSuppressionPolicy of the sequence.</strong><br />When dfdl:occursCountKind is 'implicit' the occurrences in the augmented Infoset are output along with their separators, <strong>according to the dfdl:separatorSuppressionPolicy of the sequence.</strong></p>


	<p>4) 16 - update to occursStopValue property description<br />The property is a list of logical values, so need to add: <strong>"The dfdl:stopValue property must not be empty string."</strong></p></div>
  </div>
  

  <div id="change-662" class="journal has-details">
    <h4><div class="journal-link"><a href="243.html#note-2">#2</a></div>
    
    <a name="note-2"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="../projects/dfdl-wg/activitybbc7.html?from=2014-11-25" title="11/25/2014 01:12 PM">almost 8 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>submitted</i> to <i>accepted</i></li>
      
       <li><strong>% Done</strong> changed from <i>0</i> to <i>100</i></li>
      
    </ul>
    
    
  </div>
  

  <div id="change-686" class="journal has-notes">
    <h4><div class="journal-link"><a href="243.html#note-3">#3</a></div>
    
    <a name="note-3"></a>
    Updated by <a href="../users/62.html">Steve Hanson</a> <a href="../projects/dfdl-wg/activity2d28.html?from=2015-01-12" title="01/12/2015 09:01 AM">over 7 years</a> ago</h4>

    
    <div class="wiki" id="journal-686-notes"><p>Erratum 5.8 added to DFDL Experience Document 4</p></div>
  </div>
  

  <div id="change-1145" class="journal has-details">
    <h4><div class="journal-link"><a href="243.html#note-4">#4</a></div>
    
    <a name="note-4"></a>
    Updated by <a href="../users/91.html">Michael Beckerle</a> <a href="../projects/dfdl-wg/activityc672.html?from=2017-07-25" title="07/25/2017 11:17 AM">about 5 years</a> ago</h4>

    
    <ul class="details">
      
       <li><strong>Status</strong> changed from <i>accepted</i> to <i>closed</i></li>
      
    </ul>
    
    
  </div>
  




</div>



<div style="clear: both;"></div>
<div class="contextual">


<span class="issue-243-watcher"></span>




</div>


<div style="clear: both;"></div>


<p class="other-formats">(Other formats not available in this archive.</p>






<div id="context-menu" style="display: none;"></div>
<script type="text/javascript">
//<![CDATA[
new ContextMenu('/issues/context_menu')
//]]>
</script>

        
        <div style="clear:both;"></div>
    </div>
</div>

<div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>

<div id="footer">
  <div class="bgl"><div class="bgr">
    Powered by <a href="http://www.redmine.org/">Redmine</a> &copy; 2006-2012 Jean-Philippe Lang
  </div></div>
</div>
</div>
</div>

</body>

<!-- Mirrored from redmine.ogf.org/issues/243 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Sep 2022 21:06:54 GMT -->
</html>
