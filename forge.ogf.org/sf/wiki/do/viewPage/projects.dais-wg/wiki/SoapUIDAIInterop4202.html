



















  
  

  







<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<!-- Mirrored from forge.ogf.org/sf/wiki/do/viewPage/projects.dais-wg/wiki/SoapUIDAIInterop?selectedTab=associations by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Oct 2022 21:52:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <title>SourceForge : View Wiki Page: SoapUIDAIInterop</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  
  <link rel="stylesheet" type="text/css" href="../../../../../../css/styles_new.css" />
  <link rel="shortcut icon" href="../../../../../../sf-images/icons/favicon.ico" />
  <script language="JavaScript" src="../../../../../js/sf_functions.js" type="text/javascript"></script>
  
  
  
  
</head>

  <body>


<!-- SourceForge masthead begin -->


<script type="text/javascript" src="../../../../../../sf-help/RoboHelp_CSH.js"></script>
<script type="text/javascript">
                      var helpRoot = '/sf-help/en/index.htm>HelpWin';
    
    // show help for a topic
    function showTopicHelp(topicId) {
	// First, close the help menu
	closeMenu(activeButton);
	RH_ShowHelp(0, helpRoot, HH_HELP_CONTEXT, topicId);
    }

    // show help for a topic
    function showTopicHelpDirectly(topicId) {
	RH_ShowHelp(0, helpRoot, HH_HELP_CONTEXT, topicId);
    }

    // show the help table of contents
    function showHelpContents() {
	// First, close the help menu
	closeMenu(activeButton);
	RH_ShowHelp(0, helpRoot, HH_DISPLAY_TOC, 0);
    }

    // show the help index
    function showHelpIndex() {
	// First, close the help menu
	closeMenu(activeButton);
	RH_ShowHelp(0, helpRoot, HH_DISPLAY_INDEX, 0);
    }

    // show the help index (not from a menu)
    function showHelpIndexFromLink() {
	RH_ShowHelp(0, helpRoot, HH_DISPLAY_INDEX, 0);
    }
</script>

<div id="ProjectMenu" class="menu">
    <a class="menuItem" href="../../../../../sfmain/do/myProjectsd3a8.html?selectedTab=my">My Projects</a>
    <a class="menuItem" href="../../../../../sfmain/do/myProjectsa641.html?selectedTab=all">All Projects</a>
</div>

<div id="SearchMenu" class="menu">
  <a class="menuItem" href="../../../../../search/do/quickJump.html" onClick="window.open('../../../../../search/do/quickJump.html', 'quickjumpwindow', 'width=540,height=263'); closeMenu(activeButton); return false">Quick Jump</a>
  <a class="menuItem" id="search" href="../../../../../search/do/search.html">Search</a>
</div>

<div id="HelpMenu2" class="menu">
<a class="menuItem" href="../../projects.ggf-info/wiki/HomePage.html">GridForge  Help</a>

    <a class="menuItem" href="javascript:showTopicHelp(16)">Help for this Page</a>
<a class="menuItem" href="javascript:showHelpContents()">Help Contents</a>
<a class="menuItem" href="javascript:showHelpIndex()">Help Index</a>
<a class="menuItem" href="../../../../../../sf-help/en/doc/User_Guide.pdf">User Guide</a>
<div class="menuItemSep"></div>
<a class="menuItem" href="../../../../../global/do/about.html" onclick="javascript:closeMenu(activeButton); window.open('../../../../../global/do/about.html','sfpabout','height=450,width=600'); return false;">About SourceForge</a>
</div>

<table width="100%" border="0" cellpadding="0" cellspacing="0" class="mastHeadBackground">
 <tr>
  <td>
   <table width="300" border="0" cellpadding="0" cellspacing="0" class="mastHeadLink">
     <tr class="mastHeadLinkSpacing">
       <td nowrap="nowrap" valign="middle"><a href="../../../../../sfmain/do/home.html" target="_top"><img src="../../../../../../sf-images/masthead/logo-custom.gif" border="0" align="absmiddle"><img src="../../../../../../ogf-it/gf_masthead.gif" border="0" align="absmiddle"></a></td>
                    <td nowrap="nowrap" class="mastHeadLink"><a href="../../../../../sfmain/do/home.html" target="_top">Home</a></td>
       <td nowrap="nowrap" class="mastHeadLinkSpacing"> </td>
                      <td nowrap="nowrap" class="mastHeadLink"><a href="../../../../../sfmain/do/listProjects.html" target="_top">Projects</a></td>
       <td nowrap="nowrap" class="mastHeadLinkSpacing"> </td>
               <td nowrap="nowrap" class="mastHeadLink"><a href="#" onclick="return buttonClick(this, 'SearchMenu');">Search<img src="../../../../../../sf-images/masthead/dropdown.gif" width="7" height="4" hspace="2" border="0"></a></td>
     
          
     
     </tr>
   </table>
  </td>
  <td align="right">
    <table border="0" cellspacing="0" cellpadding="0" class="mastHeadLink">
      <tr class="mastHeadLink">
                              <form action="https://forge.ogf.org/sf/sfmain/do/login" method="POST" id="globalLogin" name="login">
<INPUT type="HIDDEN" name="sfsubmit">

              <input type="hidden" name="returnToUrl" value="http://localhost:8080/sf/wiki/do/viewPage/projects.dais-wg/wiki/SoapUIDAIInterop?selectedTab=associations"/>
              <td nowrap="nowrap">User</td>
              <td nowrap="nowrap"><input type="text" name="username" class="inputfield" size="8"/></td>
              <td nowrap="nowrap">Password</td>
              <td nowrap="nowrap"><input type="password" name="password" class="inputfield" size="8" onkeypress="javascript:submitLoginOnEnter(event)" /></td>
              <td nowrap="nowrap"><a href="javascript:submitForm(document.getElementById('globalLogin'), 'submit');">Log In</a></td>
            </form>
            <td nowrap="nowrap"><img src="../../../../../../sf-images/masthead/vertical_line.gif" width="1" height="19" hspace="4"></td>
                    <td nowrap="nowrap"><a href="#" onclick="return buttonClick(this, 'HelpMenu2');">Help<img src="../../../../../../sf-images/masthead/dropdown.gif" width="7" height="4" hspace="2" border="0"></a></a></td>
              </tr>
    </table>
  </td>
  </tr>
  <tr>
    <td colspan="2" class="black"><img src="../../../../../../sf-images/misc/pixel.gif" width="1" height="1"></td>
  </tr>
</table>

<!-- SourceForge masthead end -->

<!-- SourceForge buttonbar begin -->
<table class="TopMenu">
    <tr class="ButtonRow">
        <td class="VerticalSeparatorNoBorder"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                   <td class="Button " onclick="window.location = '../../../../../projects/dais-wg.html'; return false;"><a href="../../../../../projects/dais-wg.html" target="_top"><img src="../../../../../../sf-images/project/project-homeicon.gif" width="25" height="20" border="0"><br>Project&nbsp;Home</a></td>
                  <td class="VerticalSeparator"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                             <td class="Button " onclick="window.location = '../../../../../tracker/do/listTrackers/projects.dais-wg/tracker.html'; return false;"><a href="../../../../../tracker/do/listTrackers/projects.dais-wg/tracker.html" target="_top"><img src="../../../../../../sf-images/project/project-trackericon.gif" width="25" height="20" border="0"><br>Tracker</a></td>
                  <td class="VerticalSeparator"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                             <td class="Button " onclick="window.location = '../../../../../docman/do/listDocuments/projects.dais-wg/docman.html'; return false;"><a href="../../../../../docman/do/listDocuments/projects.dais-wg/docman.html" target="_top"><img src="../../../../../../sf-images/project/project-documentsicon.gif" width="25" height="20" border="0"><br>Documents</a></td>
                  <td class="VerticalSeparator"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                             <td class="Button " onclick="window.location = '../../../../../taskmgr/do/viewSummary/projects.dais-wg/taskmgr.html'; return false;"><a href="../../../../../taskmgr/do/viewSummary/projects.dais-wg/taskmgr.html" target="_top"><img src="../../../../../../sf-images/project/project-tasksicon.gif" width="25" height="20" border="0"><br>Tasks</a></td>
                  <td class="VerticalSeparator"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                             <td class="Button " onclick="window.location = '../../../../../scm/do/listRepositories/projects.dais-wg/scm.html'; return false;"><a href="../../../../../scm/do/listRepositories/projects.dais-wg/scm.html" target="_top"><img src="../../../../../../sf-images/project/project-scmicon.gif" width="25" height="20" border="0"><br>Source&nbsp;Code</a></td>
                  <td class="VerticalSeparator"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                             <td class="Button " onclick="window.location = '../../../../../discussion/do/listForums/projects.dais-wg/discussion.html'; return false;"><a href="../../../../../discussion/do/listForums/projects.dais-wg/discussion.html" target="_top"><img src="../../../../../../sf-images/project/project-forumsicon.gif" width="25" height="20" border="0"><br>Discussions</a></td>
                 <td class="VerticalSeparator"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>

                             <td class="Button " onclick="window.location = '../../../../../frs/do/viewSummary/projects.dais-wg/frs.html'; return false;"><a href="../../../../../frs/do/viewSummary/projects.dais-wg/frs.html" target="_top"><img src="../../../../../../sf-images/project/project-releasesicon.gif" width="25" height="20" border="0"><br>File Releases</a></td>
                                    <td class="SelectedLeft"><img src="../../../../../../sf-images/misc/pixel.gif" border="0" height="1" width="4"></td>
           <td class="Button Selected" onclick="window.location = 'HomePage.html'; return false;"><a href="HomePage.html" target="_top"><img src="../../../../../../sf-images/project/project-wikiicon.gif" width="25" height="20" border="0"><br>Wiki</a></td>
           <td class="SelectedRight"><img src="../../../../../../sf-images/misc/pixel.gif" border="0" height="1" width="4"/></td>
                  <td class="VerticalSeparatorNoBorder"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                             <td class="Button " onclick="window.location = '../../../../../sfmain/do/projectAdmin/projects-18.html'; return false;"><a href="../../../../../sfmain/do/projectAdmin/projects-18.html" target="_top"><img src="../../../../../../sf-images/project/project-projectadminicon.gif" width="25" height="20" border="0"><br>Project&nbsp;Admin</a></td>
                  <td class="VerticalSeparator"><img src="../../../../../../sf-images/misc/white.gif" border="0" height="40" width="1"></td>
                           <td class="ButtonEnd"></td>
             </tr>

  <tr class="ShadowRow">
        
                  <td colspan="14"></td>
            <td class="SelectedLeft"></td>
      <td class="Selected"></td>
      <td class="SelectedRight"></td>
              <td colspan="4"></td>
  </tr>
  </table>

<!-- SourceForge buttonbar end -->

<!-- SourceForge content-area begin -->
<div class="contentArea">

<!-- SourceForge crumbs begin -->
<div style="padding-bottom: 2px;">
    <span class="searchlink">
        <a href="../../../searchWikiPages/projects.dais-wg/wiki/SoapUIDAIInterop.html" id="searchWikiPagesLink">Search Wiki Pages</a>
      </span>
    <span class="mainnavHeader"><strong class="ProjectProminent">Project: DAIS-WG</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../../../../go/projects.dais-wg/wiki.html">Wiki</a>&nbsp;&gt;&nbsp;</span><a href="SoapUIDAIInterop.html">SoapUIDAIInterop</a>&nbsp;&gt;&nbsp;<strong>View Wiki Page</strong>
  </div>
<!-- SourceForge crumbs end -->

<!-- SourceForge messages begin -->







<div style="padding-bottom: 2px; padding-top: 6px;">



</div>
<!-- SourceForge messages end -->

<!-- SourceForge content begin -->
<div style="padding-top: 10px; width: auto;">
    <table class="ItemDetailContainer">
      <tr class="ContainerHeader">
        <td>
          





          wiki2148: SoapUIDAIInterop
          
        </td>
      </tr>
      <tr>
        <td class="ItemDetailContainerCell">
          Using AMGA's SoapUI test suite wth OGSA-DAI WS-DAIR 1.0 doc/literal
<pre>
Using SoapUI
============

http://www.soapui.org/

SoapUI 2.5.1 WebStart application.
Failed with 'testrunner.bat' is not recognized as an internal or
external command, operable program or batch file.
Google was no help.

SoapUI 2.0.2 on Solaris
Failed with /usr/bin/sh: ./testrunner.sh: not found
Google was no help.

SoapUI 2.5.1 on Windows, 
OK

How to start and load project for first time
--------------------------------------------

-File-&gt;Import Project
-Select wsdair_project.xml file

TestRunner
----------

-Tick "Prints a summary report to the console"
-Can select TestSuite and TestCase within (or &lt;all&gt;)
 from drop-down menus.

To run on a specific TestSuite or TestCase
-Using the Navigator pane, click down into the relevant Test Suite/Case.
-Right click on the name.
-Select Launch TestRunner from the drop-down menu.
-Click Overrides tab
-Endpoint: ...
-Host:Port: ...
-Click Launch
-TestRunner endpoint overrides TestCase and TestStep ones.
-Output is as Java logging information:

Or, a nicer form is:
-Using the Navigator pane, click down into the relevant Test
 Suite/Case.
-Double click on the name.
-Click on the green arrow. 

Endpoints can be set on a TestCase (URL icon) or on an
 TestCase within these (drop-down list).

To change arguments to an operation
-----------------------------------

-Using the Navigator pane, click down into the relevant Test Step.
-Double-click on the Test Step name.
-Edit the SOAP request.
-Select File-&gt;Save All Projects (else the change isn't picked up).

To change the expected response from an operation
-------------------------------------------------

-Using the Navigator pane, click down into the relevant Test Step.
-Double-click on the Test Step name.
-Click on Assertions at the botton.
-Double-click on Contains.
-Enter the expected value.

To enable/disable a Test Step
-----------------------------

-Using the Navigator pane, click down into the relevant Test Step.
-Right click on the Test Step name.
-Select Enable/Disable Test Step from the drop-down menu.

To enable/disable a test assertion
-----------------------------------

-Using the Navigator pane, click down into the relevant Test Step.
-Double-click on the Test Step name.
-Click on Assertions at the botton
-Right-click on the assertion and click enable/disable.

Property transfers
------------------

-These use an XPath expression to pull out a chunk of XML or a string
 from a SOAP response and insert it into another SOAP request (for
 example).
-Good for passing the names of newly-created resources to subsequent
 test steps.

Incorrect endpoints
-------------------

Will give rise to SOAP response like:

&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
   &lt;soapenv:Body&gt;
      &lt;soapenv:Fault&gt;
         &lt;faultcode&gt;soapenv:Server.userException&lt;/faultcode&gt;
         &lt;faultstring&gt;org.xml.sax.SAXException: SimpleDeserializer encountered a child element, which is NOT expected, in something it was trying to deserialize.&lt;/faultstring&gt;
         &lt;detail&gt;
            &lt;ns1:hostname xmlns:ns1="http://xml.apache.org/axis/"&gt;daiserver.epcc.ed.ac.uk&lt;/ns1:hostname&gt;
         &lt;/detail&gt;
      &lt;/soapenv:Fault&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;

Beware! Make sure the endpoints are set correctly depending upon the
SOAP request and operation you're invoking

Running the AMGA tests on OGSA-DAI WS-DAIR 1.0 (document/literal)
=================================================================

Endpoints:

http://daiserver.epcc.ed.ac.uk:20300/dai/services/AccessServiceCoreDataAccessPT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/AccessServiceCoreResourceListPT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/AccessServiceAccessPT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/AccessServiceAccessFactoryPT

http://daiserver.epcc.ed.ac.uk:20300/dai/services/ResponseServiceCoreDataAccessPT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/ResponseServiceCoreResourceListPT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/ResponseServiceResponsePT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/ResponseServiceResponseFactoryPT

http://daiserver.epcc.ed.ac.uk:20300/dai/services/RowsetServiceCoreDataAccessPT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/RowsetServiceCoreResourceListPT
http://daiserver.epcc.ed.ac.uk:20300/dai/services/RowsetServiceRowsetPT

Changes made to AMGA tests
--------------------------

Legal data resource abstract name: wsdair_test =&gt; wsdai:BookDB
Illegal DRAN: XXXX =&gt; wsdai:XXXX
Language: "?" =&gt; wsdai:Zonk (OGSA-DAI WS-DAIR ignores language).
Illegal data set format: XXXX =&gt; wsdai:XXXX

SQL statements used:
 SELECT * FROM dair_littleblackbook WHERE id &amp;lt; 10
 INSERT INTO dair_littleblackbook VALUES (100000000, 'Mike', 'WSDAIR Test', '12345')
 UPDATE dair_littleblackbook SET name = 'WS-DAI TEST' WHERE id = 100000000
 DELETE FROM dair_littleblackbook WHERE id=100000000 &lt;/wsdair:Expression&gt;
Invalid SQL

 Changed from SELECT * into WORKS to SELECT * FRO

 else get I got

 &lt;SQLState xmlns=""&gt;HY000&lt;/SQLState&gt;
 &lt;VendorCode xmlns=""&gt;1327&lt;/VendorCode&gt;
 &lt;MessageText xmlns=""&gt;Undeclared variable: WORKS&lt;/MessageText&gt;

 Suspect this is due to difference between AMGA's database and MySQL. 

Property Transfers use the following to pull out the DRAN:

declare namespace wsdai='http://www.ggf.org/namespaces/2005/12/WS-DAI';
(//wsdai:DataResourceAbstractName)

I had to change this to:

declare namespace wsdai='http://www.ggf.org/namespaces/2005/12/WS-DAI/';
(//wsdai:DataResourceAbstractName)

Note the final "/". Otherwise the transferred value would be [null].

OGSA-DAI WSDAIR 1.0 
 rpc/literal services : daiserver.epcc.ed.ac.uk port 20200 
 document/literal: daiserver.epcc.ed.ac.uk port 20300 
 Resource ID: wsdai:BookDB 
 Database table: dair_littleblackbook 

Tests tried
------------

* denotes a pass.

Discrepancies, problems, issues with the tests, OGSA-DAI WS-DAIR or
the specification and things to still look at or revisit are noted. 

CoreResourceList TestSuite
--------------------------

GetResourceList
-GetResourceList *

Resolve
-Resolve *
-Resolve (Invalid dran) *

DirectAccess TestSuite
----------------------

GetSQLPropertyDocument
-Correct Resource Name *
-Invalid ResourceName *
-No ResourceName 

 &lt;faultstring&gt;java.rmi.RemoteException: [1241525550660:18109] uk.org.ogsadai.SERVER_ERROR_WITH_HOST : 1241525550659:18108, daiserver.epcc.ed.ac.uk&lt;/faultstring&gt;

 On server:

 2009-05-05 13:09:28,144 ERROR provider.CoreDataAccessProvider [http-20300-Processor23,errorExceptionAndChildren:?] #1241525368144:18080# java.lang.NullPointerException: null
 
 Need to track down source of exception in OGSA-DAI WS-DAIR.

SQLExecute
-SELECT *
-INSERT

 14:11:03,944 ERROR [SoapUITestCaseRunner] java.lang.Exception: Schema
 Compliance in [INSERT] failed; [line 7: Invalid xsi:type qname:
 'xsd:int' in element
 SQLDataset@http://www.ggf.org/namespaces/2005/12/WS-DAIR] Status:
 FAILED 

 &lt;SQLExecuteResponse xmlns="http://www.ggf.org/namespaces/2005/12/WS-DAIR"&gt;
    &lt;SQLDataset&gt;
       &lt;ns1:DatasetFormatURI xmlns:ns1="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;http://java.sun.com/xml/ns/jdbc&lt;/ns1:DatasetFormatURI&gt;
       &lt;ns2:DatasetData xmlns:ns2="http://www.ggf.org/namespaces/2005/12/WS-DAI"/&gt;
       &lt;SQLUpdateCount xsi:type="xsd:int"&gt;1&lt;/SQLUpdateCount&gt;
    &lt;/SQLDataset&gt;
 &lt;/SQLExecuteResponse&gt;

 Need to find out why this arises.

-UPDATE *

 Would this fail if schema validation was enabled as for INSERT?

-DELETE *

 Would this fail if schema validation was enabled as for INSERT?

-Invalid DRAN *
-Invalid DatasetFormat *
-Invalid Expression *
-Invalid Language Fault

 Confused by this. The test has kkkk as the expression, which should 
 raise an InvalidExpressionFaultType (which is what we raise). I
 thought this fault was for an invalid query language as specified in 
 the language.   
 
 Also this fault is confusing since the language isn't specified by
 the caller?

 The token in the assertions was InvalidLanguageFaul, which is wrong.

 We don't throw this fault - and as I recall it's optional.

IndirectAccess TestSuite
------------------------

SQLExecuteFactory 
-CreateIndirectService (SELECT) *
-Property Transfer 1 *
-Invalid DRAN *
-Invalid Expression *
-Invalid Language Fault

 See SQLQueryExecute comments.

-Delete SQLResponse (SELECT) *
-Create Indirect Service (UPDATE) *
-Property Transfer
-Delete SQLResponse (UPDATE) *

GetSQLResponsePropertyDocument
-Create Indirect Service (SELECT) *
-Property Transfer *
-GetSQLResponsePropertyDocument *

 Test has a &lt;DatasetFormatURI&gt; element. Is is a problem with the
 test or with the specification (since what would be the point
 of this element?)

-GetSQLResponsePropertyDocument Auth Fail

 Don't know what this test means.

-Remove Indirect Service (SELECT) *
-Invalid ResourceName *
-Empty ResourceName

 &lt;faultstring&gt;java.rmi.RemoteException: [1241525550660:18109] uk.org.ogsadai.SERVER_ERROR_WITH_HOST : 1241525550659:18108, daiserver.epcc.ed.ac.uk&lt;/faultstring&gt;

 Need to investigate this failure.

-No ResourceName

 Is this even a valid test since the DataResourceAbstractName element
 is missing?

 &lt;faultstring&gt;java.rmi.RemoteException: [1241525550660:18109] uk.org.ogsadai.SERVER_ERROR_WITH_HOST : 1241525550659:18108, daiserver.epcc.ed.ac.uk&lt;/faultstring&gt;

GetSQLResponseItem
-SQLExecuteFactory *
-Property Transfer *
-GetSQLResponseItem *

 Had to change from Position 1 Count 1 to Position 0 Count 1 else we
 get an InvalidPositionFault. 

 What does the spec say about the index of the first item? Is it
 0 or 1. We assumed 0.

-Property Transfer *
-Invalid DatasetFormat *
-Property Transfer *
-Invalid Position
 Had to remove ? in DataResourceAbstractName. Was affecting
  PropertyTransfer. 

 If using "X" we get:

 &lt;faultstring&gt;java.lang.NumberFormatException: For input string: "X"&lt;/faultstring&gt;

 Test passes as it only looks for SOAPFault. Should look for
 InvalidPositionFault.

 We also need a test for if the position is a number but out of bounds 
 so I created:

 -PropertyTransfer *
 -Invalid Position Out of Bounds *

  If position is 100 test is OK but if -1 we get:

  &lt;faultstring&gt;java.lang.NumberFormatException: Invalid unsigned int-1]&lt;/faultstring&gt;

  Need to find out why. Is this Axis auto-generated class issue or
  OGSA-DAI issue?

-Property Transfer *
-No Position *

 &lt;faultstring&gt;java.rmi.RemoteException: [1241705361507:23443] uk.org.ogsadai.SERVER_ERROR_WITH_HOST : 1241705361505:23442, daiserver.epcc.ed.ac.uk&lt;/faultstring&gt;

-Invalid ResourceName *
 Test passes as it only looks for SOAPFault. Should look for
 InvalidResourceNameFault.
-Empty ResourceName *

 &lt;faultstring&gt;java.rmi.RemoteException: [1241705361507:23443] uk.org.ogsadai.SERVER_ERROR_WITH_HOST : 1241705361505:23442, daiserver.epcc.ed.ac.uk&lt;/faultstring&gt;

 Test passes as it only looks for SOAPFault. Should look for
 InvalidResourceNameFault.

-No ResourceName *

 &lt;faultstring&gt;java.rmi.RemoteException: [1241705361507:23443] uk.org.ogsadai.SERVER_ERROR_WITH_HOST : 1241705361505:23442, daiserver.epcc.ed.ac.uk&lt;/faultstring&gt;

GetSQLUpdateCount
-SQLExecuteFactory *

 Changed from query to update.

-Property Transfer *
-GetSQLUpdateCount *

 Changed Position from 1 to 0.

-Property Transfer *
-Invalid Position *

 Same comment as for GetResponseItem test and use of "X".

-Property Transfer *
-No Position *

 Same comment as for GetResponseItem test and use of "X".

-Invalid ResourceName *

 Same comment as for GetResponseItem test.

-Empty ResourceName *

 Same comment as for GetResponseItem test.

-No ResourceName *

 Same comment as for GetResponseItem test.

GetSQLRowSet
-SQLExecuteFactory *
-Property Transfer *
-GetSQLRowset *

 Changed Position from 1 to 0.

-Property Transfer *
-Invalid DatasetFormat *
-Property Transfer *
-Invalid Position * 

 Same comment as for GetResponseItem test.

-Property Transfer *
-No Position *

 Same comment as for GetResponseItem test.

-Invalid ResourceName *

 Same comment as for GetResponseItem test.

-Empty ResourceName *

 Same comment as for GetResponseItem test.

-No ResourceName *

 Same comment as for GetResponseItem test.

SQLRowSetFactory
-SQLExecuteFactory *
-Property Transfer *
-GetSQLRowsetFactory *

 Needed to change SQLRowsetFactoryRequest to GetSQLRowsetFactory else 
 got an unknown operation problem.

      &lt;ws:GetSQLRowsetFactory&gt;
         &lt;ws1:DataResourceAbstractName&gt;wsdai:ogsadai-120af395738&lt;/ws1:DataResourceAbstractName&gt;
         &lt;ws:Position&gt;0&lt;/ws:Position&gt;
      &lt;/ws:GetSQLRowsetFactory&gt;

 However this also works OK

      &lt;ws:GetSQLRowsetFactory&gt;
      &lt;ws:GetSQLRowsetFactoryRequest&gt;
         &lt;ws1:DataResourceAbstractName&gt;wsdai:ogsadai-120af395738&lt;/ws1:DataResourceAbstractName&gt;
         &lt;ws:Position&gt;0&lt;/ws:Position&gt;
      &lt;/ws:GetSQLRowsetFactoryRequest&gt;

 But our services don't like this, which was cited in the test.

      &lt;ws:SQLRowsetFactoryRequest&gt;
         &lt;ws1:DataResourceAbstractName&gt;wsdai:ogsadai-120af395691&lt;/ws1:DataResourceAbstractName&gt;
         &lt;ws:Position&gt;0&lt;/ws:Position&gt;
      &lt;/ws:SQLRowsetFactoryRequest&gt;

      &lt;GetSQLRowsetFactoryResponse xmlns="http://www.ggf.org/namespaces/2005/12/WS-DAIR"&gt;
         &lt;ns1:DataResourceAddress xsi:type="ns1:DataResourceAddressType" xmlns:ns1="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
            &lt;ns2:Address xmlns:ns2="http://www.w3.org/2005/08/addressing"&gt;http://daiserver.epcc.ed.ac.uk:20300/dai/services/RowsetServiceRowsetPT&lt;/ns2:Address&gt;
            &lt;ns3:ReferenceParameters xmlns:ns3="http://www.w3.org/2005/08/addressing"&gt;
               &lt;ns4:DataResourceAbstractName xmlns:ns4="http://www.ggf.org/namespaces/2005/12/WS-DAI/"&gt;wsdai:ogsadai-120af394575&lt;/ns4:DataResourceAbstractName&gt;
            &lt;/ns3:ReferenceParameters&gt;
         &lt;/ns1:DataResourceAddress&gt;
      &lt;/GetSQLRowsetFactoryResponse&gt;

 Likewise the test doesn't like the above response giving a
  Schema Compliance error with
   C:\Documents...\siahn\base\sqlresponse.wsdl. 

 What does spec say? The WS-DAIR specification defines
 GetSQLRowsetFactory and GetSQLRowsetFactoryRequest but nowhere
 does it define SQLRowsetFactoryRequest.

 sqlresponse.wsdl deviates from the specification doc in this respect.

 Is this AMGA's WSDL or the DAIS-WG WSDL?

 Disabled this assertion for now.
 
-Property Transfer *

 Needed to fix mistake to value was copied from SQLRowsetFactory to
 Remove SQLRowset.

-Invalid Position *

 Needed to change SQLRowsetFactoryRequest to GetSQLRowsetFactory else 
 got an unknown operation problem. What does spec say?

-Invalid Count *

 Needed to change SQLRowsetFactoryRequest to GetSQLRowsetFactory else 
 got an unknown operation problem. What does spec say?

 Disabled InvalidCountFault assertion due to:

 &lt;faultstring&gt;java.lang.NumberFormatException: Invalid unsigned int-1]&lt;/faultstring&gt;

 Changed count to 10 *

 Why doesn't it like -1?

-Remove SQLRowset *
-Remove SQLResponse *

GetSQLRowsetPropertyDocument
-Create SQLResponse Indirect Service *

 Needed to change SQLRowsetFactoryRequest to GetSQLRowsetFactory else 
 got an unknown operation problem.

 Again, needed to disable Schema Compliance error.

-Property Transfer *
-Create SQLRowset Service *
-Property Transfer *
-GetSQLRowsetPropertyDocument *

 Set DatasetFormatURI to wsdai:Zonk. This isn't valid element for 
 property documents? Need to see what the specification says.

-Invalid ResourceName *
-Remove SQLRowset Indirect Service *
-Remove SQLResponse Indirect Service *

GetTuples
-SQLExecuteFactory *
-Property Transfer *
-GetSQLRowsetFactory *

 Needed to change SQLRowsetFactoryRequest to GetSQLRowsetFactory else 
 got an unknown operation problem.

 Again, needed to disable Schema Compliance error.

-Property Transfer *
-GetTuples 1 *

 Disabled assertion that checks the WebRowSet fetch size is 2. Ours is 0.

-GetTuples with no count

 Since we have FORWARD only by default I've moved this to the end.

-No Dataset Format *

 Changed position to 2 since our WebRowSet is FORWARD by default
 and we've already read 2 items.

 And added Count of 2.

-Invalid Dataset Format *
-Invalid ResourceName *
-Invalid Position *

 &lt;faultstring&gt;java.lang.NumberFormatException: Invalid unsigned int-1]&lt;/faultstring&gt;

 Changed to 20.

-Invalid Count *

 &lt;faultstring&gt;java.lang.NumberFormatException: Invalid unsigned int-1]&lt;/faultstring&gt;

 Changed to 20.

-GetTuples with no count *

 Changed XPath to check WebRowSet fetch size from "1" to "0"

-Remove SQLRowset *
-Remove SQLResponse *

CoreDataAccess TestSuite
------------------------

GetDataResourcePropertyDocument TestCase
-GetDataResourcePropertyDocument  *

 Disabled Schema Complance assertion due to

 line 33: Invalid xsi:type qname:
 'ns16:SQLRowsetConfigurationDocumentType' in element
 DefaultConfigurationDocument 
 
 Problem with the implementation? the test? What does the spec say?

&lt;soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ws="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
   &lt;soapenv:Body&gt;
      &lt;PropertyDocument xmlns="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
         &lt;DataResourceAbstractName&gt;wsdai:ogsadai-120af3941ba&lt;/DataResourceAbstractName&gt;
         &lt;DataResourceManagement&gt;ServiceManaged&lt;/DataResourceManagement&gt;
         &lt;ParentDataResource&gt;
            &lt;ns1:Address xmlns:ns1="http://www.w3.org/2005/08/addressing"&gt;http://daiserver.epcc.ed.ac.uk:20300/dai/services/AccessServiceAccessFactoryPT&lt;/ns1:Address&gt;
            &lt;ns2:ReferenceParameters xmlns:ns2="http://www.w3.org/2005/08/addressing"&gt;
               &lt;ns3:DataResourceAbstractName xmlns:ns3="http://www.ggf.org/namespaces/2005/12/WS-DAI/"&gt;wsdai:BookDB&lt;/ns3:DataResourceAbstractName&gt;
            &lt;/ns2:ReferenceParameters&gt;
         &lt;/ParentDataResource&gt;
         &lt;DatasetMap xsi:type="ns4:DatasetMapType" xmlns:ns4="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
            &lt;ns4:MessageQName xmlns:ns5="http://www.ggf.org/namespaces/2005/12/WS-DAIR/"&gt;ns5:GetSQLResponseItem&lt;/ns4:MessageQName&gt;
            &lt;ns4:DatasetFormatURI&gt;http://java.sun.com/xml/ns/jdbc&lt;/ns4:DatasetFormatURI&gt;
         &lt;/DatasetMap&gt;
         &lt;DatasetMap xsi:type="ns6:DatasetMapType" xmlns:ns6="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
            &lt;ns6:MessageQName xmlns:ns7="http://www.ggf.org/namespaces/2005/12/WS-DAIR/"&gt;ns7:GetSQLResponseItem&lt;/ns6:MessageQName&gt;
            &lt;ns6:DatasetFormatURI&gt;http://ogsadai.org.uk/data/csv&lt;/ns6:DatasetFormatURI&gt;
         &lt;/DatasetMap&gt;
         &lt;DatasetMap xsi:type="ns8:DatasetMapType" xmlns:ns8="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
            &lt;ns8:MessageQName xmlns:ns9="http://www.ggf.org/namespaces/2005/12/WS-DAIR/"&gt;ns9:GetSQLRowset&lt;/ns8:MessageQName&gt;
            &lt;ns8:DatasetFormatURI&gt;http://java.sun.com/xml/ns/jdbc&lt;/ns8:DatasetFormatURI&gt;
         &lt;/DatasetMap&gt;
         &lt;DatasetMap xsi:type="ns10:DatasetMapType" xmlns:ns10="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
            &lt;ns10:MessageQName xmlns:ns11="http://www.ggf.org/namespaces/2005/12/WS-DAIR/"&gt;ns11:GetSQLRowset&lt;/ns10:MessageQName&gt;
            &lt;ns10:DatasetFormatURI&gt;http://ogsadai.org.uk/data/csv&lt;/ns10:DatasetFormatURI&gt;
         &lt;/DatasetMap&gt;
         &lt;ConfigurationMap xsi:type="ns12:ConfigurationMapType" xmlns:ns12="http://www.ggf.org/namespaces/2005/12/WS-DAI"&gt;
            &lt;ns12:MessageQName xmlns:ns13="http://www.ggf.org/namespaces/2005/12/WS-DAIR/"&gt;ns13:SQLRowsetFactory&lt;/ns12:MessageQName&gt;
            &lt;ns12:PortTypeQName xmlns:ns14="http://www.ggf.org/namespaces/2005/12/WS-DAIR/"&gt;ns14:SQLRowsetPT&lt;/ns12:PortTypeQName&gt;
            &lt;ns12:ConfigurationDocumentQName xmlns:ns15="http://www.ggf.org/namespaces/2005/12/WS-DAIR/"&gt;ns15:SQLRowsetConfigurationDocumentType&lt;/ns12:ConfigurationDocumentQName&gt;
            &lt;DefaultConfigurationDocument xmlns=""&gt;
               &lt;ns12:ConfigurationDocument xsi:type="ns16:SQLRowsetConfigurationDocumentType" xmlns:ns16="http://www.ggf.org/namespaces/2005/12/WS-DAIR"&gt;
                  &lt;ns12:Readable&gt;true&lt;/ns12:Readable&gt;
                  &lt;ns12:Writeable&gt;false&lt;/ns12:Writeable&gt;
                  &lt;ns12:TransactionInitiation&gt;NotSupported&lt;/ns12:TransactionInitiation&gt;
                  &lt;ns12:TransactionIsolation&gt;NotSupported&lt;/ns12:TransactionIsolation&gt;
                  &lt;ns12:ChildSensitiveToParent&gt;Sensitive&lt;/ns12:ChildSensitiveToParent&gt;
                  &lt;ns12:ParentSensitiveToChild&gt;Sensitive&lt;/ns12:ParentSensitiveToChild&gt;
               &lt;/ns12:ConfigurationDocument&gt;
            &lt;/DefaultConfigurationDocument&gt;
         &lt;/ConfigurationMap&gt;
         &lt;DataResourceDescription/&gt;
         &lt;Readable&gt;true&lt;/Readable&gt;
         &lt;Writeable&gt;false&lt;/Writeable&gt;
         &lt;ConcurrentAccess&gt;true&lt;/ConcurrentAccess&gt;
         &lt;TransactionInitiation&gt;NotSupported&lt;/TransactionInitiation&gt;
         &lt;TransactionIsolation&gt;NotSupported&lt;/TransactionIsolation&gt;
         &lt;ChildSensitiveToParent&gt;Insensitive&lt;/ChildSensitiveToParent&gt;
         &lt;ParentSensitiveToChild&gt;Insensitive&lt;/ParentSensitiveToChild&gt;
      &lt;/PropertyDocument&gt;
   &lt;/soapenv:Body&gt;
&lt;/soapenv:Envelope&gt;

-SQLRowsetFactory *

 Needed to change SQLRowsetFactoryRequest to GetSQLRowsetFactory else 
 got an unknown operation problem.

 Again, needed to disable Schema Compliance error.

-PropertyTransfer *
-SQLRowset GetDataResourcePropertyDocument *
-Remove SQLRowset *
-Remove SQLResponse *

GenericQuery TestCase
-GenericQuery

 No response. Server is

2009-05-05 13:37:42,897 ERROR ser.BeanSerializer [http-20300-Processor25,serialize:274] Exception:
java.io.IOException: Non nillable element 'dataset' is null.

 Suspect this is because we don't actually implement this
 operation. But would expect a nicer response.

-Invalid Resource Name *
-Invalid Dataset Format URI

 No point in testing since the operation is an OGSA-DAI WS-DAIR no-op.

-Invalid Expression

 No point in testing since the operation is an OGSA-DAI WS-DAIR no-op.

-Invalid Language

 No point in testing since the operation is an OGSA-DAI WS-DAIR no-op.

Destroy TestCase
-SQLExecuteFactory *
-PropertyTransfer *
-Remove Resource *
-Remove Invalid Resource *

Test suite questions
--------------------

-Is it possible to run a whole suite from the command-line?

-Do I need to change the references in the SQLAccess,
 SQLAccessFactory ... WSDL definitions from C:\Documents and
 Settings\siahn\My Documents\base to another location? 
 It didn't seem to need this even when doing schema validation!

-If I right-click on SQLAccess, for example, and select Update
 Definition and select the sqlaccess.wsdl from the base.zip on the 
 DAIS-WG Wiki I get a file not found error. But, again, I didn't 
 seem to need this.

-Is base.zip this the official DAIS-WG WSDL or AMGA's customised
 versions?

General
-------

-Need all tests that create resources to clean up afterwards.
-Need more specific validation of faults, not just SOAPFault but more
 specific fault names where these exist. SOAPFault covers a variety of
 errors.
-Need to align these tests with the inter-op tests we agree on and
 Mario's currently working on.
-Need to ensure both tests and assertions are credible.
</pre>

          
            
          







  <div class="WikiAttachment">
    <table width="100%">
      <tr class="PaddedRow">
        
          <td>Attachments:</td>
        
        
      </tr>
      <tr style="vertical-align: top;" class="PaddedRow">
        <td>
          
            
            <a href="../../../../../sfmain/do/downloadAttachment/projects.dais-wg/wiki/wsdair_project.070509ce7c.xml_%3b%20size%3d607843?id=atch4769"><img src="../../../../../../sf-images/icons/doc/document.gif" class="FileTypeIcon"></a>
            <a href="../../../../../sfmain/do/downloadAttachment/projects.dais-wg/wiki/wsdair_project.070509ce7c.xml_%3b%20size%3d607843?id=atch4769">wsdair_project.070509.xml</a>
            [SoapUIDAIInterop/wsdair_project.070509.xml]
            <br/>
          
        </td>
        
      </tr>
    </table>
  </div>

        </td>
      </tr>
      <tr class="ContainerFooter">
        <td>
          <div class="AlignRight">
            
            
            
            
              &nbsp;
            
          </div>
        </td>
      </tr>
    </table>

    <br/>

    

    

    <br/>
    
      <div class="AlignLeft">
        <div class="Button" id="_SfButton_showPageDetails"><div class="Left">&nbsp;</div><div class="Middle">
          <img src="../../../../../../sf-images/icons/plus_minus_closed.gif" style="vertical-align: middle;">
          <a href="SoapUIDAIInterop962a.html?showDetails=true">Show Details</a>
        </div><div class="Right">&nbsp;</div></div>

      </div>
    

    <div class="AlignRight">
      
      







    </div>
  </div>
<!-- SourceForge content end -->

</div>
<!-- SourceForge content-area end -->

<div id="PageLoaded" style="display: none;"></div>


<!-- forge.gridforum.org footer.html -->
<br> <hr>
<table width='100%'> 
 <tr>
  <td align='left'>   <a href='../../../../../../../www.ogf.org/index.html' target='_blank' style='border: 0 px;'><img src='../../../../../../ogf-it/opengridforum.gif' alt='The Open Grid Forum' style='border:0px white solid;'></a><td>
  <td align='center'> <a href='mailto:webmaster@ogf.org'>Contact Webmaster</a> 
                    | <a href="../../../../../tracker/do/createArtifact/projects.ggf-info/tracker.html">Report a problem</a>
                    | <a href="../../projects.ggf-info/wiki/HomePage.html">GridForge Help</a>
                    </td>
  <td align='right'>  
<!--		<img src='/ogf-it/powered_by_dell.gif' alt='Powered by Dell'> -->
<!-- Begin DigiCert/ClickID site seal HTML and JavaScript -->
<div id="DigiCertClickID_sxSDRU4L">
  <a href="http://www.digicert.com/">SSL Certificates</a>
</div>
<script type="text/javascript">
var __dcid = __dcid || [];__dcid.push(["DigiCertClickID_sxSDRU4L", "10", "m", "black", "sxSDRU4L"]);(function(){var cid=document.createElement("script");cid.type="text/javascript";cid.async=true;cid.src=("https:" === document.location.protocol ? "https://" : "http://")+"seal.digicert.com/seals/cascade/seal.min.js";var s = document.getElementsByTagName("script");var ls = s[(s.length - 1)];ls.parentNode.insertBefore(cid, ls.nextSibling);}());
</script>
<!-- End DigiCert/ClickID site seal HTML and JavaScript -->
  </td>
 </tr>
</table>
<!-- google analytics code -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6775861-2");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>

<!-- Mirrored from forge.ogf.org/sf/wiki/do/viewPage/projects.dais-wg/wiki/SoapUIDAIInterop?selectedTab=associations by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Oct 2022 21:52:37 GMT -->
</html>
