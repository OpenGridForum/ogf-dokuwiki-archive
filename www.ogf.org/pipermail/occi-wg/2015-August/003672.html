<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 
<!-- Mirrored from www.ogf.org/pipermail/occi-wg/2015-August/003672.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Sep 2022 21:16:08 GMT -->
<HEAD>
   <TITLE> [occi-wg] Typed Link Kind
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:occi-wg%40ogf.org?Subject=Re%3A%20%5Bocci-wg%5D%20Typed%20Link%20Kind&In-Reply-To=%3C1438667509.3876.133.camel%40free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="https://www.ogf.org/pipermail/occi-wg/2015-August/003669.html">
   <LINK REL="Next"  HREF="https://www.ogf.org/pipermail/occi-wg/2015-August/003670.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[occi-wg] Typed Link Kind</H1>
    <B>Jean Parpaillon</B> 
    <A HREF="mailto:occi-wg%40ogf.org?Subject=Re%3A%20%5Bocci-wg%5D%20Typed%20Link%20Kind&In-Reply-To=%3C1438667509.3876.133.camel%40free.fr%3E"
       TITLE="[occi-wg] Typed Link Kind">jean.parpaillon at free.fr
       </A><BR>
    <I>Tue Aug  4 01:51:49 EDT 2015</I>
    <P><UL>
        <LI>Previous message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2015-August/003669.html">[occi-wg] Typed Link Kind
</A></li>
        <LI>Next message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2015-August/003670.html">[occi-wg] Typed Link Kind
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/date.html#3672">[ date ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/thread.html#3672">[ thread ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/subject.html#3672">[ subject ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/author.html#3672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Le lundi 03 ao&#251;t 2015 &#224; 14:06 +0200, Boris Parak a &#233;crit :
&gt;<i> On Mon, Aug 3, 2015 at 1:58 PM, Jean Parpaillon &lt;
</I>&gt;<i> <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at free.fr</A>&gt; wrote:
</I>&gt;<i> &gt; Hi Boris,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Le lundi 03 ao&#251;t 2015 &#224; 13:24 +0200, Boris Parak a &#233;crit :
</I>&gt;<i> &gt; &gt; Hi Jean,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; that's a very good point. Thanks! I will explore erocci a little 
</I>&gt;<i> &gt; &gt; bit
</I>&gt;<i> &gt; &gt; :-)
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; However, there is one problem we did not discuss yet (AFAIK). 
</I>&gt;<i> &gt; &gt; I've
</I>&gt;<i> &gt; &gt; seen the unfinished DRMAA&lt;-&gt;OCCI document and Peter is using 
</I>&gt;<i> &gt; &gt; complex
</I>&gt;<i> &gt; &gt; instance attributes, such as:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &lt; X-OCCI-Attribute: occi.drmaa2.drmsName=&quot;Platform LSF&quot;
</I>&gt;<i> &gt; &gt; &lt; X-OCCI-Attribute: occi.drmaa2.drmsVersion={&quot;major&quot;:&quot;42&quot;,
</I>&gt;<i> &gt; &gt; &quot;minor&quot;:&quot;0&quot;}
</I>&gt;<i> &gt; &gt; &lt; X-OCCI-Attribute: occi.drmaa2.drmaaName=&quot;Thijs&#8217;s OCCI-DRMAA
</I>&gt;<i> &gt; &gt; backend&quot;
</I>&gt;<i> &gt; &gt; &lt; X-OCCI-Attribute: occi.drmaa2.drmaaVersion={&quot;major&quot;:&quot;2&quot;,
</I>&gt;<i> &gt; &gt; &quot;minor&quot;:&quot;17&quot;}
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; or
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; X-OCCI-Attribute: occi.drmaa2.remoteCommand=&quot;/bin/date&quot;
</I>&gt;<i> &gt; &gt; &gt; X-OCCI-Attribute: occi.drmaa2.machineOS=&quot;LINUX&quot;
</I>&gt;<i> &gt; &gt; &gt; X-OCCI-Attribute: occi.drmaa2.email=[&quot;<A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">peter at troeger.eu</A>&quot;,&quot;
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">tmetsch at platform.com</A>&quot;]
</I>&gt;<i> &gt; &gt; &gt; X-OCCI-Attribute: occi.drmaa2.emailOnTerminated=true
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; As far as I know, this is not something we explored in the main 
</I>&gt;<i> &gt; &gt; OCCI
</I>&gt;<i> &gt; &gt; specification and we need to address it for OCCI 1.2. The Core
</I>&gt;<i> &gt; &gt; document is talking about possible attribute types Object, Array,
</I>&gt;<i> &gt; &gt; Hash
</I>&gt;<i> &gt; &gt; ... but the rendering documents (Text or JSON) do not specify how 
</I>&gt;<i> &gt; &gt; to
</I>&gt;<i> &gt; &gt; render/parse these without ambiguity. Especially in JSON, as you
</I>&gt;<i> &gt; &gt; pointed out, complex instance attribute values cannot be parsed
</I>&gt;<i> &gt; &gt; without the accompanying attribute definitions ... and even with
</I>&gt;<i> &gt; &gt; that,
</I>&gt;<i> &gt; &gt; there is still some ambiguity there due to the unknown structure 
</I>&gt;<i> &gt; &gt; of
</I>&gt;<i> &gt; &gt; the particular instance attribute value.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Let's say we have two instance attributes with Hash values:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; occi.test.case.attr1 = { &quot;subattr1&quot;: { &quot;value1&quot;: &quot;something_here&quot; 
</I>&gt;<i> &gt; &gt; } }
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; occi.test.case.attr1.subattr1 = { &quot;value1&quot; :
</I>&gt;<i> &gt; &gt; &quot;something_different_here&quot; }
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Once rendered into JSON, these two are indistinguishable despite 
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i> &gt; &gt; fact that they are technically two different attributes with two
</I>&gt;<i> &gt; &gt; different values. This is a major problem, especially with the
</I>&gt;<i> &gt; &gt; intended degree of extensibility of OCCI.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Therefore I propose to modify the JSON rendering specification 
</I>&gt;<i> &gt; &gt; and
</I>&gt;<i> &gt; &gt; use
</I>&gt;<i> &gt; &gt; the attribute name as an identifier without any internal 
</I>&gt;<i> &gt; &gt; structure,
</I>&gt;<i> &gt; &gt; i.e. no splitting on '.'.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Am I completely wrong here? Does anyone else think this is a 
</I>&gt;<i> &gt; &gt; problem?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; From to the discussion in January 2014 (still), we agreed this was 
</I>&gt;<i> &gt; not
</I>&gt;<i> &gt; an issue until attribute values are all scalar (string, number,
</I>&gt;<i> &gt; boolean).
</I>&gt;<i> &gt; Some thoughts:
</I>&gt;<i> &gt; 1/ DRMAA spec is incorrect wrt actuel OCCI specifications
</I>&gt;<i> &gt; 2/ do we want to allow complex attribute value types:
</I>&gt;<i> &gt;    Yes -&gt; requires to explicit these types: dictionaries ? list ?
</I>&gt;<i> &gt; tuples ? etc. ? and update all renderings in consequence
</I>&gt;<i> &gt;    No -&gt; DRMAA spec remains incorrect, but how many future spec 
</I>&gt;<i> &gt; will be
</I>&gt;<i> &gt; more complex because of that restriction...
</I>&gt;<i> 
</I>&gt;<i> Oh, sorry, I forgot to say. The current OCCI 1.2 core spec already
</I>&gt;<i> allows complex instance attribute values. That's why I sort of
</I>&gt;<i> resurrected this discussion. It allows
</I>&gt;<i> 
</I>&gt;<i> Object (let's say &quot;any simple value&quot;)
</I>&gt;<i> Array (List)
</I>&gt;<i> Hash (dict)
</I>
Ok, I was not referring to the latest document :)

Cheers,
Jean

&gt;<i> 
</I>&gt;<i> So, yes, we need to update rendering documents. I already added
</I>&gt;<i> comments to the public comment to track this.
</I>&gt;<i> 
</I>&gt;<i> &gt; IMHO: whatever we decide to allow complex attributes in a future 
</I>&gt;<i> &gt; Core
</I>&gt;<i> &gt; spec, JSON rendering should not be a limitation for that.
</I>&gt;<i> 
</I>&gt;<i> Exactly.
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; -&gt; I support your modification to JSON rendering.
</I>&gt;<i> 
</I>&gt;<i> Ok, thanks for your feedback. If we resolve this correctly, the
</I>&gt;<i> proposed 'source.type' and 'target.type' attributes can be safely
</I>&gt;<i> included in OCCI 1.2
</I>&gt;<i> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Thanks!
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Cheers, Boris
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Jean
</I>&gt;<i> 
</I>

&gt;<i> Cheers, Boris
</I>&gt;<i> 
</I>


&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; On Mon, Aug 3, 2015 at 12:46 PM, Jean Parpaillon
</I>&gt;<i> &gt; &gt; &lt;<A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at free.fr</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; Hi Boris,
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Le vendredi 31 juillet 2015 &#224; 23:08 +0200, Boris Parak a &#233;crit 
</I>&gt;<i> &gt; &gt; &gt; :
</I>&gt;<i> &gt; &gt; &gt; &gt; On Fri, Jul 31, 2015 at 5:01 PM, Jean Parpaillon
</I>&gt;<i> &gt; &gt; &gt; &gt; &lt;<A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at free.fr</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Hi Boris,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Le vendredi 31 juillet 2015 &#224; 11:48 +0200, Boris Parak a 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &#233;crit
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; :
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Hi Jean,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; On Fri, Jul 31, 2015 at 10:49 AM, Jean Parpaillon
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &lt;<A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at free.fr</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Hi all,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; With Olivier Barais, in CC, with which I am working on 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; the
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; OCCIware
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; project, we would like to enhance the core 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; specification
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; with a
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; way
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; to
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; constrain the Category of resources pointed out by
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; occi.core.src
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; and
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; occi.core.target attributes of a link.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; For instance, in the infrastructure extension, while it 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; is
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; specified
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; (and easily make sense) a NetworkInterface link must be
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; linked
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; to a
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; compute and a network instance, there is no formal way 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; to
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; define
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; this
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; constraint.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; A proposal would be to add new type of Category, sub
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; -type
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; of
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Kind,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; with
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; following attributes:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; - parent: instantiated as
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; <A HREF="http://schemas.ogf.org/occi/core#link">http://schemas.ogf.org/occi/core#link</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; - occi.core.src.type: additional attribute, type 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; category
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; id
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; - occi.core.target.type: additional attribute, type
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; category id
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; The name of this type of Category could be 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; &quot;TypedLinkKind&quot;.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; What do you think of this ?
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; at first glance, it looks like a reasonable request ... 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; it
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; would
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; definitely improve automated validation and modeling in 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; OCCI.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Especially with previously unknown extensions.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 'occi.core.target' will be a bit problematic, because it 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; can
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; point
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &quot;outside&quot; the local domain. But we could easily cover 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; that by
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; making
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; these attributes optional.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; So, I would consider dropping the TypedLinkKind and 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; include
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; these
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; two
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; attributes in the existing Link kind, as optional. That 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; way
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; we
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; get a
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; typed link, partially typed link and &quot;legacy&quot; link all-in
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; -one.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; While
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; keeping it all backwards compatible. If the type 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; attribute is
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; present,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; you can use it, if not ... well ... you are out of luck :
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; -)
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; As a side note, I would very much like to avoid 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; introducing
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; attribute
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; names with matching prefixes:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; occi.core.target = &quot;value&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; occi.core.target.type = &quot;value&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; This makes JSON rendering really difficult. Would you be 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; OK
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; with
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &quot;target_type&quot; &amp; &quot;source_type&quot;?
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; I would prefer the former one, but I can accept the second 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; one.
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; I know ... 'target.type' makes more sense and is much 
</I>&gt;<i> &gt; &gt; &gt; &gt; prettier to
</I>&gt;<i> &gt; &gt; &gt; &gt; look at.
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; BTW, here is the algortihm I use for inserting any dot
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; -separated
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; attribute name into the JSON tree of attributes, would you 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; be
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; interested in implementing it into rocci:
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; <A HREF="https://github.com/erocci/erocci/blob/master/apps/erocci_co">https://github.com/erocci/erocci/blob/master/apps/erocci_co</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; re/s
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; rc/r
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; ende
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; ring/occi_renderer_json.erl#L194
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; I have to admit that my basic understanding of functional
</I>&gt;<i> &gt; &gt; &gt; &gt; languages
</I>&gt;<i> &gt; &gt; &gt; &gt; is
</I>&gt;<i> &gt; &gt; &gt; &gt; a problem here :-)
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; The occi_rendering_json.code file contains a &quot;pseudo-code&quot; 
</I>&gt;<i> &gt; &gt; &gt; version
</I>&gt;<i> &gt; &gt; &gt; of
</I>&gt;<i> &gt; &gt; &gt; the algorithm, without pattern matching, which is maybe what's
</I>&gt;<i> &gt; &gt; &gt; confusion there.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; How do you deal with complex attribute values? Let's say we 
</I>&gt;<i> &gt; &gt; &gt; &gt; have
</I>&gt;<i> &gt; &gt; &gt; &gt; an
</I>&gt;<i> &gt; &gt; &gt; &gt; attribute
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; occi.test.target = { ... Hash Here ... } // hash has &quot;type&quot; 
</I>&gt;<i> &gt; &gt; &gt; &gt; =&gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; &quot;StringHere&quot; inside it
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; and an attribute
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; occi.test.target.type = &quot;StringHere&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; How would you distinguish between the value for key 'type' in 
</I>&gt;<i> &gt; &gt; &gt; &gt; the
</I>&gt;<i> &gt; &gt; &gt; &gt; attribute value (Hash) of 'occi.test.target' and the 
</I>&gt;<i> &gt; &gt; &gt; &gt; attribute
</I>&gt;<i> &gt; &gt; &gt; &gt; value
</I>&gt;<i> &gt; &gt; &gt; &gt; of 'occi.test.target.type'? How would these be rendered in 
</I>&gt;<i> &gt; &gt; &gt; &gt; JSON
</I>&gt;<i> &gt; &gt; &gt; &gt; together?
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I suppose it is related in some way to the discussion we've had 
</I>&gt;<i> &gt; &gt; &gt; in
</I>&gt;<i> &gt; &gt; &gt; January 2014 ;)
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://www.ogf.org/pipermail/occi-wg/2014-January/003438.html">https://www.ogf.org/pipermail/occi-wg/2014-January/003438.html</A>
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; You will find in attachment an XML description of such complex
</I>&gt;<i> &gt; &gt; &gt; attributes with the JSON output from erocci. Would you like to 
</I>&gt;<i> &gt; &gt; &gt; test
</I>&gt;<i> &gt; &gt; &gt; other cases, you can use the erocci docker, as described here,
</I>&gt;<i> &gt; &gt; &gt; replacing occi.xml with your own schema (like ext1.xml in
</I>&gt;<i> &gt; &gt; &gt; attachment):
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://github.com/erocci/docker-erocci">https://github.com/erocci/docker-erocci</A>
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Rendering the JSON is fine with the above algorithm. Parsing is
</I>&gt;<i> &gt; &gt; &gt; unambiguous but parsing may be tough to implement:
</I>&gt;<i> &gt; &gt; &gt; - when parsing the attribute definition, if &quot;type&quot; value is a
</I>&gt;<i> &gt; &gt; &gt; string,
</I>&gt;<i> &gt; &gt; &gt; it is the type of the attribute, if &quot;type&quot; value is an object, 
</I>&gt;<i> &gt; &gt; &gt; it
</I>&gt;<i> &gt; &gt; &gt; is a
</I>&gt;<i> &gt; &gt; &gt; component of the attribute name.
</I>&gt;<i> &gt; &gt; &gt; - when parsing the attribute instance, &quot;type&quot; can be only an
</I>&gt;<i> &gt; &gt; &gt; attribute
</I>&gt;<i> &gt; &gt; &gt; name component.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; At the end, implementation concerns may be a valid reason for
</I>&gt;<i> &gt; &gt; &gt; forbidding some attribute names, but we must explicit it in the
</I>&gt;<i> &gt; &gt; &gt; specification.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; Could you give me the rendered JSON as an example?
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; See attachment.
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Also, could you, please, include this as a comment here 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; [1],
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; then
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; we
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; can discuss it as a part of public comment on OCCI 1.2 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; and
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; possibly
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; include it :-)
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Done, last minute before end of comments ;)
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Thanks!
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; You're welcome.
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Jean
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; Cheers, Boris
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Cheers,
</I>&gt;<i> &gt; &gt; &gt; Jean
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; [1] <A HREF="https://redmine.ogf.org/boards/26/topics/429">https://redmine.ogf.org/boards/26/topics/429</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Regards,
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Jean Parpaillon
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; Cheers, Boris
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Open Source Consultant
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; OW2 Technology Council Chairman
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Director @ OW2 Consortium
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; OCCIware Strategic Orientation Committee Chairman
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Research Engineer @ Inria
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; Phone: +33 6 30 10 92 86
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; im: <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at gmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; skype: jean.parpaillon
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; linkedin: <A HREF="http://www.linkedin.com/in/jeanparpaillon/en">http://www.linkedin.com/in/jeanparpaillon/en</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; occi-wg mailing list
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">occi-wg at ogf.org</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; &gt; &gt; <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">https://www.ogf.org/mailman/listinfo/occi-wg</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Jean Parpaillon
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Open Source Consultant
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; OW2 Technology Council Chairman
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Director @ OW2 Consortium
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; OCCIware Strategic Orientation Committee Chairman
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Research Engineer @ Inria
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; Phone: +33 6 30 10 92 86
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; im: <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at gmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; skype: jean.parpaillon
</I>&gt;<i> &gt; &gt; &gt; &gt; &gt; linkedin: <A HREF="http://www.linkedin.com/in/jeanparpaillon/en">http://www.linkedin.com/in/jeanparpaillon/en</A>
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; Jean Parpaillon
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; Open Source Consultant
</I>&gt;<i> &gt; &gt; &gt; OW2 Technology Council Chairman
</I>&gt;<i> &gt; &gt; &gt; Director @ OW2 Consortium
</I>&gt;<i> &gt; &gt; &gt; OCCIware Strategic Orientation Committee Chairman
</I>&gt;<i> &gt; &gt; &gt; Research Engineer @ Inria
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; Phone: +33 6 30 10 92 86
</I>&gt;<i> &gt; &gt; &gt; im: <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at gmail.com</A>
</I>&gt;<i> &gt; &gt; &gt; skype: jean.parpaillon
</I>&gt;<i> &gt; &gt; &gt; linkedin: <A HREF="http://www.linkedin.com/in/jeanparpaillon/en">http://www.linkedin.com/in/jeanparpaillon/en</A>
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Jean Parpaillon
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Open Source Consultant
</I>&gt;<i> &gt; OW2 Technology Council Chairman
</I>&gt;<i> &gt; Director @ OW2 Consortium
</I>&gt;<i> &gt; OCCIware Strategic Orientation Committee Chairman
</I>&gt;<i> &gt; Research Engineer @ Inria
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Phone: +33 6 30 10 92 86
</I>&gt;<i> &gt; im: <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at gmail.com</A>
</I>&gt;<i> &gt; skype: jean.parpaillon
</I>&gt;<i> &gt; linkedin: <A HREF="http://www.linkedin.com/in/jeanparpaillon/en">http://www.linkedin.com/in/jeanparpaillon/en</A>
</I>-- 
Jean Parpaillon
--
Open Source Consultant
OW2 Technology Council Chairman
Director @ OW2 Consortium
OCCIware Strategic Orientation Committee Chairman
Research Engineer @ Inria
--
Phone: +33 6 30 10 92 86
im: <A HREF="https://www.ogf.org/mailman/listinfo/occi-wg">jean.parpaillon at gmail.com</A>
skype: jean.parpaillon
linkedin: <A HREF="http://www.linkedin.com/in/jeanparpaillon/en">http://www.linkedin.com/in/jeanparpaillon/en</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2015-August/003669.html">[occi-wg] Typed Link Kind
</A></li>
	<LI>Next message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2015-August/003670.html">[occi-wg] Typed Link Kind
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/date.html#3672">[ date ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/thread.html#3672">[ thread ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/subject.html#3672">[ subject ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2015-August/author.html#3672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://www.ogf.org/mailman/listinfo/occi-wg">More information about the occi-wg
mailing list</a><br>
</body>
<!-- Mirrored from www.ogf.org/pipermail/occi-wg/2015-August/003672.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Sep 2022 21:16:08 GMT -->
</html>
