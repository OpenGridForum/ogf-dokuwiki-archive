<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.ogf.org/pipermail/occi-wg/2009-May/000386.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Oct 2022 22:35:22 GMT -->
<HEAD>
   <TITLE> [occi-wg] Is OCCI the HTTP of Cloud Computing?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:occi-wg%40ogf.org?Subject=%5Bocci-wg%5D%20Is%20OCCI%20the%20HTTP%20of%20Cloud%20Computing%3F&In-Reply-To=21606dcf0905041833t2336db99q7827e1ac944f3193%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="https://www.ogf.org/pipermail/occi-wg/2009-May/000394.html">
   <LINK REL="Next"  HREF="https://www.ogf.org/pipermail/occi-wg/2009-May/000387.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[occi-wg] Is OCCI the HTTP of Cloud Computing?</H1>
    <B>Richard Davies</B> 
    <A HREF="mailto:occi-wg%40ogf.org?Subject=%5Bocci-wg%5D%20Is%20OCCI%20the%20HTTP%20of%20Cloud%20Computing%3F&In-Reply-To=21606dcf0905041833t2336db99q7827e1ac944f3193%40mail.gmail.com"
       TITLE="[occi-wg] Is OCCI the HTTP of Cloud Computing?">richard.davies at elastichosts.com
       </A><BR>
    <I>Tue May  5 08:44:07 CDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2009-May/000394.html">[occi-wg] Is OCCI the HTTP of Cloud Computing?
</A></li>
        <LI>Next message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2009-May/000387.html">[occi-wg] Is OCCI the HTTP of Cloud Computing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/date.html#386">[ date ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/thread.html#386">[ thread ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/subject.html#386">[ subject ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/author.html#386">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Morning Sam!

Thanks for your latest mail, and the work that you have clearly put in to
get some examples, XSLT, etc. up. Here's the ElasticHosts view:

&gt;<i> Amazon use a simple but sprawling XML based API
</I>...
&gt;<i> there are a raft of intellectual property issues as well:
</I>
We definitely agree with you that OCCI can produce a better API than Amazon,
both in terms of IP issues and also a cleaner design. If I were Amazon and
wanted to play hardball, I would (a) allow Eucalyptus, etc to copy my API
for now (since it only helps me gain traction as a defacto standard), (b)
remain vague about IP for now, (c) not support any other API standards while
I remember the defacto standard and (d) later halt or charge fees to any
competition which becomes serious.

(a), (b) and (c) seem well executed to date ;-)



&gt;<i> I am now 100% convinced that the best results are to be had with a variant
</I>&gt;<i> of XML over HTTP
</I>...
&gt;<i> support alternative formats including HTML, JSON and TXT via XML
</I>&gt;<i> Stylesheets
</I>
As you're well aware, we're less in favour of XML. However support for
alternative formats with automatic cross-conversion makes all the versions
equivalently first-class citizens, which is good enough for us.

The XSLT convertors start with XML and convert to the other formats.
In practice, ElasticHosts will likely start with TXT, and convert from there
to the JSON, XML, etc - it would be great to see automatic convertors in
this opposite direction too, to validate that it can be done. Writing these
will also impose discipline and prevent creation of unnecessarily complex
datastructures, which is always a risk in XML.



&gt;<i> You can see the basics in action thanks to my Google App Engine reference
</I>&gt;<i> implementation at <A HREF="http://occitest.appspot.com/">http://occitest.appspot.com/</A> (as well as HTML, JSON and
</I>&gt;<i> TXT versions of same)
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://occitest.appspot.com/">http://occitest.appspot.com/</A>
</I>&gt;<i> <A HREF="http://www.w3.org/2005/08/online_xslt/xslt?xslfile=http%3A%2F%2Focci.googlecode.com%2Fsvn%2Ftrunk%2Fxml%2Focci-to-html.xsl&amp;xmlfile=http%3A%2F%2Foccitest.appspot.com">http://www.w3.org/2005/08/online_xslt/xslt?xslfile=http%3A%2F%2Focci.googlecode.com%2Fsvn%2Ftrunk%2Fxml%2Focci-to-html.xsl&amp;xmlfile=http%3A%2F%2Foccitest.appspot.com</A>
</I>&gt;<i> <A HREF="http://www.w3.org/2005/08/online_xslt/xslt?xslfile=http%3A%2F%2Focci.googlecode.com%2Fsvn%2Ftrunk%2Fxml%2Focci-to-json.xsl&amp;xmlfile=http%3A%2F%2Foccitest.appspot.com">http://www.w3.org/2005/08/online_xslt/xslt?xslfile=http%3A%2F%2Focci.googlecode.com%2Fsvn%2Ftrunk%2Fxml%2Focci-to-json.xsl&amp;xmlfile=http%3A%2F%2Foccitest.appspot.com</A>
</I>&gt;<i> <A HREF="http://www.w3.org/2005/08/online_xslt/xslt?xslfile=http%3A%2F%2Focci.googlecode.com%2Fsvn%2Ftrunk%2Fxml%2Focci-to-text.xsl&amp;xmlfile=http%3A%2F%2Foccitest.appspot.com">http://www.w3.org/2005/08/online_xslt/xslt?xslfile=http%3A%2F%2Focci.googlecode.com%2Fsvn%2Ftrunk%2Fxml%2Focci-to-text.xsl&amp;xmlfile=http%3A%2F%2Foccitest.appspot.com</A>
</I>
I'm not going to comment on the XML, since Enterprise XML design is not our
forte. I will go through the TEXT and JSON versions in some detail.

Here's a sample excerpt in XML:

&gt;<i> &lt;entry&gt;
</I>&gt;<i>   &lt;id&gt;urn:uuid:47bb7df8-587e-47fa-bd89-6f2f81c14b19&lt;/id&gt;
</I>&gt;<i>   &lt;title&gt;Virtual Machine #1&lt;/title&gt;
</I>&gt;<i>   &lt;summary&gt;Sample Compute Resource&lt;/summary&gt;
</I>&gt;<i>   &lt;updated&gt;2009-05-04T09:52:37Z&lt;/updated&gt;
</I>&gt;<i>   &lt;link href=&quot;/47bb7df8-587e-47fa-bd89-6f2f81c14b19&quot; /&gt;
</I>&gt;<i>   &lt;link rel=&quot;<A HREF="http://purl.org/occi/storage#device&quot;">http://purl.org/occi/storage#device&quot;</A> href=&quot;urn:uuid:4cc8cf62-69a4-4650-9e8c-7d4c516884df&quot; title=&quot;Hard Drive&quot;/&gt;
</I>&gt;<i>   &lt;link rel=&quot;<A HREF="http://purl.org/occi/network#interface&quot;">http://purl.org/occi/network#interface&quot;</A> href=&quot;urn:uuid:dc88b244-145f-49e4-be7c-0880dcad42e9&quot; title=&quot;Internet Connection&quot;/&gt;
</I>&gt;<i>   &lt;link rel=&quot;<A HREF="http://purl.org/occi/network#interface&quot;">http://purl.org/occi/network#interface&quot;</A> href=&quot;urn:uuid:253d83dd-e417-4e1f-9958-8c0a63120475&quot; title=&quot;Private Network&quot;/&gt;
</I>&gt;<i> &lt;/entry&gt;
</I>
in JSON:
[I assume the '\n' and '\/' in the strings are mistakes. It'd also be good
if the XSLT-converted JSON had nice indentation, like I've produced below]

&gt;<i> {
</I>&gt;<i>   &quot;id&quot;:&quot;urn:uuid:47bb7df8-587e-47fa-bd89-6f2f81c14b19&quot;,
</I>&gt;<i>   &quot;title&quot;:&quot;Virtual\nMachine\n#1&quot;,
</I>&gt;<i>   &quot;summary&quot;:&quot;Sample\nCompute\nResource&quot;,
</I>&gt;<i>   &quot;updated&quot;:&quot;2009-05-04T09:52:37Z&quot;,
</I>&gt;<i>   &quot;link&quot;:[
</I>&gt;<i>     {
</I>&gt;<i>       &quot;href&quot;:&quot;\/47bb7df8-587e-47fa-bd89-6f2f81c14b19&quot;
</I>&gt;<i>     },
</I>&gt;<i>     {
</I>&gt;<i>       &quot;rel&quot;:&quot;http:\/\/purl.org\/occi\/storage#device&quot;,
</I>&gt;<i>       &quot;href&quot;:&quot;urn:uuid:4cc8cf62-69a4-4650-9e8c-7d4c516884df&quot;,
</I>&gt;<i>       &quot;title&quot;:&quot;Hard\nDrive&quot;
</I>&gt;<i>     },
</I>&gt;<i>     {
</I>&gt;<i>       &quot;rel&quot;:&quot;http:\/\/purl.org\/occi\/network#interface&quot;,
</I>&gt;<i>       &quot;href&quot;:&quot;urn:uuid:dc88b244-145f-49e4-be7c-0880dcad42e9&quot;,
</I>&gt;<i>       &quot;title&quot;:&quot;Internet\nConnection&quot;
</I>&gt;<i>     },
</I>&gt;<i>     {
</I>&gt;<i>       &quot;rel&quot;:&quot;http:\/\/purl.org\/occi\/network#interface&quot;,
</I>&gt;<i>       &quot;href&quot;:&quot;urn:uuid:253d83dd-e417-4e1f-9958-8c0a63120475&quot;,
</I>&gt;<i>       &quot;title&quot;:&quot;Private\nNetwork&quot;
</I>&gt;<i>     }
</I>&gt;<i>   ]
</I>&gt;<i> }
</I>
and in TXT:

&gt;<i> [47bb7df8-587e-47fa-bd89-6f2f81c14b19]
</I>&gt;<i> title|Virtual Machine #1
</I>&gt;<i> summary|Sample Compute Resource
</I>&gt;<i> updated|2009-05-04T09:52:37Z
</I>&gt;<i> link|||/47bb7df8-587e-47fa-bd89-6f2f81c14b19
</I>&gt;<i> link|<A HREF="http://purl.org/occi/storage#device|Hard">http://purl.org/occi/storage#device|Hard</A> Drive|urn:uuid:4cc8cf62-69a4-4650-9e8c-7d4c516884df
</I>&gt;<i> link|<A HREF="http://purl.org/occi/network#interface|Internet">http://purl.org/occi/network#interface|Internet</A> Connection|urn:uuid:dc88b244-145f-49e4-be7c-0880dcad42e9
</I>&gt;<i> link|<A HREF="http://purl.org/occi/network#interface|Private">http://purl.org/occi/network#interface|Private</A> Network|urn:uuid:253d83dd-e417-4e1f-9958-8c0a63120475
</I>&gt;<i> etag|
</I>


Going through the text version...

&gt;<i> [47bb7df8-587e-47fa-bd89-6f2f81c14b19]
</I>
To simplify parsing even further, I'd write this as:

id|47bb7df8-587e-47fa-bd89-6f2f81c14b19

and have the blank line also as the separator between objects

&gt;<i> title|Virtual Machine #1
</I>&gt;<i> summary|Sample Compute Resource
</I>&gt;<i> updated|2009-05-04T09:52:37Z
</I>
These look good - simple key-value pairs.

Presumably we'll also add some actual parameters of the virtual machine,
e.g.

smp|2
cpu|2000
mem|1024

It would be good to work these into the examples, TXT, JSON and XML.

&gt;<i> link|||/47bb7df8-587e-47fa-bd89-6f2f81c14b19
</I>
It's good that we have an end-point for editing the object directly. I'd
make this a simple key-value rather than having blank fields:

link|/47bb7df8-587e-47fa-bd89-6f2f81c14b19

&gt;<i> link|<A HREF="http://purl.org/occi/storage#device|Hard">http://purl.org/occi/storage#device|Hard</A> Drive|urn:uuid:4cc8cf62-69a4-4650-9e8c-7d4c516884df
</I>&gt;<i> link|<A HREF="http://purl.org/occi/network#interface|Internet">http://purl.org/occi/network#interface|Internet</A> Connection|urn:uuid:dc88b244-145f-49e4-be7c-0880dcad42e9
</I>&gt;<i> link|<A HREF="http://purl.org/occi/network#interface|Private">http://purl.org/occi/network#interface|Private</A> Network|urn:uuid:253d83dd-e417-4e1f-9958-8c0a63120475
</I>
There are four fields here: 'link', a schema, a name and an object's UUID.
However there's an important one missing - the specification of _how_ the
other object is bound to the virtual machine (e.g. is the drive bound as IDE
or SCSI, and to which bus? Which network is which virtual NIC?).

This extra field will be needed in the XML too, e.g. as 'type':

&lt;link type=&quot;ide:0:0&quot; rel=&quot;<A HREF="http://purl.org/occi/storage#device&quot;">http://purl.org/occi/storage#device&quot;</A> href=&quot;urn:uuid:4cc8cf62-69a4-4650-9e8c-7d4c516884df&quot; title=&quot;Hard Drive&quot;/&gt;

One this is specified, the first three fields aren't actually necessary in
the TXT version, which can just be:

ide:0:0|4cc8cf62-69a4-4650-9e8c-7d4c516884df
nic:0|dc88b244-145f-49e4-be7c-0880dcad42e9
nic:1|253d83dd-e417-4e1f-9958-8c0a63120475

There's no need to specify the schema, since this is uniquely determined by
the link type (and in any case only relevant to the XML), no need to specify
'link', since it always is for this key, and no need to specify the name,
since that's the name of the object with the given UUID.

&gt;<i> etag|
</I>
What's this doing? Can it be deleted?



Putting these together, the original:

&gt;<i> [47bb7df8-587e-47fa-bd89-6f2f81c14b19]
</I>&gt;<i> title|Virtual Machine #1
</I>&gt;<i> summary|Sample Compute Resource
</I>&gt;<i> updated|2009-05-04T09:52:37Z
</I>&gt;<i> link|||/47bb7df8-587e-47fa-bd89-6f2f81c14b19
</I>&gt;<i> link|<A HREF="http://purl.org/occi/storage#device|Hard">http://purl.org/occi/storage#device|Hard</A> Drive|urn:uuid:4cc8cf62-69a4-4650-9e8c-7d4c516884df
</I>&gt;<i> link|<A HREF="http://purl.org/occi/network#interface|Internet">http://purl.org/occi/network#interface|Internet</A> Connection|urn:uuid:dc88b244-145f-49e4-be7c-0880dcad42e9
</I>&gt;<i> link|<A HREF="http://purl.org/occi/network#interface|Private">http://purl.org/occi/network#interface|Private</A> Network|urn:uuid:253d83dd-e417-4e1f-9958-8c0a63120475
</I>&gt;<i> etag|
</I>
Turns into:

id|47bb7df8-587e-47fa-bd89-6f2f81c14b19
title|Virtual Machine #1
summary|Sample Compute Resource
updated|2009-05-04T09:52:37Z
smp|2
cpu|2000
mem|1024
link|/47bb7df8-587e-47fa-bd89-6f2f81c14b19
ide:0:0|4cc8cf62-69a4-4650-9e8c-7d4c516884df
nic:0|dc88b244-145f-49e4-be7c-0880dcad42e9
nic:1|253d83dd-e417-4e1f-9958-8c0a63120475

Which is shorter, simpler and describes the virtual server more fully (3
extra properties + the link attachment points).


We can also render this same thing in JSON:

{
  &quot;id&quot;: &quot;47bb7df8-587e-47fa-bd89-6f2f81c14b19&quot;,
  &quot;title&quot;: &quot;Virtual Machine #1&quot;,
  &quot;summary&quot;: &quot;Sample Compute Resource&quot;,
  &quot;updated&quot;: &quot;2009-05-04T09:52:37Z&quot;,
  &quot;smp&quot;: 2,
  &quot;cpu&quot;: 2000,
  &quot;mem&quot;: 1024,
  &quot;link&quot;: &quot;/47bb7df8-587e-47fa-bd89-6f2f81c14b19&quot;,
  &quot;ide:0:0&quot;: &quot;4cc8cf62-69a4-4650-9e8c-7d4c516884df&quot;,
  &quot;nic:0&quot;: &quot;dc88b244-145f-49e4-be7c-0880dcad42e9&quot;,
  &quot;nic:1&quot;: &quot;253d83dd-e417-4e1f-9958-8c0a63120475&quot;
}

Which again is shorter, simpler and more descriptive than the original.



Sam: please can you take these changes on board:
- update the XML example with the 3 extra properties, the link attachment
  points and probably some actuators too (like start and stop)
- update the XSLT conversions to produce the improved TXT and JSON formats


Thanks!

Richard.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2009-May/000394.html">[occi-wg] Is OCCI the HTTP of Cloud Computing?
</A></li>
	<LI>Next message: <A HREF="https://www.ogf.org/pipermail/occi-wg/2009-May/000387.html">[occi-wg] Is OCCI the HTTP of Cloud Computing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/date.html#386">[ date ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/thread.html#386">[ thread ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/subject.html#386">[ subject ]</a>
              <a href="https://www.ogf.org/pipermail/occi-wg/2009-May/author.html#386">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.ogf.org/mailman/listinfo/occi-wg">More information about the occi-wg
mailing list</a><br>
</body>
<!-- Mirrored from www.ogf.org/pipermail/occi-wg/2009-May/000386.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Oct 2022 22:35:22 GMT -->
</html>
