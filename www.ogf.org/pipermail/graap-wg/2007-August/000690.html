<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 
<!-- Mirrored from www.ogf.org/pipermail/graap-wg/2007-August/000690.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Oct 2022 21:53:18 GMT -->
<HEAD>
   <TITLE> [GRAAP-WG] Feedback on &quot;Challenges in EU Grid Contracts&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:graap-wg%40ogf.org?Subject=%5BGRAAP-WG%5D%20Feedback%20on%20%22Challenges%20in%20EU%20Grid%20Contracts%22&In-Reply-To=20070828090708.GK29479%40crater.bbswl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="https://www.ogf.org/pipermail/graap-wg/2007-August/000688.html">
   <LINK REL="Next"  HREF="https://www.ogf.org/pipermail/graap-wg/2007-August/000691.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[GRAAP-WG] Feedback on &quot;Challenges in EU Grid Contracts&quot;</H1>
    <B>parkinm at cs.man.ac.uk</B> 
    <A HREF="mailto:graap-wg%40ogf.org?Subject=%5BGRAAP-WG%5D%20Feedback%20on%20%22Challenges%20in%20EU%20Grid%20Contracts%22&In-Reply-To=20070828090708.GK29479%40crater.bbswl"
       TITLE="[GRAAP-WG] Feedback on &quot;Challenges in EU Grid Contracts&quot;">parkinm at cs.man.ac.uk
       </A><BR>
    <I>Wed Aug 29 03:19:37 CDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="https://www.ogf.org/pipermail/graap-wg/2007-August/000688.html">[GRAAP-WG] Feedback on &quot;Challenges in EU Grid Contracts&quot;
</A></li>
        <LI>Next message: <A HREF="https://www.ogf.org/pipermail/graap-wg/2007-August/000691.html">[GRAAP-WG] Feedback on &quot;Challenges in EU Grid Contracts&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/date.html#690">[ date ]</a>
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/thread.html#690">[ thread ]</a>
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/subject.html#690">[ subject ]</a>
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/author.html#690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Karl,

On Aug 28 2007, Karl Czajkowski wrote:

&gt;<i> &gt; For example, how do I know that a service didn't crash between the 
</I>&gt;<i> &gt; transport-level message being accepted and the application processing 
</I>&gt;<i> &gt; it?
</I>&gt;<i> 
</I>&gt;<i> What difference would it make? :-) Is there some difference between
</I>&gt;<i> crashing after the transport ACK or the application ACK?  
</I>
A lot and yes. A transport ack doesn't tell me the application recieved or 
was able to understand the content, for instance.

&gt;<i> You seem to
</I>&gt;<i> be assuming that the application is somehow more trustworthy than the
</I>&gt;<i> transport to buffer/persist a message until application restart can
</I>&gt;<i> make progress.  This is an implementation choice that is not captured
</I>&gt;<i> at all in the WSDL, but in the endpoint software stacks and the SOAP
</I>&gt;<i> bindings that are in use...
</I>
What about server/container crashes? AFAIK TCP doesn't have a persistent 
buffer to protect against server crashes and most containers don't 
(natively) support message persistence unless you use a MOM.

In this case, why not design the protocol so that it can handle these 
situations rather than specifying how it should be implemented?

&gt;<i> &gt; No, not necessarily. Note that business (generally) operates quite 
</I>&gt;<i> &gt; well without third-parties and often uses unreliable messaging to form 
</I>&gt;<i> &gt; contracts. There is also a well-known example (in legal circles, 
</I>&gt;<i> &gt; anyway) used to illustrate the loss of acceptance messages where the 
</I>&gt;<i> &gt; mailbox rule is not being applied, i.e. when acceptance is delivered to 
</I>&gt;<i> &gt; the offeror. It does not require a &quot;reliable delivery model&quot; or &quot;a 
</I>&gt;<i> &gt; trustworthy observer&quot; to be in place.
</I>&gt;<i> 
</I>&gt;<i> I think you are bringing in some of those intuitions I warned
</I>&gt;<i> about... your legal example works because of a presumption of courts
</I>&gt;<i> and evidential proof of due diligence etc.  
</I>
WS-Agreement is going to be used where these institutions don't exist? Any 
resource provider (read business) potentially charging for work can't do 
this in splendid isolation of the existing local regulations and law...

&gt;<i> We could not readily
</I>&gt;<i> assume such an environment for resolving WS-Agreement negotiations,
</I>&gt;<i> since audit systems and legal systems are not within scope of the
</I>&gt;<i> GRAAP-WG. 
</I>
I agree about the audit systems as this would be dependent on the local 
regulations where the service is being provided from.

But, taking into account consideration the impact on business could be 
considered as being in scope if WS-Agreement is to be used between 
businesses (or individual users and businesses).

One of the documents that got me interested in this topic was [1], where it 
states: &quot;[agreements for Grid resources] present a formidable challenge, 
not least because of different international legal frameworks within which 
they have to operate&quot; - others also recognise it can't be ignored.

&gt;<i> We just toss up our hands and say one party is at the mercy
</I>&gt;<i> of the other party sending notice of the decision.  
</I>
As I've said before - the offeree always knows the decision before you. It 
isn't a question of throwing your hands up - this is how it is, therefore 
the offeror must be sure that they a prepared to enter into the contract 
when they make the offer.

&gt;<i> It becomes a
</I>&gt;<i> separate quality of implementation or trust issue for offerors to
</I>&gt;<i> choose offerees.
</I>
Of course, but how do you stop the bad guys? If there are no courts or 
we're outside the legal system (like you mentioned above) who's going to 
take care of them?

&gt;<i> This was important in order to provide a stepping stone for existing,
</I>&gt;<i> traditional resource managers to be updated with WS-Agreement. The
</I>&gt;<i> underlying offer/accept handshake and decision bias is very much
</I>&gt;<i> consistent with conventional job-submission systems.  We were also
</I>&gt;<i> focused on relatively frequent (and automatic) real-time negotiation,
</I>&gt;<i> i.e. the job and transient network QoS usage scenarios that motivated
</I>&gt;<i> the GRAAP charter and its predecessors in the GARA and SNAP work. I
</I>&gt;<i> think concerns about legal status and financial obligations took a
</I>&gt;<i> back seat to concerns about practical distributed resource management.
</I>
As I said in another email, I believe that the legal, distributed computing 
and business aspects all need to be considered together. I also said that I 
think a simple protocol that meets these requirements is achievable.
 
&gt;<i> All the same, I think our solution MAY be applied soundly in an
</I>&gt;<i> environment where more audit and legal rules are available to resolve
</I>&gt;<i> conflicts in retrospect. We took pains to provide the runtime
</I>&gt;<i> extensibility handling so that profiles/extensions could be defined
</I>&gt;<i> for things such as digital signature of offers and acceptance messages
</I>&gt;<i> (early public comments worried about getting digital signatures for
</I>&gt;<i> non-repudiation, and we tried to enable this without making it
</I>&gt;<i> mandatory for traditional Grid use cases).
</I>&gt;<i> 
</I>&gt;<i> &gt; I agree, this is why we use the 'mail box' rule as otherwise we get 
</I>&gt;<i> &gt; into evidential issues about how many times the accept was attempted to 
</I>&gt;<i> &gt; be delivered, etc. But the offeror is still contracted whether they 
</I>&gt;<i> &gt; like it or not.
</I>&gt;<i> 
</I>&gt;<i> If the obligations can be contested based on &quot;how many times the
</I>&gt;<i> accept was attempted to be delivered, etc.&quot;, then what does it mean to
</I>&gt;<i> say the offeror is &quot;contracted&quot;? (I ask this only out of academic
</I>&gt;<i> interest, since you have already advocated the mail box rule.)
</I>
&quot;What does it mean to say the offeror is contracted&quot;? That they are bound 
to their obligations in the contract.

I don't think the offeror would be contesting the obligations though, after 
all they sent them to the offeree. If they made a mistake and the offer was 
accepted - tough. (Like I said before, the offeror better be prepared to 
enter into a contract based on the offer they send).

I presume that what you think may be contestable is whether the contract 
was actually formed or not if the agreement was never recieved. I think 
we've covered this.

&gt;<i> OK, I'll accept this tautology and rephrase my statement to say that
</I>&gt;<i> there is a practical ambiguity in whether the message is an offer or
</I>&gt;<i> not, if one is not using the mail box rule, due to the ability for the
</I>&gt;<i> initiator to pretend not to receive the acceptance.
</I>
If there's a 'practical ambiguity' between telling the difference between 
an offer and not-an-offer, then how do you tell the difference between any 
messages?

If the message semantics/schema are defined and agreed to then you should 
be able to tell the difference and there is no practical ambiguity. If you 
haven't defined the semantics/schema (or have only partially defined them) 
then how can you interoperate at all?
  
&gt;<i> &gt; Thanks for taking the time to privide these clarifications. However 
</I>&gt;<i> &gt; they don't address the other question of the resource provider having 
</I>&gt;<i> &gt; to 'lock' it's resources in a 2PC-style when it makes an offer, as was 
</I>&gt;<i> &gt; also discussed (and a solution proposed) in our paper.
</I>&gt;<i> 
</I>&gt;<i> I am not sure I know what question or solution you mean here.  
</I>
See the original discussion on 2PC being a blocking protocol.

&gt;<i> All I see in my reading of the document is a statement that a resource
</I>&gt;<i> provider should be the offeree to avoid live lock.  Is this what you
</I>&gt;<i> mean?
</I>
Yes, the resource provider should always be the offeree to avoid locking 
its resources until it knows the other party is willing to make a contract 
for those resources. It avoids any possibility of a denial-of-service 
attack on the resource provider.

&gt;<i> WS-Agreement defines the initiator/responder roles (offeror and
</I>&gt;<i> offeree as you say) and is silent on resource provider/consumer roles
</I>&gt;<i> because these concepts are inherently domain-specific. 
</I>
I don't agree - generally, this is domain-independent precisely because the 
supplier or provider won't want to commit their goods before they know they 
are being sold. It also gives them the opportunity to say 'no' in case they 
have made a mistake or want to offer them to someone else. I say generally, 
because this may happen but it's a marginal case. Can you give me some 
examples where the offeror is the supplier/provider?
 
&gt;<i> Your example in the document has a (to my eye) unusual scenario where
</I>&gt;<i> a user &quot;asks for a quote&quot; and the computing service makes the offer.
</I>
Our e-Challenges paper? If so, then this example (&quot;computing service makes 
the offer&quot;) is used to illustrate why computing services shouldn't make 
offers - we weren't advocating it!

Also, if &quot;the computing service mak[ing] the offer&quot; is an &quot;unusual 
scenario&quot;, why does the protocol Dominic wrote up from your emails [2] 
describe this very situation? (Step 5).

&gt;<i> This is something we could have handled in SNAP via our invitation
</I>&gt;<i> message, but the GRAAP-WG intentionally removed this capability.  As I
</I>&gt;<i> described in an earlier email, one could approximate this through a
</I>&gt;<i> sophisticated use of advertisements (templates) and some template
</I>&gt;<i> exchange system, but I think it is safe to say we marginalized this
</I>&gt;<i> use case.
</I>
I'm interested to know why this is a marginal use case for GRAAP-WG. I feel 
it is central in any agreement process in order for both parties to let the 
other know what they want/are providing without issuing any binding offers.

I also believe it doesn't have to be &quot;sophisticated&quot; - eCommerce web sites 
(i.e. distributed Internet-based services selling finite resources) seem to 
do quite well with web pages.
 
&gt;<i> Interestingly, we found that there are differences of opinion as to
</I>&gt;<i> what the &quot;resource&quot; is in some concrete examples! 
</I>
In my opinion a resource can be anything that can be traded. Time, money, a 
book, a house...

&gt;<i> It really depends
</I>&gt;<i> on the domain, market, and community as to which aspect/role of the
</I>&gt;<i> SLA is the more rare resource worth optimizing.  If we assume that
</I>&gt;<i> SLAs are about exchange of resource/service, the question is whether
</I>&gt;<i> one party has a worse opportunity cost in obligating their resource in
</I>&gt;<i> exchange for the other party's resource.  If so, it would be
</I>&gt;<i> preferable to allow the party with the worst opportunity cost to act
</I>&gt;<i> as the offeree.
</I>
Sorry, but what does &quot;worst opportunity cost&quot; mean? Please, in a couple of 
sentences :-)

Michael. 

[1] <A HREF="ftp://ftp.cordis.lu/pub/ist/docs/grids/ngg3_eg_final.pdf">ftp://ftp.cordis.lu/pub/ist/docs/grids/ngg3_eg_final.pdf</A>
[2] <A HREF="https://cit-server.cit.tu-berlin.de/trac/negmgr/wiki/TwoPhaseCommit">https://cit-server.cit.tu-berlin.de/trac/negmgr/wiki/TwoPhaseCommit</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="https://www.ogf.org/pipermail/graap-wg/2007-August/000688.html">[GRAAP-WG] Feedback on &quot;Challenges in EU Grid Contracts&quot;
</A></li>
	<LI>Next message: <A HREF="https://www.ogf.org/pipermail/graap-wg/2007-August/000691.html">[GRAAP-WG] Feedback on &quot;Challenges in EU Grid Contracts&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/date.html#690">[ date ]</a>
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/thread.html#690">[ thread ]</a>
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/subject.html#690">[ subject ]</a>
              <a href="https://www.ogf.org/pipermail/graap-wg/2007-August/author.html#690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.ogf.org/mailman/listinfo/graap-wg">More information about the graap-wg
mailing list</a><br>
</body>
<!-- Mirrored from www.ogf.org/pipermail/graap-wg/2007-August/000690.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Oct 2022 21:53:18 GMT -->
</html>
